(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mainPages-submitOrder-submitOrder"],{"06ef":function(e,t,a){var i=a("4da7");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("4f06").default;n("248b968c",i,!0,{sourceMap:!1,shadowMode:!1})},"086e":function(e,t,a){"use strict";var i=a("e24e"),n=a.n(i);n.a},"0dfc":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"page"},[a("v-uni-view",{staticClass:"pop",class:["pop--"+e.type,{"pop--show":e.show}]},[e.overlay?a("v-uni-view",{staticClass:"pop__mask",class:{"pop__mask--hide":!e.showOverlay},on:{click:function(t){t=e.$handleEvent(t),e.handleMaskClick(t)}}}):e._e(),a("v-uni-view",{staticClass:"pop__container"},[e._t("default")],2)],1)],1)},n=[];a.d(t,"a",function(){return i}),a.d(t,"b",function(){return n})},"0ec5":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"bindPhone"},[a("PopManager",{attrs:{show:e.show},on:{clickmask:function(t){t=e.$handleEvent(t),e.closePop(t)}}},[a("v-uni-view",{staticClass:"show"},[a("v-uni-image",{attrs:{src:"/static/images/merchant/addPhone.png"}}),a("v-uni-view",{staticClass:"showPackage"},[a("v-uni-view",{staticClass:"showTitle"},[a("span",[e._v("绑定手机号")])]),a("v-uni-view",{staticClass:"showTitle2"},[a("span",[e._v("为了您的账号安全，请及时绑定手机号")])]),a("v-uni-view",{staticClass:"userNameInput"},[a("v-uni-input",{attrs:{placeholder:"请输入手机号"},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}})],1),a("v-uni-view",{staticClass:"userSmsInput"},[a("v-uni-input",{attrs:{placeholder:"请输入验证码",type:"number",maxlength:"4"},model:{value:e.smsCode,callback:function(t){e.smsCode=t},expression:"smsCode"}}),0==e.timeCount?a("v-uni-view",{staticClass:"getSms",on:{click:function(t){t=e.$handleEvent(t),e.PIN(t)}}},[a("span",[e._v("获取验证码")])]):a("v-uni-view",{staticClass:"getSms"},[a("span",[e._v(e._s(e.timeEnd))])])],1),a("v-uni-view",{staticClass:"showSubmitButton",on:{click:function(t){t=e.$handleEvent(t),e.changeMobile(t)}}},[a("span",[e._v("绑定手机号")])])],1)],1)],1)],1)},n=[];a.d(t,"a",function(){return i}),a.d(t,"b",function(){return n})},1068:function(e,t,a){t=e.exports=a("2350")(!1),t.push([e.i,".pop[data-v-92c2c32e]{visibility:hidden}.pop--show[data-v-92c2c32e]{visibility:visible}.pop__mask[data-v-92c2c32e]{position:fixed;top:0;left:0;right:0;bottom:0;z-index:100;background:rgba(0,0,0,.5);display:none}.pop__mask--hide[data-v-92c2c32e]{background:0 0}.pop__container[data-v-92c2c32e]{position:fixed;left:50%;top:50%;-webkit-transform:translate3d(-50%,-50%,0);transform:translate3d(-50%,-50%,0);-webkit-transform-origin:center;-ms-transform-origin:center;transform-origin:center;-webkit-transition:all .3s ease;-o-transition:all .3s ease;transition:all .3s ease;z-index:200;opacity:0}.pop--show .pop__container[data-v-92c2c32e]{opacity:1}.pop--show .pop__mask[data-v-92c2c32e]{display:block}.pop--left .pop__container[data-v-92c2c32e]{left:0;top:50%;-webkit-transform:translate3d(-100%,-50%,0);transform:translate3d(-100%,-50%,0)}.pop--show.pop--left .pop__container[data-v-92c2c32e]{-webkit-transform:translate3d(0,-50%,0);transform:translate3d(0,-50%,0)}.pop--right .pop__container[data-v-92c2c32e]{right:0;top:50%;left:auto;-webkit-transform:translate3d(100%,-50%,0);transform:translate3d(100%,-50%,0)}.pop--show.pop--right .pop__container[data-v-92c2c32e]{-webkit-transform:translate3d(0,-50%,0);transform:translate3d(0,-50%,0)}.pop--bottom .pop__container[data-v-92c2c32e]{top:auto;left:50%;bottom:0;-webkit-transform:translate3d(-50%,100%,0);transform:translate3d(-50%,100%,0)}.pop--show.pop--bottom .pop__container[data-v-92c2c32e]{-webkit-transform:translate3d(-50%,0,0);transform:translate3d(-50%,0,0)}.pop--top .pop__container[data-v-92c2c32e]{top:0;left:50%;-webkit-transform:translate3d(-50%,-100%,0);transform:translate3d(-50%,-100%,0)}.pop--show.pop--top .pop__container[data-v-92c2c32e]{-webkit-transform:translate3d(-50%,0,0);transform:translate3d(-50%,0,0)}",""])},4013:function(e,t,a){"use strict";a.r(t);var i=a("ce2a"),n=a.n(i);for(var s in i)"default"!==s&&function(e){a.d(t,e,function(){return i[e]})}(s);t["default"]=n.a},"47b8":function(e,t,a){"use strict";var i=a("06ef"),n=a.n(i);n.a},"4da7":function(e,t,a){t=e.exports=a("2350")(!1),t.push([e.i,".userSmsInput[data-v-12aa155e]{width:%?500?%;height:%?90?%;background:#f8f8f8;border-radius:%?10?%;margin-top:%?20?%}.userSmsInput>uni-input[data-v-12aa155e]{vertical-align:middle;display:inline-block;height:%?90?%;width:%?250?%;margin-left:%?30?%;font-size:%?28?%;color:#333}.showTitle2[data-v-12aa155e]{margin-top:%?16?%;font-size:%?24?%;color:#999}.bindPhone[data-v-12aa155e]{font-size:0}.getSms[data-v-12aa155e]{margin-left:%?30?%;vertical-align:middle;display:inline-block;width:%?160?%;height:%?58?%;background:#f44;border-radius:%?6?%;text-align:center}.getSms>span[data-v-12aa155e]{line-height:%?58?%;font-size:%?24?%;color:#fff}.show[data-v-12aa155e]{width:%?600?%;height:%?624?%;background:#fff;border-radius:%?20?%;overflow:hidden}.show>uni-image[data-v-12aa155e]{width:%?600?%;height:%?112?%}.showTitle[data-v-12aa155e]{font-size:%?36?%;color:#333}.showTitle2[data-v-12aa155e]{margin-top:%?16?%;font-size:%?24?%;color:#999}.showPackage[data-v-12aa155e]{padding:0 %?50?% %?50?% %?50?%}.userNameInput[data-v-12aa155e]{margin-top:%?50?%;width:%?500?%;height:%?90?%;background:#f8f8f8;border-radius:%?10?%}.userNameInput>uni-input[data-v-12aa155e]{height:%?90?%;margin-left:%?30?%;font-size:%?28?%;color:#333}.showSubmitButton[data-v-12aa155e]{margin:%?40?% auto 0 auto;width:%?292?%;height:%?74?%;background:#f44;border-radius:%?37?%;text-align:center}.showSubmitButton>span[data-v-12aa155e]{line-height:%?74?%;font-size:%?28?%;color:#fff}",""])},"58dc":function(e,t,a){"use strict";a.r(t);var i=a("0ec5"),n=a("7535");for(var s in n)"default"!==s&&function(e){a.d(t,e,function(){return n[e]})}(s);a("47b8");var o=a("2877"),r=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"12aa155e",null);t["default"]=r.exports},6087:function(e,t,a){var i=a("beec");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("4f06").default;n("529c113d",i,!0,{sourceMap:!1,shadowMode:!1})},7535:function(e,t,a){"use strict";a.r(t);var i=a("e1d0"),n=a.n(i);for(var s in i)"default"!==s&&function(e){a.d(t,e,function(){return i[e]})}(s);t["default"]=n.a},7570:function(e,t,a){"use strict";var i=a("6087"),n=a.n(i);n.a},"967c":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"page"},[a("v-uni-view",{staticClass:"header_bg",style:{"background-image":" url("+e.imageRoot+"submit_bg.png)"}}),a("v-uni-view",{staticClass:"submitOrder p-r"},[1==e.orderSubmitInfo.usestatus?a("v-uni-view",{staticClass:"receivingAdress"},[a("v-uni-view",{staticClass:"receivingAdressPackage",on:{click:function(t){t=e.$handleEvent(t),e.goAddress(1)}}},[e.orderSubmitInfo.address?[a("v-uni-view",{staticClass:"receivingAdressLeft"},[a("v-uni-view",{staticClass:"receivingAdressTitle"},[1==e.orderSubmitInfo.address.status?a("v-uni-view",[a("span",[e._v("默认")])]):e._e(),a("span",[e._v(e._s(e.orderSubmitInfo.address.province)+" "+e._s(e.orderSubmitInfo.address.city)+" "+e._s(e.orderSubmitInfo.address.county))])],1),a("v-uni-view",{staticClass:"receivingAdressBody"},[a("span",[e._v(e._s(e.orderSubmitInfo.address.detailed_address))])]),a("v-uni-view",{staticClass:"receivingAdressFoot"},[a("span",[e._v(e._s(e.orderSubmitInfo.address.name))]),a("span",[e._v(e._s(e.orderSubmitInfo.address.tel))])])],1)]:[a("v-uni-view",{staticClass:"col-9 f-28"},[e._v("请选择地址")])],a("v-uni-view",{staticClass:"receivingAdressRight iconfont icon-right col-9"})],2),a("v-uni-view",{staticClass:"receiptDetailsFoot"})],1):e._e(),2==e.orderSubmitInfo.usestatus?a("v-uni-view",{staticClass:"checkOrderType"},[a("v-uni-view",{staticClass:"checkOrderTypeButton"},[a("v-uni-view",{class:[1==e.usestatus?"check":"nCheck checkOne ncheck1"],on:{click:function(t){t=e.$handleEvent(t),e.usestatus=1}}},[a("span",[e._v("物流配送")])]),a("v-uni-view",{class:[0==e.usestatus?"check check2":"nCheck"],on:{click:function(t){t=e.$handleEvent(t),e.usestatus=0}}},[a("span",[e._v("到店核销")])]),a("v-uni-view",{class:[1==e.usestatus?"checkPs":"Ps"],on:{click:function(t){t=e.$handleEvent(t),e.usestatus=1}}}),a("v-uni-view",{class:[0==e.usestatus?"checkHx":"Hx"],on:{click:function(t){t=e.$handleEvent(t),e.usestatus=0}}}),a("v-uni-view"),a("v-uni-view",{staticClass:"receiptDetailsFoot"})],1),1==e.usestatus?a("v-uni-view",{staticClass:"checkReceivingAdress",class:{"check-right-radius":1==e.usestatus}},[a("v-uni-view",{staticClass:"receivingAdressPackage dis-flex flex-y-center flex-x-between",on:{click:function(t){t=e.$handleEvent(t),e.goAddress(1)}}},[e.orderSubmitInfo.address?[a("v-uni-view",{staticClass:"receivingAdressLeft"},[a("v-uni-view",{staticClass:"receivingAdressTitle"},[1==e.orderSubmitInfo.address.status?a("v-uni-view",[a("span",[e._v("默认")])]):e._e(),a("span",[e._v(e._s(e.orderSubmitInfo.address.province)+" "+e._s(e.orderSubmitInfo.address.city)+" "+e._s(e.orderSubmitInfo.address.county))])],1),a("v-uni-view",{staticClass:"receivingAdressBody"},[a("span",[e._v(e._s(e.orderSubmitInfo.address.detailed_address))])]),a("v-uni-view",{staticClass:"receivingAdressFoot"},[a("span",[e._v(e._s(e.orderSubmitInfo.address.name))]),a("span",[e._v(e._s(e.orderSubmitInfo.address.tel))])])],1)]:[a("v-uni-view",{staticClass:"col-9 f-28"},[e._v("请选择地址")])],a("v-uni-view",{staticClass:"receivingAdressRight iconfont icon-right col-9"})],2),a("v-uni-view",{staticClass:"receiptDetailsFoot"})],1):e._e(),0==e.usestatus?a("v-uni-view",{staticClass:"checkUserInfo",class:{"check-left-radius":0==e.usestatus}},[a("v-uni-view",{staticClass:"userInfoPackage"},[a("v-uni-view",[a("span",[e._v("姓名")]),a("v-uni-input",{attrs:{placeholder:"请输入联系人姓名"},model:{value:e.createOrderInfo.thname,callback:function(t){e.$set(e.createOrderInfo,"thname",t)},expression:"createOrderInfo.thname"}})],1),a("v-uni-view",[a("span",[e._v("联系电话")]),a("v-uni-input",{attrs:{placeholder:"请输入联系人电话",type:"number"},model:{value:e.createOrderInfo.thmobile,callback:function(t){e.$set(e.createOrderInfo,"thmobile",t)},expression:"createOrderInfo.thmobile"}})],1)],1)],1):e._e()],1):e._e(),a("v-uni-view",{staticClass:"orderDetails"},[a("v-uni-view",{staticClass:"orderDetailsPackage"},[a("v-uni-view",{staticClass:"orderDetailsImg"},[a("v-uni-image",{attrs:{src:e.orderSubmitInfo.goodsimg}})],1),a("v-uni-view",{staticClass:"orderDetailsInfo"},[a("v-uni-view",{staticClass:"orderInfoTitle"},[a("span",[e._v(e._s(e.orderSubmitInfo.goodsname))])]),""!==e.orderSubmitInfo.optionname?a("v-uni-view",{staticClass:"orderInfoBody"},[a("span",[e._v("规格："+e._s(e.orderSubmitInfo.optionname))])]):e._e(),a("v-uni-view",{staticClass:"orderInfoFoot"},[a("span",[e._v("¥"+e._s(e.orderSubmitInfo.goodsprice))]),a("span",[e._v("x"+e._s(e.num))])])],1)],1)],1),1===e.orderSubmitInfo.is_openvip&&e.orderSubmitInfo.carddiscount>0&&0===e.orderSubmitInfo.halfcardflag?a("v-uni-view",{staticClass:"member b-f  bor-radius-10upx"},[a("v-uni-view",{staticClass:"member-header dis-flex"},[a("v-uni-view",{staticClass:"header-left dis-flex flex-y-center"},[a("v-uni-view",{staticClass:"left-member-logo"}),a("v-uni-view",{staticClass:"left-member-title f-24 onelist-hidden"},[e._v(e._s(e.TextSubstitution.halfcardtext?e.TextSubstitution.halfcardtext:"会员卡"))])],1),a("v-uni-view",{staticClass:"header-right f-24 t-c col-3"},[e._v("现在勾选开卡，本单再减"),a("v-uni-text",[e._v("¥"+e._s(e.orderSubmitInfo.carddiscount))])],1)],1),a("v-uni-view",{staticClass:"member-list"},[a("v-uni-scroll-view",{attrs:{"scroll-y":"true"}},[e._l(e.cardList,function(t,i){return i<=e.member_number?[a("v-uni-view",{key:i+"_0",staticClass:"member-list-items border-line border-bottom",on:{click:function(a){a=e.$handleEvent(a),e.select_card(t)}}},[a("v-uni-view",{staticClass:"member-name-nowprice dis-flex flex-x-between m-btm10"},[a("v-uni-view",{staticClass:"col-3 f-28"},[e._v(e._s(t.name))]),a("v-uni-view",{staticClass:"member-nowprice f-28 f-w"},[e._v("¥"+e._s(t.price))])],1),a("v-uni-view",{staticClass:"member-date-oldprice dis-flex flex-x-between"},[a("v-uni-view",{staticClass:"col-9 f-24"},[e._v("有效期："+e._s(t.days)+"天")]),a("v-uni-view",{staticClass:"col-9 f-24",staticStyle:{"text-decoration":"line-through"}},[e._v("¥"+e._s(t.price))])],1),a("v-uni-view",{staticClass:"select-logo"},[a("v-uni-image",{attrs:{src:t.id===e.cardId?"/static/images/checkout/selectmember.png":"/static/images/checkout/not-selectmember.png",mode:""}})],1)],1)]:e._e()})],2),e.cardList.length>1?a("v-uni-view",{staticClass:"member-list-more t-c f-28 col-3 p-top-bom-10",on:{click:function(t){t=e.$handleEvent(t),e.moreCardList(t)}}},[e._v(e._s(e.cardList.length===e.member_number?"收起":"全部")),a("v-uni-text",{staticClass:"iconfont more-icon",class:e.cardList.length===e.member_number?"icon-fold":"icon-unfold"})],1):e._e()],1)],1):e._e(),e.orderSubmitInfo.credit>0&&"8"!==e.createOrderInfo.plugin?a("v-uni-view",{staticClass:"integralInfo"},[a("v-uni-view",{staticClass:"integralInfoPackage"},[a("v-uni-view",[a("span",[e._v("积分 共"+e._s(e.orderSubmitInfo.allcredit)+"分，可用"+e._s(e.orderSubmitInfo.credit)+"分")])]),a("v-uni-view",{staticClass:"switch",style:0===e.integralType?"border:1px solid #CCCCCC":"border:1px solid #FF4444"},[1==e.integralType?a("v-uni-view",{staticClass:"switchOn",on:{click:function(t){t=e.$handleEvent(t),e.changIntegral(0)}}},[a("span"),a("v-uni-view",{class:{isswitchOn:1===e.integralType}})],1):e._e(),0==e.integralType?a("v-uni-view",{staticClass:"switchClose",on:{click:function(t){t=e.$handleEvent(t),e.changIntegral(1)}}},[a("v-uni-view",{class:{isswitchClose:0===e.integralType}}),a("span")],1):e._e()],1)],1)],1):e._e(),a("v-uni-view",{staticClass:"paymentInfo"},[a("v-uni-view",{staticClass:"paymentInfoPackage"},[a("v-uni-view",[a("span",[e._v("商品总金额")]),a("span",[e._v("¥"+e._s(e.orderSubmitInfo.goodsprice*e.num))])]),1==e.orderSubmitInfo.usestatus?a("v-uni-view",[a("span",[e._v("运费")]),a("span",[e._v("¥"+e._s(e.orderSubmitInfo.expressprice))])]):e._e(),2==e.orderSubmitInfo.usestatus&&1==e.usestatus?a("v-uni-view",[a("span",[e._v("运费")]),a("span",[e._v("¥"+e._s(e.orderSubmitInfo.expressprice))])]):e._e(),e.cardId&&e.card_price>0?a("v-uni-view",[a("span",[e._v("会员卡金额")]),a("span",[e._v(e._s(e.card_price))])]):e._e(),""!==e.orderSubmitInfo.orderSubmitInfo&&""!==e.orderSubmitInfo.vipdiscount&&0!==e.orderSubmitInfo.vipdiscount||e.cardId?a("v-uni-view",[a("span",[e._v("会员优惠")]),a("span",[e._v("-"+e._s(e.cardId?e.orderSubmitInfo.carddiscount:e.orderSubmitInfo.vipdiscount))])]):e._e(),1==e.integralType&&"8"!==e.createOrderInfo.plugin?a("v-uni-view",[a("span",[e._v("积分抵扣")]),a("span",[e._v("-"+e._s(e.orderSubmitInfo.creditdiscount))])]):e._e(),""!=e.group_id||!e.orderSubmitInfo.is_com_dis&&"1"!=e.orderSubmitInfo.is_com_dis?e._e():a("v-uni-view",[a("span",[e._v("团长优惠")]),a("span",[e._v("-"+e._s(e.orderSubmitInfo.com_dis_price))])]),"8"==e.createOrderInfo.plugin?a("v-uni-view",[a("span",[e._v("使用积分")]),a("span",[e._v(e._s(e.orderSubmitInfo.credit)+"积分")])]):e._e()],1)],1),0==e.orderSubmitInfo.usestatus?a("v-uni-view",{staticClass:"userInfo"},[a("v-uni-view",{staticClass:"userInfoPackage"},[a("v-uni-view",[a("span",[e._v("姓名")]),a("v-uni-input",{attrs:{placeholder:"请输入联系人姓名"},model:{value:e.createOrderInfo.thname,callback:function(t){e.$set(e.createOrderInfo,"thname",t)},expression:"createOrderInfo.thname"}})],1),a("v-uni-view",[a("span",[e._v("联系电话")]),a("v-uni-input",{attrs:{placeholder:"请输入联系人电话",type:"number"},model:{value:e.createOrderInfo.thmobile,callback:function(t){e.$set(e.createOrderInfo,"thmobile",t)},expression:"createOrderInfo.thmobile"}})],1)],1)],1):e._e(),a("v-uni-view",{staticClass:"messageSave"},[a("v-uni-view",{staticClass:"messageSavePackage"},[a("v-uni-input",{attrs:{placeholder:"请输入留言信息给卖家"},model:{value:e.createOrderInfo.remark,callback:function(t){e.$set(e.createOrderInfo,"remark",t)},expression:"createOrderInfo.remark"}})],1)],1),a("v-uni-view",{staticClass:"full"}),a("v-uni-view",{staticClass:"navButtom"},[a("v-uni-view",{staticClass:"navButtomLeft"},[a("v-uni-view",{staticClass:"navButtomLeftPackage"},[a("span",[e._v("合计：")]),a("span",[e._v("¥"+e._s(e.actual_pay_price))])])],1),a("v-uni-form",{attrs:{"report-submit":"true"},on:{submit:function(t){t=e.$handleEvent(t),e.createOrder(t)}}},[a("v-uni-view",{staticClass:"submitButton p-r"},[a("span",[e._v("提交订单")]),a("v-uni-button",{attrs:{"form-type":"submit"}})],1)],1)],1)],1),a("bindPhone",{attrs:{show:e.popShow},on:{clickmask:function(t){t=e.$handleEvent(t),e.closePop(t)}}})],1)},n=[];a.d(t,"a",function(){return i}),a.d(t,"b",function(){return n})},"9ae2":function(e,t,a){"use strict";var i=a("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("c5f6");var n=i(a("3099")),s=(i(a("9e9f")),i(a("a81a"))),o=i(a("58dc")),r={components:{bindPhone:o.default},data:function(){return{orderSubmitInfo:{},integralType:0,num:null,allMoney:0,addressid:"",id:"",usestatus:1,allUsestatus:0,buystatus:"",createOrderInfo:{id:null,creditstatus:"",num:null,plugin:1,specid:177,thname:"",thmobile:"",addressid:"",remark:"",buystatus:null},popShow:!1,cardList:[],cardId:null,card_price:null,member_number:0}},onShow:function(e){this.init()},onLoad:function(e){e.group_id?this.group_id=e.group_id:this.group_id="",this.createOrderInfo.id=e.goods_id,this.createOrderInfo.plugin=e.plugin,this.createOrderInfo.specid=e.specid,this.num=e.goods_num,this.createOrderInfo.num=e.goods_num,this.buystatus=e.buystatus,this.createOrderInfo.buystatus=e.buystatus,console.log(typeof e.plugin);var t={goods_id:e.goods_id,plugin:e.plugin,specid:e.specid,goods_num:e.goods_num,buystatus:e.buystatus};uni.setStorageSync("orderInfos",t),this.init()},watch:{usestatus:{handler:function(){var e=this;2==e.orderSubmitInfo.usestatus&&1==e.usestatus&&(e.allMoney=s.default.additionFloat(e.allMoney,e.orderSubmitInfo.expressprice,100)),2==e.orderSubmitInfo.usestatus&&0==e.usestatus&&(e.allMoney=s.default.subtractionFloat(e.allMoney,e.orderSubmitInfo.expressprice,100))}},integralType:{handler:function(){var e=this,t=Number(e.orderSubmitInfo.creditdiscount);e.createOrderInfo.creditstatus=e.integralType,0==e.integralType&&""!==e.orderSubmitInfo.creditdiscount&&(e.allMoney=s.default.additionFloat(e.allMoney,t,100)),1==e.integralType&&""!==e.orderSubmitInfo.creditdiscount&&(e.allMoney=s.default.subtractionFloat(e.allMoney,t,100))}}},computed:{TextSubstitution:function(){return uni.getStorageSync("TextSubstitution")},actual_pay_price:function(){var e=this,t=e.orderSubmitInfo,a=e.num,i=e.cardId,n=e.integralType,s=e.card_price,o=e.usestatus,r=0,d="2"===t.usestatus&&1===o&&t.expressprice?t.expressprice:0,c=t.goodsprice*Number(a);return 1===t.is_openvip&&i&&t.carddiscount>0&&(c-=Number(t.carddiscount)),t.vipdiscount&&t.vipdiscount>0&&(c-=t.vipdiscount),1===n&&(c-=Number(t.creditdiscount)),1===n&&(c-=Number(t.creditdiscount)),""!=e.group_id||!e.orderSubmitInfo.is_com_dis&&"1"!=e.orderSubmitInfo.is_com_dis||(c-=Number(e.orderSubmitInfo.com_dis_price)),r=(c>0?c:0)+d+(i?Number(s):0),Number(r)>0?Number(r).toFixed(2):0}},methods:{closePop:function(){var e=this;e.popShow=!1},init:function(){var e=this;e.getOrderSubmitInfo(),e.getcardList()},getcardList:function(){var e=this;n.default._post_form("&p=halfcard&do=cardList",{},function(t){0===t.errno&&e.setData({cardList:t.data.list})})},select_card:function(e){var t=this.cardId;e.id===t?this.setData({cardId:null,card_price:0}):this.setData({cardId:e.id,card_price:e.price})},moreCardList:function(){var e=this,t=e.member_number,a=e.cardList.length;0===t?e.setData({member_number:a}):t===a&&e.setData({member_number:0})},createOrder:function(e){var t=this;if(0==t.orderSubmitInfo.usestatus&&(t.allUsestatus=0),1==t.orderSubmitInfo.usestatus&&(t.allUsestatus=1),2==t.orderSubmitInfo.usestatus&&1==t.usestatus&&(t.allUsestatus=1),2==t.orderSubmitInfo.usestatus&&0==t.usestatus&&(t.allUsestatus=0),void 0==t.orderSubmitInfo.address&&(t.orderSubmitInfo.address={id:""}),0==t.usestatus&&2==t.orderSubmitInfo.usestatus||1==t.usestatus&&0==t.orderSubmitInfo.usestatus){var a=/^1[3|4|5|6|7|8|9][0-9]{9}$/;if(!t.createOrderInfo.thname)return n.default.showError("请填写联系人姓名"),!1;if(!a.test(t.createOrderInfo.thmobile))return n.default.showError("请填写正确的联系电话"),!1}var i={groupid:t.group_id,id:t.createOrderInfo.id,num:t.num,usestatus:t.allUsestatus,plugin:t.orderSubmitInfo.plugin,specid:t.createOrderInfo.specid,creditstatus:t.integralType,thname:t.createOrderInfo.thname,thmobile:t.createOrderInfo.thmobile,addressid:t.orderSubmitInfo.address.id,remark:t.createOrderInfo.remark,buystatus:t.buystatus,vip_card_id:t.cardId};n.default._post_form("&p=pay&do=createOrder",i,function(a){1==a.data.status&&(n.default.navigationTo({url:"pages/mainPages/payment/payment?orderid="+a.data.orderid+"&plugin="+t.orderSubmitInfo.plugin}),n.default.saveFormId(e.detail.formId)),0==a.data.status&&(console.info("plugin",a.data.plugin),n.default.navigationTo({url:"pages/mainPages/paySuccess/paySuccess?tid="+a.data.tid+"&plugin="+a.data.plugin}),n.default.saveFormId(e.detail.formId))},function(e){"未绑定手机号"==e.data.message&&(t.popShow=!0)})},goAddress:function(e){n.default.navigationTo({url:"pages/mainPages/userCenter/receivingAddress/receivingAddress?type="+e})},changIntegral:function(e){var t=this;t.integralType=e},getOrderSubmitInfo:function(){var e=this,t=e.createOrderInfo;n.default._post_form("&p=pay&do=orderSubmit",t,function(t){if(e.orderSubmitInfo=t.data,e.createOrderInfo.thmobile=t.data.mobile,e.createOrderInfo.thname=t.data.realname,t.data.goodsprice=Number(t.data.goodsprice),t.data.expressprice=Number(t.data.expressprice),t.data.vipdiscount=Number(t.data.vipdiscount),e.num=Number(e.num),1==t.data.usestatus&&(console.info("第一步"),e.allMone=s.default.additionFloat(s.default.multiplicationFloat(t.data.goodsprice,e.num,100),t.data.expressprice,100),e.createOrderInfo.addressid=t.data.address.id,""!==t.data.halfcardflag&&""!==t.data.vipdiscount&&(e.allMoney=s.default.subtractionFloat(s.default.additionFloat(s.default.multiplicationFloat(t.data.goodsprice,e.num,100),t.data.expressprice,100),t.data.vipdiscount,100))),2==t.data.usestatus&&1==e.usestatus&&(console.info("第二步"),e.allMone=s.default.additionFloat(s.default.multiplicationFloat(t.data.goodsprice,e.num,100),t.data.expressprice,100),""!==t.data.halfcardflag&&""!==t.data.vipdiscount)){var a=s.default.multiplicationFloat(t.data.goodsprice,e.num,100),i=t.data.expressprice,n=s.default.additionFloat(a,i,100);e.allMoney=s.default.subtractionFloat(n,t.data.vipdiscount,100)}(0==t.data.usestatus||2==t.data.usestatus&&0==e.usestatus)&&(console.info("第三步"),e.allMoney=s.default.subtractionFloat(s.default.multiplicationFloat(t.data.goodsprice,e.num,100),t.data.vipdiscount,100))})}}};t.default=r},"9d7a":function(e,t,a){"use strict";a.r(t);var i=a("9ae2"),n=a.n(i);for(var s in i)"default"!==s&&function(e){a.d(t,e,function(){return i[e]})}(s);t["default"]=n.a},b696:function(e,t,a){"use strict";a.r(t);var i=a("0dfc"),n=a("4013");for(var s in n)"default"!==s&&function(e){a.d(t,e,function(){return n[e]})}(s);a("086e");var o=a("2877"),r=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"92c2c32e",null);t["default"]=r.exports},beec:function(e,t,a){t=e.exports=a("2350")(!1),t.push([e.i,"uni-page-body[data-v-3fbde7e8]{height:100%;background-color:#f7f7f7!important}.header_bg[data-v-3fbde7e8]{width:100%;height:%?320?%;background-size:100% %?320?%;background-repeat:no-repeat}.checkHx[data-v-3fbde7e8]{z-index:2;position:relative;bottom:%?65?%;left:%?250?%;width:%?80?%;height:%?88?%;-webkit-transform:rotate(15deg);-ms-transform:rotate(15deg);transform:rotate(15deg);background-color:#fff;border-top-left-radius:%?14?%}.Ps[data-v-3fbde7e8]{z-index:1;position:relative;bottom:%?64?%;left:%?260?%;width:%?80?%;height:%?88?%;background:#ffe8e8}.Hx[data-v-3fbde7e8]{z-index:1;position:relative;bottom:%?64?%;left:%?260?%;width:%?80?%;height:%?88?%;background:#ffe8e8}.checkPs[data-v-3fbde7e8]{z-index:2;position:relative;bottom:%?65?%;left:%?276?%;width:%?80?%;height:%?88?%;-webkit-transform:rotate(-15deg);-ms-transform:rotate(-15deg);transform:rotate(-15deg);background-color:#fff;border-top-right-radius:%?14?%}.check-right-radius[data-v-3fbde7e8]{border-top-right-radius:%?10?%}.check-left-radius[data-v-3fbde7e8]{border-top-left-radius:%?10?%}.checkOrderTypeButton[data-v-3fbde7e8]{height:%?71?%;overflow:hidden}.checkOrderTypeButton>uni-view[data-v-3fbde7e8]:first-child{margin-top:%?10?%;border-radius:%?10?% 0 0 0}.checkOrderTypeButton>uni-view[data-v-3fbde7e8]:nth-child(2){border-radius:0 %?10?% 0 0;margin-left:%?32?%}.checkOrderTypeButton>uni-view[data-v-3fbde7e8]{display:inline-block;vertical-align:bottom}.nCheck[data-v-3fbde7e8]{vertical-align:bottom;width:%?316?%;height:%?64?%;background:#ffe8e8;text-align:center}.nCheck>span[data-v-3fbde7e8]{line-height:%?64?%;font-size:%?24?%;color:#333}.ncheck1[data-v-3fbde7e8]{margin-top:%?10?%}.checkOne[data-v-3fbde7e8]{margin-left:%?8?%}.check[data-v-3fbde7e8]{text-align:center;vertical-align:bottom;width:%?334?%;height:%?71?%;background:#fff}.check>span[data-v-3fbde7e8]{line-height:%?71?%;font-size:%?28?%;font-weight:700;color:#333}.checkReceivingAdress[data-v-3fbde7e8]{width:%?690?%;background:#fff}.checkOrderType[data-v-3fbde7e8]{margin:%?20?% auto 0 auto;width:%?690?%;border-radius:%?10?%}.full[data-v-3fbde7e8]{width:%?750?%;height:%?118?%}.submitOrder[data-v-3fbde7e8]{font-size:0;margin-top:-40%}.orderDetails[data-v-3fbde7e8]{width:%?690?%;background:#fff;border-radius:%?10?%;margin:%?20?% auto 0 auto}.orderDetailsImg[data-v-3fbde7e8]{width:%?130?%;height:%?130?%}.orderDetailsImg>uni-image[data-v-3fbde7e8]{width:%?130?%;height:%?130?%}.orderDetailsPackage[data-v-3fbde7e8]{padding:%?30?%}.orderDetailsPackage>uni-view[data-v-3fbde7e8]{vertical-align:top;display:inline-block}.orderDetailsInfo[data-v-3fbde7e8]{margin-left:%?20?%}.orderInfoTitle>span[data-v-3fbde7e8]{overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap;display:inline-block;width:%?453?%;font-size:%?28?%;color:#333}.orderInfoBody[data-v-3fbde7e8]{margin-top:%?10?%}.orderInfoBody>span[data-v-3fbde7e8]{font-size:%?24?%;color:#999}.orderInfoFoot[data-v-3fbde7e8]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;margin-top:%?15?%}.orderInfoFoot>span[data-v-3fbde7e8]:first-child{display:inline-block;vertical-align:bottom;font-size:%?28?%;font-weight:700;color:#f44}.orderInfoFoot>span[data-v-3fbde7e8]:nth-child(2){display:inline-block;vertical-align:bottom;font-size:%?24?%;color:#999}.paymentInfo[data-v-3fbde7e8]{margin:%?20?% auto 0 auto;width:%?690?%;background:#fff;border-radius:%?10?%}.paymentInfoPackage[data-v-3fbde7e8]{padding:%?30?%}.paymentInfoPackage>uni-view[data-v-3fbde7e8]:first-child{margin-top:0}.paymentInfoPackage>uni-view[data-v-3fbde7e8]{margin-top:%?30?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}.paymentInfoPackage>uni-view>span[data-v-3fbde7e8]{vertical-align:middle}.paymentInfoPackage>uni-view>span[data-v-3fbde7e8]:first-child{font-size:%?24?%;color:#333}.paymentInfoPackage>uni-view>span[data-v-3fbde7e8]:nth-child(2){font-size:%?24?%;font-weight:700;color:#333}.checkUserInfo[data-v-3fbde7e8]{width:%?690?%;background:#fff}.userInfo[data-v-3fbde7e8]{margin:%?20?% auto 0 auto;width:%?690?%;background:#fff;border-radius:%?10?%}.userInfoPackage[data-v-3fbde7e8]{padding:0 %?30?%}.userInfoPackage>uni-view[data-v-3fbde7e8]:first-child{border-bottom:1px solid #eee}.userInfoPackage>uni-view>span[data-v-3fbde7e8]{display:inline-block;vertical-align:middle;width:%?96?%;font-size:%?24?%;color:#333}.userInfoPackage>uni-view>uni-input[data-v-3fbde7e8]{margin-left:%?40?%;display:inline-block;width:%?400?%;height:%?82?%;color:#333;font-size:%?24?%;vertical-align:middle}uni-input[data-v-3fbde7e8]::-webkit-input-placeholder{color:#999}uni-input[data-v-3fbde7e8]::-moz-placeholder{color:#999}uni-input[data-v-3fbde7e8]::-ms-input-placeholder{color:#999}uni-input[data-v-3fbde7e8]::placeholder{color:#999}.messageSave[data-v-3fbde7e8]{margin:%?20?% auto 0 auto;width:%?690?%;background:#fff;border-radius:%?10?%}.messageSavePackage[data-v-3fbde7e8]{padding:%?30?%}.messageSavePackage>uni-input[data-v-3fbde7e8]{padding-left:%?30?%;height:%?77?%;background:#f8f8f8;border-radius:%?10?%;font-size:%?24?%;color:#333}.navButtom[data-v-3fbde7e8]{position:fixed;bottom:0;width:%?750?%;height:%?98?%;background:#fff;border:%?1?% solid hsla(0,0%,93.3%,.67);z-index:2}.navButtomLeft[data-v-3fbde7e8]{display:inline-block;width:%?515?%}.navButtomLeftPackage[data-v-3fbde7e8]{padding:%?30?%}.navButtomLeftPackage>span[data-v-3fbde7e8]:nth-child(2){color:#f44}.navButtomLeftPackage>span[data-v-3fbde7e8]{font-size:%?24?%;font-weight:700;color:#333}.submitButton[data-v-3fbde7e8]{display:inline-block;width:%?235?%;height:%?98?%;background:#f44;text-align:center}.submitButton>span[data-v-3fbde7e8]{line-height:%?98?%;font-size:%?28?%;font-weight:700;color:#fff}.submitButton>uni-button[data-v-3fbde7e8]{position:absolute;left:0;right:0;top:0;bottom:0;opacity:0}.receivingAdress[data-v-3fbde7e8]{margin:%?20?% auto 0 auto;width:%?690?%;background:#fff;border-radius:%?10?%}.receiptDetailsFoot[data-v-3fbde7e8]{background:-o-repeating-linear-gradient(135deg,#fff,#fff 5%,#f44 5%,#f44 10%,#fff 10%,#fff 15%,#52a7f8 15%,#52a7f8 20%);background:repeating-linear-gradient(-45deg,#fff,#fff 5%,#f44 0,#f44 10%,#fff 0,#fff 15%,#52a7f8 0,#52a7f8 20%);width:%?690?%;height:%?6?%;border-radius:%?10?%}.receivingAdressPackage[data-v-3fbde7e8]{padding:%?30?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}.receivingAdressPackage>uni-view[data-v-3fbde7e8]{display:inline-block;vertical-align:middle}.receivingAdressRight[data-v-3fbde7e8]{font-size:%?28?%}.receivingAdressTitle>uni-view[data-v-3fbde7e8]{display:inline-block;vertical-align:middle;width:%?62?%;height:%?35?%;background:#f44;border-radius:%?4?%;text-align:center}.receivingAdressTitle>uni-view>span[data-v-3fbde7e8]{line-height:%?35?%;font-size:%?14?%;color:#fff}.receivingAdressTitle>span[data-v-3fbde7e8]{margin-left:%?10?%;vertical-align:middle;font-size:%?24?%;color:#333}.receivingAdressBody[data-v-3fbde7e8]{margin-top:%?10?%}.receivingAdressBody>span[data-v-3fbde7e8]{font-size:%?32?%;font-weight:700;color:#333}.receivingAdressFoot[data-v-3fbde7e8]{margin-top:%?10?%}.receivingAdressFoot>span[data-v-3fbde7e8]:nth-child(2){margin-left:%?10?%}.receivingAdressFoot>span[data-v-3fbde7e8]{font-size:%?24?%;color:#333}.firstCanvas[data-v-3fbde7e8]{width:%?345?%;height:%?71?%;background:#fff}.integralInfo[data-v-3fbde7e8]{margin:%?20?% auto 0 auto;width:%?690?%;background:#fff;border-radius:%?10?%}.integralInfoPackage[data-v-3fbde7e8]{padding:%?30?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}.integralInfoPackage>uni-view:first-child>span[data-v-3fbde7e8]{line-height:%?40?%;font-size:%?24?%;color:#333}.integralInfoPackage>uni-view[data-v-3fbde7e8]{vertical-align:middle;display:inline-block}.switch[data-v-3fbde7e8]{width:%?80?%;height:%?40?%;border-radius:%?20?%}.switch .isswitchClose[data-v-3fbde7e8]{background:#ccc}.switch .isswitchOn[data-v-3fbde7e8]{background:#f44}.switch>uni-view[data-v-3fbde7e8]{padding:%?6?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}.switch>uni-view>uni-view[data-v-3fbde7e8]{width:%?28?%;height:%?28?%;-webkit-box-shadow:%?0?% %?2?% %?6?% %?0?% rgba(255,68,68,.35);box-shadow:%?0?% %?2?% %?6?% %?0?% rgba(255,68,68,.35);border-radius:50%}.member[data-v-3fbde7e8]{overflow:hidden;margin:%?20?% %?30?% 0}.member-header .header-left[data-v-3fbde7e8]{padding:0 %?20?%;height:%?44?%;background-size:%?160?%,%?44?%;background-color:#36384d;max-width:40%}.header-left .left-member-logo[data-v-3fbde7e8]{width:%?30?%;height:%?30?%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAllBMVEUAAAD93Dv+3Dz93Dz93Dz+3Tz93Dv/3Tn93Dv93Tr/3Tn93Dv83Dv93Dv93Tv83Dr82zr93Tz+3Dz+3Dz93Dz93Dv+3Dv93Dz93Dz83Dv72zr/3Dr93Tn93Tf83TX93Dv+3Dz92zv83Dr/3jz/6C7/0S7/3jj83Dz+3Tz93Dv93Dv93Dz92zz93Dz93Dv/2zr/2jz93DzCovTLAAAAMXRSTlMAfuOJ5/BkHPpWFum/pJ1bR+ba0crEuat7TUAvKiAQ9tZqYDULCwe0s5eSg3JubCMirPs29wAAANlJREFUKM/N0FduwzAQBNCRbDb1ZqtG7k4ve//LBQIhMZLAfAZ5P+QsCHAx+Dt3Fd9gtyfaweqLuKIONjdW7A49rGIiDivhHvP0YTVN9Nkf/U/hZp5OzfiuonIY3QvWAh3LrwC8kJzpR+nHwJNshnQ5BIDaymmLC9V7CiNSOtbDPUiogdbLEzijD0DjxE44kzdm9xkQNSaJADa+6TLAyqNp98XHShZh1L5i6Srf8YuWEhP4Zq6Doh/lMubOnOEwGEGJhbKAEWVYyEMYb5RuZ1JyYHiVs1AJ/HPfuCkPAKRs+tsAAAAASUVORK5CYII=);background-size:%?30?% %?30?%;background-repeat:no-repeat;margin-right:%?10?%}.member-header .header-right[data-v-3fbde7e8]{width:%?376?%;height:%?44?%;line-height:%?44?%;background:-webkit-gradient(linear,left top,right top,from(#ffdf4e),to(#fcda31));background:-o-linear-gradient(left,#ffdf4e,#fcda31);background:linear-gradient(90deg,#ffdf4e,#fcda31);border-radius:0 0 %?20?% 0}.header-left .left-member-title[data-v-3fbde7e8]{color:#fcda31}.member-header .header-right uni-text[data-v-3fbde7e8]{color:#f04c4c}.member-nowprice[data-v-3fbde7e8]{color:#f04c4c}.member-list .member-list-items[data-v-3fbde7e8]{position:relative;padding:%?20?% %?110?% %?20?% %?30?%\n  /* border-bottom: 1px solid #EEEEEE; */}.member-list .member-list-items .select-logo[data-v-3fbde7e8]{position:absolute;right:%?30?%;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%)}.member-list .member-list-items .select-logo uni-image[data-v-3fbde7e8]{width:%?36?%;height:%?36?%}body.?%PAGE?%[data-v-3fbde7e8]{background-color:#f7f7f7!important}",""])},ce2a:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{}},props:{show:{type:Boolean,default:!1},overlay:{type:Boolean,default:!0},showOverlay:{type:Boolean,default:!0},type:{type:String,default:"center"},modelData:{type:Object,default:function(){}}},components:{},computed:{},mounted:function(){},methods:{handleMaskClick:function(){this.$emit("clickmask")}}};t.default=i},e1d0:function(e,t,a){"use strict";var i=a("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(a("b696")),s=i(a("3099")),o={components:{PopManager:n.default},props:{show:{type:Boolean,default:!1}},data:function(){return{memberInfo:{nickname:""},pinText:"获取验证码",show:!1,phone:"",smsCode:"",getSmsCode:"",textList:{},TextSubstitution:{},scollHeight:null,fullHeight:null,card:"",timeCount:0,timeEnd:"",login:!0}},methods:{closePop:function(){this.$emit("clickmask")},PIN:function(){var e=this;if(""!=e.phone&&11===e.phone.length){var t={phone:e.phone,type:2};s.default._post_form("&do=PIN",t,function(t){var a=60,i=setInterval(function(){a--,e.timeEnd=a+"s后重试",e.timeCount=a,0==a&&clearInterval(i)},1e3);e.getSmsCode=t.data.code})}else uni.showToast({icon:"none",title:"请输入正确的手机号",duration:2e3})},changeMobile:function(){var e=this;if(e.smsCode==e.getSmsCode&&""!=e.smsCode)if(""!=e.phone&&11===e.phone.length){var t={mobile:e.phone,mergeflag:""};s.default._post_form("&p=member&do=changeMobile",t,function(t){e.show=!1,e.phone="",e.smsCode="",uni.showToast({icon:"none",title:"修改成功",duration:2e3})},function(t){uni.showModal({title:"友情提示",content:t.data.message,showCancel:!1,success:function(t){var a={mobile:e.phone,mergeflag:1};s.default._post_form("&p=member&do=changeMobile",a,function(t){e.show=!1,e.phone="",e.smsCode="",uni.showToast({icon:"none",title:"修改成功",duration:2e3})})}})})}else uni.showToast({icon:"none",title:"请输入正确的手机号",duration:2e3});else uni.showToast({icon:"none",title:"验证码不正确",duration:2e3})}}};t.default=o},e24e:function(e,t,a){var i=a("1068");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("4f06").default;n("e3a6c768",i,!0,{sourceMap:!1,shadowMode:!1})},e59e:function(e,t,a){"use strict";a.r(t);var i=a("967c"),n=a("9d7a");for(var s in n)"default"!==s&&function(e){a.d(t,e,function(){return n[e]})}(s);a("7570");var o=a("2877"),r=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"3fbde7e8",null);t["default"]=r.exports}}]);