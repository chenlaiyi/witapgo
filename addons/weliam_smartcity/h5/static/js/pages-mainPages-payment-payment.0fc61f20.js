(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mainPages-payment-payment"],{"0084":function(t,a,e){"use strict";var i=e("288e");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=i(e("80bf")),s=(i(e("9401")),{data:function(){return{time:"",type:1,orderid:"",payInfo:{},plugin:"",types:null,phoneHight:null}},onLoad:function(t){var a=this;this.orderid=t.orderid,this.plugin=t.plugin,this.init(),t.types&&(this.types=t.types),uni.getSystemInfo({success:function(t){a.phoneHight=t.windowHeight+"px"}})},methods:{init:function(){var t=this;t.getOrderInfo()},checkPay:function(t){var a=this;a.type=t},getOrderInfo:function(){var t=this,a={orderid:t.orderid||1645,plugin:t.plugin||"wlfightgroup"};n.default._post_form("&p=pay&do=getOrderInfo",a,function(a){if(t.payInfo=a.data,0==a.data.wechat?0==a.data.credit?t.type=3:t.type=1:t.type=2,void 0!==a.data.sytime&&0!=a.data.sytime)var e=setInterval(function(){t.payInfo.sytime--,t.time=t.payInfo.sytime;var a=Math.floor(t.time%3600);t.time=Math.floor(t.time/3600)+":"+Math.floor(a/60)+":"+t.time%60,0==t.payInfo.sytime&&clearInterval(e)},1e3);0==a.data.sytime&&(t.time="00:00:00")})},goPay:function(){var t=this,a=t.payInfo,e=t.type,i=1===e?"余额":2===e?"微信":"支付宝",s=n.default.getClientType(),c={order_no:a.tid,name:a.goodname,pay_type:e};1===e?uni.showModal({title:"温馨提示",content:"确认使用".concat(i,"方式付款"),success:function(i){i.confirm&&(uni.showLoading({title:"正在处理..."}),n.default._post_form("&p=pay&do=requestPay",c,function(i){1==t.types?(console.info(111111),n.default.navigationTo({url:"pages/mainPages/successRelease/successRelease?id="+i.data.tieziid})):(console.info(22222),1===e&&(1===i.data.status?n.default.showSuccess("支付成功",function(){n.default.navigationTo({url:"pages/mainPages/paySuccess/paySuccess?tid="+a.tid+"&plugin="+t.plugin,navType:"rediRect"})}):n.default.showError("支付失败",function(){n.default.navigationTo({url:"pages/subPages/orderList/orderList?type=0"})})))},!1,function(){uni.hideLoading()}))}}):(uni.showLoading({title:"正在处理..."}),n.default._post_form("&p=pay&do=requestPay",c,function(a){2===e&&t.wechatPayment(a.data,s),3===e&&t.aliPayment(a.data)},!1,function(){uni.hideLoading()}))},aliPayment:function(t){console.log(t);var a=new this.$util.Base64,e=a.encode(t);n.default.navigationTo({url:"pages/mainPages/payment/pay?goto="+e})},wechatPayment:function(t,a){console.log(t,a);var e=this,i=t;"2"===a?location.href=i:"1"===a&&WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:i.appId,timeStamp:i.timeStamp,nonceStr:i.nonceStr,package:i.package,signType:i.signType,paySign:i.paySign},function(t){"get_brand_wcpay_request:ok"==t.err_msg?n.default.navigationTo({url:"pages/mainPages/paySuccess/paySuccess?tid="+e.payInfo.tid,navType:"rediRect"}):n.default.showError("支付失败",function(){n.default.navigationTo({url:"pages/subPages/orderList/orderList?type=0",navType:"reLaunch"})})})}},computed:{textSubData:function(){return uni.getStorageSync("TextSubstitution")}}});a.default=s},2738:function(t,a,e){a=t.exports=e("2350")(!1),a.push([t.i,"uni-page-body[data-v-5bd5f81e]{background:#fff!important;overflow-x:hidden}.payment[data-v-5bd5f81e]{font-size:0;background:#fff!important}.paymentPackage[data-v-5bd5f81e]{border:1px solid transparent}.surplusTime[data-v-5bd5f81e]{margin-top:%?99?%;text-align:center}.surplusTime > span[data-v-5bd5f81e]{font-size:%?24?%;color:#999}.price[data-v-5bd5f81e]{margin-top:%?29?%;text-align:center}.price > span[data-v-5bd5f81e]{font-size:%?48?%;font-weight:700;color:#333}.price > span > span[data-v-5bd5f81e]{font-size:%?72?%}.goodsInfo[data-v-5bd5f81e]{text-align:center;width:%?367?%;margin:%?28?% auto 0 auto}.goodsInfo > span[data-v-5bd5f81e]{font-size:%?24?%;color:#999}.paymentTypePackage[data-v-5bd5f81e]{margin-top:%?60?%;padding:0 %?30?%}.paymentTypeList[data-v-5bd5f81e]{margin-top:%?39?%}.paymentTypeList > uni-view[data-v-5bd5f81e]{display:inline-block}.imgPackage[data-v-5bd5f81e]{vertical-align:top;width:%?45?%;height:%?50?%}.imgPackage > uni-image[data-v-5bd5f81e]{width:%?45?%;height:%?50?%}.inputPackage[data-v-5bd5f81e]{vertical-align:top;margin-left:%?38?%;width:%?600?%;border-bottom:1px solid #eee}.inputPackage1[data-v-5bd5f81e]{vertical-align:top;margin-left:%?38?%;width:%?600?%}.inputPackageLeftTitle[data-v-5bd5f81e]{font-size:%?28?%;color:#333}.inputPackageMain[data-v-5bd5f81e]{width:%?600?%;padding-bottom:%?40?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.inputPackageMain > uni-view[data-v-5bd5f81e]{vertical-align:middle;display:inline-block}.inputPackageLeftBody[data-v-5bd5f81e]{margin-top:%?9?%;font-size:%?24?%;color:#999}.paySubmitPackage[data-v-5bd5f81e]{position:absolute;bottom:%?20?%}.paySubmit[data-v-5bd5f81e]{margin-left:%?60?%;width:%?630?%;height:%?80?%;background:#f44;border-radius:%?10?%;text-align:center}.paySubmit > span[data-v-5bd5f81e]{font-size:%?28?%;color:#fff;line-height:%?80?%}.inputPackageRight[data-v-5bd5f81e]{margin-top:%?20?%;width:%?40?%;height:%?40?%;border:%?1?% solid #ccc;border-radius:50%}.inputPackageRightCheck[data-v-5bd5f81e]{margin-top:%?20?%;width:%?40?%;height:%?40?%;background:#f44;border-radius:50%;text-align:center;overflow:hidden}.inputPackageRightCheck > uni-image[data-v-5bd5f81e]{margin-top:%?11?%;width:%?28?%;height:%?23?%}body.?%PAGE?%[data-v-5bd5f81e]{background:#fff!important}",""])},5599:function(t,a,e){"use strict";e.r(a);var i=e("8fc8"),n=e("9823");for(var s in n)"default"!==s&&function(t){e.d(a,t,function(){return n[t]})}(s);e("75f2");var c,o=e("f0c5"),u=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"5bd5f81e",null,!1,i["a"],c);a["default"]=u.exports},"75f2":function(t,a,e){"use strict";var i=e("e739"),n=e.n(i);n.a},"8fc8":function(t,a,e){"use strict";var i,n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-uni-scroll-view",{staticClass:"payment",style:{height:t.phoneHight},attrs:{"scroll-y":!0,"scroll-x":!1}},[e("v-uni-view",{staticClass:"paymentPackage"},[0!==t.payInfo.sytime?e("v-uni-view",{staticClass:"surplusTime"},[e("span",[t._v("支付剩余时间 "+t._s(t.time))])]):t._e(),e("v-uni-view",{staticClass:"price"},[e("span",[t._v("￥"),e("span",[t._v(t._s(t.payInfo.price))])])]),e("v-uni-view",{staticClass:"goodsInfo"},[e("span",[t._v(t._s(t.payInfo.goodname))])]),e("v-uni-view",{staticClass:"paymentTypePackage"},[1==t.payInfo.credit?e("v-uni-view",{staticClass:"paymentTypeList",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.checkPay(1)}}},[e("v-uni-view",{staticClass:"imgPackage"},[e("v-uni-image",{attrs:{src:"/static/images/merchant/balancePay.svg"}})],1),e("v-uni-view",{staticClass:"inputPackage"},[e("v-uni-view",{staticClass:"inputPackageMain"},[e("v-uni-view",{staticClass:"inputPackageLeft"},[e("v-uni-view",{staticClass:"inputPackageLeftTitle"},[t._v(t._s(t.textSubData.moneytext)+"支付")]),e("v-uni-view",{staticClass:"inputPackageLeftBody"},[t._v("账户余额：￥"+t._s(t.payInfo.balance))])],1),1==t.type?e("v-uni-view",{staticClass:"inputPackageRightCheck"},[e("v-uni-image",{attrs:{src:"/static/images/merchant/payCheck.svg"}})],1):t._e(),1!==t.type?e("v-uni-view",{staticClass:"inputPackageRight"}):t._e()],1)],1)],1):t._e(),1==t.payInfo.wechat?e("v-uni-view",{staticClass:"paymentTypeList",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.checkPay(2)}}},[e("v-uni-view",{staticClass:"imgPackage"},[e("v-uni-image",{attrs:{src:"/static/images/merchant/wechatPay.svg"}})],1),e("v-uni-view",{staticClass:"inputPackage"},[e("v-uni-view",{staticClass:"inputPackageMain"},[e("v-uni-view",{staticClass:"inputPackageLeft"},[e("v-uni-view",{staticClass:"inputPackageLeftTitle"},[t._v("微信支付")]),e("v-uni-view",{staticClass:"inputPackageLeftBody"},[t._v("微信支付，安全快捷")])],1),2==t.type?e("v-uni-view",{staticClass:"inputPackageRightCheck"},[e("v-uni-image",{attrs:{src:"/static/images/merchant/payCheck.svg"}})],1):t._e(),2!==t.type?e("v-uni-view",{staticClass:"inputPackageRight"}):t._e()],1)],1)],1):t._e(),1==t.payInfo.alipay?e("v-uni-view",{staticClass:"paymentTypeList",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.checkPay(3)}}},[e("v-uni-view",{staticClass:"imgPackage"},[e("v-uni-image",{attrs:{src:"/static/images/merchant/payPal.svg"}})],1),e("v-uni-view",{staticClass:"inputPackage1"},[e("v-uni-view",{staticClass:"inputPackageMain"},[e("v-uni-view",{staticClass:"inputPackageLeft"},[e("v-uni-view",{staticClass:"inputPackageLeftTitle"},[t._v("支付宝支付")]),e("v-uni-view",{staticClass:"inputPackageLeftBody"},[t._v("简单、安全、快速")])],1),3==t.type?e("v-uni-view",{staticClass:"inputPackageRightCheck"},[e("v-uni-image",{attrs:{src:"/static/images/merchant/payCheck.svg"}})],1):t._e(),3!==t.type?e("v-uni-view",{staticClass:"inputPackageRight"}):t._e()],1)],1)],1):t._e()],1),e("v-uni-view",{staticClass:"paySubmitPackage"},[e("v-uni-view",{staticClass:"paySubmit",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.goPay.apply(void 0,arguments)}}},[e("span",[t._v("确认支付")])])],1)],1)],1)},s=[];e.d(a,"b",function(){return n}),e.d(a,"c",function(){return s}),e.d(a,"a",function(){return i})},9823:function(t,a,e){"use strict";e.r(a);var i=e("0084"),n=e.n(i);for(var s in i)"default"!==s&&function(t){e.d(a,t,function(){return i[t]})}(s);a["default"]=n.a},e739:function(t,a,e){var i=e("2738");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=e("4f06").default;n("166b6e64",i,!0,{sourceMap:!1,shadowMode:!1})}}]);