(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-subPages2-foodList-foodList"],{"24d9":function(t,i,o){"use strict";var s,e=function(){var t=this,i=t.$createElement,o=t._self._c||i;return o("v-uni-view",{staticClass:"foodList"},[o("v-uni-view",{staticClass:"flxedBox"},[o("v-uni-view",{staticClass:"relativeBox"},[o("v-uni-view",{staticClass:"titleImgBox"},[o("v-uni-swiper",{staticClass:"swiper",attrs:{"indicator-dots":!0,autoplay:!0,interval:t.interval,duration:t.duration}},t._l(t.storeFoodList.storeinfo.album,function(t,i){return o("v-uni-swiper-item",{key:i},[o("v-uni-image",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t,mode:"aspectFill"}})],1)}),1)],1),o("v-uni-view",{staticClass:"introduce"},[o("v-uni-view",{staticClass:"dis-flex"},[o("v-uni-view",{staticClass:"storeImgBox",staticStyle:{flex:"3"}},[o("v-uni-image",{staticStyle:{width:"170upx",height:"170upx","border-radius":"15upx"},attrs:{src:t.storeFoodList.storeinfo.logo,mode:"aspectFill"}})],1),o("v-uni-view",{staticStyle:{flex:"7"}},[o("v-uni-view",{staticClass:"storeName f-32 f-w"},[t._v(t._s(t.storeFoodList.storeinfo.storename))]),o("v-uni-view",{},[o("tui-rate",{attrs:{current:t.storeFoodList.storeinfo.score,disabled:!0,score:1,active:"#F5D145"}}),o("v-uni-view",{staticClass:"f-26 dis-il-block",staticStyle:{color:"#363636",height:"46upx","line-height":"44upx","vertical-align":"top"}},[t._v(t._s(t.storeFoodList.storeinfo.score)+"分")])],1),o("v-uni-view",{staticClass:"f-26",staticStyle:{color:"#363636","padding-top":"10upx"}},[o("v-uni-text",[t._v(t._s(t.storeFoodList.storeinfo.catename))])],1),o("v-uni-view",{staticClass:"f-26",staticStyle:{color:"#363636","padding-top":"10upx"}},[o("v-uni-text",[t._v("营业时间：")]),o("v-uni-text",[t._v(t._s(t.storeFoodList.storeinfo.startTime+"-"+t.storeFoodList.storeinfo.endTime))])],1)],1)],1),t.storeFoodList.storeinfo.tag[0]?o("v-uni-view",{staticStyle:{"padding-top":"10upx"}},[o("v-uni-view",{staticClass:"label"},[o("v-uni-view",{staticClass:"dis-flex"},[o("v-uni-view",{staticClass:"labelBox",style:{height:t.labelHeight?"auto":"4vh"}},t._l(t.storeFoodList.storeinfo.tag,function(i,s){return o("v-uni-view",{key:s,staticClass:"dis-il-block labelItem"},[t._v(t._s(i))])}),1),o("v-uni-view",{staticClass:"iconfont icon-unfold f-26",staticStyle:{flex:"1",color:"#999999"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.labelClick.apply(void 0,arguments)}}})],1)],1)],1):t._e()],1)],1)],1),o("v-uni-view",{staticStyle:{padding:"520upx 0upx 0",height:"56vh"}},[o("foodCategory",{attrs:{storeFoodList:t.storeFoodList}})],1),o("shoppingFixation",{attrs:{num:t.num,sid:t.sid},on:{onShows:function(i){arguments[0]=i=t.$handleEvent(i),t.onShowis.apply(void 0,arguments)}}}),o("popup-view",{staticStyle:{"margin-bottom":"100upx"},attrs:{show:t.show,type:"bottom",bottom:"7%"},on:{clickmask:function(i){arguments[0]=i=t.$handleEvent(i),t.onShows.apply(void 0,arguments)}}},[t.shopingList?o("v-uni-view",{staticStyle:{width:"93vw","border-radius":"15upx 15upx 0 0","background-color":"#f7f7f7",padding:"30upx",height:"50vh",overflow:"auto"}},[o("v-uni-view",{staticClass:"dis-flex f-24",staticStyle:{padding:"0 30upx 30upx"}},[o("v-uni-view",{staticClass:"flex-box "},[t._v("已选商品")]),o("v-uni-view",{staticClass:"flex-box t-r",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.empty.apply(void 0,arguments)}}},[o("v-uni-text",{staticClass:"iconfont icon-delete",staticStyle:{"font-size":"24upx"}}),o("v-uni-text",[t._v("清空")])],1)],1),t._l(t.shopingList.cartinfo.goodslist,function(i,s){return t.shopingList.cartinfo.goodslist[s].num>0?o("v-uni-view",{key:s,staticClass:"b-f",staticStyle:{padding:"30upx"}},[o("v-uni-view",{staticClass:"dis-flex",staticStyle:{"justify-content":"space-between"}},[o("v-uni-view",{staticClass:"name dis-il-block f-28 f-w",staticStyle:{flex:"0.35","line-height":"40upx"}},[t._v(t._s(i.name))]),o("v-uni-view",{staticClass:"dis-flex",staticStyle:{flex:"0.8"}},[o("v-uni-view",{staticClass:"flex-box f-20 t-r",staticStyle:{"padding-right":"20upx",color:"#999999","line-height":"40upx"}},[t._v("¥"+t._s(i.oldprice))]),o("v-uni-view",{staticClass:"flex-box f-32 f-w",staticStyle:{"padding-right":"20upx",color:"#FF4444","line-height":"40upx"}},[t._v("¥"+t._s(i.price))]),o("v-uni-view",{staticClass:"flex-box"},[o("tui-numberbox",{staticStyle:{float:"right"},attrs:{value:t.shopingList.cartinfo.goodslist[s].num,width:60,min:0},on:{change:function(o){arguments[0]=o=t.$handleEvent(o),t.change(o,i)}}})],1)],1)],1),o("v-uni-view",{staticClass:"f-20",staticStyle:{color:"#999999"}},[o("v-uni-text",[t._v(t._s(i.specname))])],1)],1):t._e()}),t.shopingList.cartinfo.goodslist.length>0?o("v-uni-view",{staticClass:"dis-flex b-f",staticStyle:{padding:"30upx","margin-top":"20upx"}},[o("v-uni-view",{staticClass:"f-32 f-w",staticStyle:{flex:"0.65"}},[t._v("配送费")]),o("v-uni-view",{staticClass:"f-32 f-w",staticStyle:{flex:"0.55",color:"#FF4444"}},[t._v("¥"+t._s(t.shopingList.cartinfo.deliveryprice))])],1):t._e()],2):t._e(),t.shopingList?t._e():o("v-uni-view",{staticStyle:{width:"93vw","border-radius":"15upx 15upx 0 0","background-color":"#f7f7f7",padding:"30upx","text-align":"center"}},[t._v("购物车空空如也~")])],1)],1)},n=[];o.d(i,"b",function(){return e}),o.d(i,"c",function(){return n}),o.d(i,"a",function(){return s})},"34d0":function(t,i,o){"use strict";var s=o("983d"),e=o.n(s);e.a},5159:function(t,i,o){"use strict";var s=o("288e");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e=s(o("80bf")),n=s(o("d8d4")),a=s(o("a067")),l=s(o("d35f")),d=s(o("f7c1")),r=s(o("2a77")),c={components:{tuiRate:n.default,foodCategory:a.default,shoppingFixation:l.default,PopupView:d.default,tuiNumberbox:r.default},onLoad:function(t){var i=this;i.storeData.id=t.id,i.storeData.storeid=t.storeid,this.getCommodityList(),console.log(this.storeData),this.sid=this.storeData.id,uni.$on("onShows",function(t){this.onShowss()})},onShow:function(){this.getCommodityList(),this.num++},data:function(){return{duration:500,interval:2e3,labelHeight:!1,storeData:{},storeFoodList:null,num:0,sid:null,show:!1,shopingList:null}},methods:{withdraw:function(){var t=this;e.default._post_form("&p=citydelivery&do=deteShopCart&sid=".concat(this.sid),{},function(i){0==i.errno&&(uni.showToast({title:"移除成功",duration:2e3}),t.num++,t.shopingList=null,t.show=!1,t.getCommodityList())},!1,function(){})},empty:function(){var t=this;e.default.showError("确定移除该商店及所属商品？",function(i){i.confirm&&i&&t.withdraw()},!0)},change:function(t,i){var o=this,s=this;this.shopingList.cartinfo.goodslist.map(function(n,a){n.id==i.id&&(n.num=t.value,e.default._post_form("&p=citydelivery&do=addShopCart&goodid=".concat(i.goodid,"&specid=",0,"&addtype=").concat("plus"==t.type?1:0),{},function(e){var n=e.data;n.changenum=t.value,n.changemoney=n.changemoney*t.value,n.id=i.id,0==i.num&&(s.shopingList.cartinfo.goodslist.splice(a,1),0==s.shopingList.cartinfo.goodslist.length&&(s.show=!s.show,o.getCommodityList())),o.num++},!1,function(){}))})},onShows:function(){this.show=!this.show},onShowis:function(t){this.show=!this.show,console.log(t),this.shopingList=t},getCommodityList:function(){var t=this;e.default._post_form("&p=citydelivery&do=cateList&storeid=".concat(this.storeData.storeid),{},function(i){t.setData({storeFoodList:i.data}),t.storeFoodList.num=t.num},!1,function(){})},labelClick:function(){this.labelHeight=!this.labelHeight}}};i.default=c},"797f":function(t,i,o){"use strict";o.r(i);var s=o("24d9"),e=o("bf9e");for(var n in e)"default"!==n&&function(t){o.d(i,t,function(){return e[t]})}(n);o("34d0");var a,l=o("f0c5"),d=Object(l["a"])(e["default"],s["b"],s["c"],!1,null,"a13ad7f8",null,!1,s["a"],a);i["default"]=d.exports},"983d":function(t,i,o){var s=o("ed7b");"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var e=o("4f06").default;e("c7f3ac14",s,!0,{sourceMap:!1,shadowMode:!1})},bf9e:function(t,i,o){"use strict";o.r(i);var s=o("5159"),e=o.n(s);for(var n in s)"default"!==n&&function(t){o.d(i,t,function(){return s[t]})}(n);i["default"]=e.a},ed7b:function(t,i,o){i=t.exports=o("2350")(!1),i.push([t.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.labelBox[data-v-a13ad7f8]{-webkit-box-flex:9;-webkit-flex:9;flex:9;overflow:hidden;background-color:#fff;box-sizing:border-box}.labelItem[data-v-a13ad7f8]{border:%?1?% solid #ececec;color:#666;border-radius:%?60?%;padding:%?5?% %?10?%;margin-right:%?20?%;font-size:%?22?%;margin-bottom:%?10?%}.foodList[data-v-a13ad7f8]{width:100%}.introduce[data-v-a13ad7f8]{width:92%;height:%?220?%;position:absolute;top:85%;background-color:#fff;border-radius:%?15?%;padding:%?30?%}.flxedBox[data-v-a13ad7f8]{position:fixed;width:100%;z-index:99}.storeName[data-v-a13ad7f8]{width:100%;overflow:hidden;\n  /*超出部分隐藏*/white-space:nowrap;\n  /*不换行*/text-overflow:ellipsis}',""])}}]);