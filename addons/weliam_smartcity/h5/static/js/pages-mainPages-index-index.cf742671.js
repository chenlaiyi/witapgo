(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mainPages-index-index"],{"03dc":function(a,t,e){"use strict";var i=e("dffd"),o=e.n(i);o.a},"0fa0":function(a,t,e){"use strict";var i=e("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(e("a4bb"));e("ac6a");e("2f62");var n=i(e("3368")),d=i(e("4dfd")),s=i(e("3411")),r=i(e("fd99")),u=i(e("8ac9")),g=i(e("abc2")),c=i(e("2050")),l=i(e("695d")),f=uni.createInnerAudioContext(),p={data:function(){return{loadlogo:!1,swiperI:1,loading:!1,loadAgain:!1,isTabbars:!0,datas:{basic:[],adv:"",page:{}},pageInfo:{},play_Audio:!1,diypagesData:[],richtext:{imageProp:{mode:"widthFix"}},btngroup:{backgroundColor:"#ffffff",btnBordeRadius:"",displayMode:"",eachLineNum:"",eachPageNum:"",list:[],indicatorDots:!0,duration:300,btngroupHandleData:[],swiperHeight:""},bottomMenu:null,bannerDataList:[]}},components:{Loadlogo:d.default,diypages:s.default,Advert:r.default,TabBars:u.default,wxParse:g.default,recommendGoods:c.default},computed:{},onShow:function(){},mounted:function(){var a=uni.getStorageSync("agencyData"),t=n.default.getClientType(),e=n.default.getBrowser(),i=this;if("chrome53.0"===e)return i.loadlogo=!0,i.isTabbars=!1,uni.showModal({content:"微信浏览器版本过低,请使用系统浏览器",showCancel:!1}),!1;if("1"===t||"3"===t)if(a){var o={latitude:a.lat,longitude:a.lng};i.getPagesData(o,a.aid)}else jWeixin.ready(function(){jWeixin.getLocation({type:"gcj02",success:function(a){n.default.getAreaId(a,"",function(t){uni.setStorageSync("agencyData",t.data),i.getPagesData(a,t.data.aid)})}})});else i.getPagesData("")},methods:{setShareData:function(a){var t=n.default.getClientType(),e=uni.getStorageSync("userinfo"),i=a.share_title,o=a.share_description,d=a.share_image,s=location.href,r=uni.getStorageSync("currentRegion"),u=r.title||"",g=r?r.ad_info.adcode:"",c=-1===s.indexOf("?")?s+"?head_id="+e.mid:s+"&head_id="+e.mid+"&cityname="+u+"&cityid="+g,f=encodeURIComponent(c);"1"===t&&jWeixin.ready(function(){l.default.wxShare({title:i,desc:o,link:"".concat(n.default.siteInfo.siteroot,"/app/index.php?i=").concat(n.default.siteInfo.uniacid,"&c=entry&m=weliam_smartcity&do=returnRequest&link=").concat(f,"&head_id=").concat(e.mid),imgUrl:d})})},getPagesData:function(a){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",e=this;n.default._post_form("&do=HomePage",{lat:a.latitude||"",lng:a.longitude||"",aid:t},function(a){if(0===a.errno){e.datas.adv=a.data.adv&&0!==a.data.adv.length?a.data.adv:"",e.datas.page=a.data.page?a.data.page:"",e.bottomMenu=a.data.menu,e.pageInfo=a.data.page,e.$store.commit("ISTABCONTRO",1),a.data.page.music&&(f.src=a.data.page.music);var t=a.data.item,i=[];for(var n in t)i.push(t[n]);for(var d in e.diypagesData=i,e.diypagesData){if("menu"==e.diypagesData[d].id){e.diypagesData[d].btngroupData={};var s={list:[],indicatorDots:!0,duration:300,btngroupHandleData:[],swiperHeight:""};for(var r in s.backgroundColor=e.diypagesData[d].style.background,s.btnBordeRadius=e.diypagesData[d].style.navstyle,s.displayMode=e.diypagesData[d].style.showtype,s.eachLineNum=e.diypagesData[d].style.rownum,s.eachPageNum=e.diypagesData[d].style.pagenum,e.diypagesData[d].data)s.list.push(e.diypagesData[d].data[r]);0==e.diypagesData[d].style.showdot?s.indicatorDots=!1:s.indicatorDots=!0;var u="";if(u=s.list.length>s.eachPageNum?s.eachPageNum:s.list.length,s.swiperHeight=87*Math.ceil(u/s.eachLineNum)+15,s.list&&s.list.length>0)for(var g=Math.ceil(s.list.length/s.eachPageNum),c=0;c<g;c++){for(var l=[],p=c*s.eachPageNum,v=p;v<s.eachPageNum*(c+1)&&v<s.list.length;v++)l.push(s.list[v]);s.btngroupHandleData.push(l)}e.diypagesData[d].btngroupData=s}if("picturew4"==e.diypagesData[d].id){var m=[];for(var h in e.diypagesData[d].data)m.push(e.diypagesData[d].data[h]);e.diypagesData[d].data=m}if("picturew5"==e.diypagesData[d].id){var y=[];for(var b in e.diypagesData[d].data)y.push(e.diypagesData[d].data[b]);e.diypagesData[d].data=y}if("pictures"==e.diypagesData[d].id){var D=[];for(var w in e.diypagesData[d].data)D.push(e.diypagesData[d].data[w]);e.diypagesData[d].data=D}if("shop"==e.diypagesData[d].id){var _=[];for(var x in e.diypagesData[d].data){var k=[];for(var P in e.diypagesData[d].data[x].goods)""!==e.diypagesData[d].data[x].goods[P]&&("active"==P?(e.diypagesData[d].data[x].goods[P].css="qiang",e.diypagesData[d].data[x].goods[P].tag="抢"):"coupon"==P?(e.diypagesData[d].data[x].goods[P].css="hui",e.diypagesData[d].data[x].goods[P].tag="券"):"fightgroup"==P?(e.diypagesData[d].data[x].goods[P].css="pin",e.diypagesData[d].data[x].goods[P].tag="拼"):"groupon"==P?(e.diypagesData[d].data[x].goods[P].css="tuan",e.diypagesData[d].data[x].goods[P].tag="团"):"halfcard"==P?(e.diypagesData[d].data[x].goods[P].css="ka",e.diypagesData[d].data[x].goods[P].tag="卡"):"packages"==P&&(e.diypagesData[d].data[x].goods[P].css="li",e.diypagesData[d].data[x].goods[P].tag="礼"),k.push(e.diypagesData[d].data[x].goods[P]));e.diypagesData[d].data[x].goods=k,_.push(e.diypagesData[d].data[x])}e.diypagesData[d].shopArr=_}"banner"===e.diypagesData[d].id&&function(){var a=e.diypagesData[d].data,t=[],i=[];(0,o.default)(a).forEach(function(e){a[e].imgHeight=0,t.push(a[e]),i.push(t)}),e.bannerDataList=i}()}e.datas.basic=e.diypagesData}},!1,function(){e.loadAgain=!0,e.loadlogo=!0})},playAudio:function(){var a=this,t=!a.play_Audio;a.pageInfo.music;t&&(f.play(),f.onPlay(function(){console.log("开始播放")})),t||(f.pause(),f.onPause(function(){console.log("暂停播放")})),console.log(t),a.play_Audio=t}},onPullDownRefresh:function(){uni.stopPullDownRefresh()},onReachBottom:function(){var a=this;a.loading=!0,setTimeout(function(){a.loading=!1},4e3)}};t.default=p},2050:function(a,t,e){"use strict";e.r(t);var i=e("9d70"),o=e("97ea");for(var n in o)"default"!==n&&function(a){e.d(t,a,function(){return o[a]})}(n);e("3eea");var d=e("2877"),s=Object(d["a"])(o["default"],i["a"],i["b"],!1,null,"928df2fe",null);t["default"]=s.exports},"2f02":function(a,t,e){"use strict";e.r(t);var i=e("0fa0"),o=e.n(i);for(var n in i)"default"!==n&&function(a){e.d(t,a,function(){return i[a]})}(n);t["default"]=o.a},"3eea":function(a,t,e){"use strict";var i=e("a333"),o=e.n(i);o.a},"48f5":function(a,t,e){"use strict";e.r(t);var i=e("820f"),o=e("2f02");for(var n in o)"default"!==n&&function(a){e.d(t,a,function(){return o[a]})}(n);e("03dc");var d=e("2877"),s=Object(d["a"])(o["default"],i["a"],i["b"],!1,null,"0666e6e4",null);t["default"]=s.exports},"820f":function(a,t,e){"use strict";var i=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-uni-view",{staticClass:"container"},[a.loadlogo?a._e():e("loadlogo"),a.loadlogo?e("v-uni-view",{staticClass:"page-index",class:a.bottomMenu?"bottomPadding":"",style:"background-color: "+a.datas.page.background},[a.datas.adv?e("Advert",{staticClass:"advert",attrs:{advertData:a.datas.adv}}):a._e(),e("diypages",{attrs:{diypagesData:a.diypagesData,pageData:a.datas.page,btngroupData:a.btngroup,bannerDataList:a.bannerDataList}}),a.isTabbars?e("v-uni-view",{staticClass:"page-footer"},[e("TabBars",{attrs:{tabBarAct:0,tabBarData:a.bottomMenu,TabBarsType:a.datas.page.type}})],1):a._e(),a.pageInfo.music?e("v-uni-view",{staticClass:"audio-main",on:{click:function(t){t=a.$handleEvent(t),a.playAudio(t)}}},[e("v-uni-view",{staticClass:"audio-bg",class:{"stop-audio":!a.play_Audio}},[e("v-uni-view",{staticClass:"audio-gif",style:{"background-image":"url("+a.imageRoot+"musicgif.gif)"}},[e("v-uni-view",{staticClass:"audio-png",style:{"background-image":"url("+a.imageRoot+"music.png)"}})],1)],1)],1):a._e()],1):a._e()],1)},o=[];e.d(t,"a",function(){return i}),e.d(t,"b",function(){return o})},"97ea":function(a,t,e){"use strict";e.r(t);var i=e("f2ee"),o=e.n(i);for(var n in i)"default"!==n&&function(a){e.d(t,a,function(){return i[a]})}(n);t["default"]=o.a},"9d70":function(a,t,e){"use strict";var i=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-uni-view",{staticClass:"container"},[e("v-uni-view",{staticClass:"goods-list dis-flex flex-x-between flex-warp"},a._l(a.goodslist,function(t,i){return e("v-uni-view",{key:t.id,staticClass:"goods-list-item m-btm50",on:{click:function(e){e=a.$handleEvent(e),a.navgateto(t)}}},[e("v-uni-view",{staticClass:"goods-images bor-radius-10upx",style:{"background-image":" url("+t["logo"]+")"}}),e("v-uni-view",{staticClass:"goods-title twolist-hidden f-28 col-3"},[a._v(a._s(t["goods_name"]))]),e("v-uni-view",{staticClass:"goods-price dis-flex"},[e("v-uni-view",{staticClass:"goods-nowPrice"},[e("v-uni-text",{staticClass:"nowPrice-mark f-24 nowPriceColor m-right10"},[a._v("¥")]),e("v-uni-text",{staticClass:"f-36 nowPriceColor"},[a._v(a._s(t["price"]))])],1),e("v-uni-view",{staticClass:"goods-oldPrice"},[e("v-uni-text",{staticClass:"f-24 col-9"},[a._v("¥"+a._s(t["oldprice"]))])],1)],1)],1)}),1)],1)},o=[];e.d(t,"a",function(){return i}),e.d(t,"b",function(){return o})},a333:function(a,t,e){var i=e("adab");"string"===typeof i&&(i=[[a.i,i,""]]),i.locals&&(a.exports=i.locals);var o=e("4f06").default;o("32de2b72",i,!0,{sourceMap:!1,shadowMode:!1})},adab:function(a,t,e){t=a.exports=e("2350")(!1),t.push([a.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.goods-list-item[data-v-928df2fe]{width:48.5%}.goods-list-item .goods-images[data-v-928df2fe]{width:100%;height:%?330?%;background-repeat:no-repeat;background-size:100% %?330?%;background-position:50%}.goods-list-item .goods-title[data-v-928df2fe]{margin:%?20?% 0 %?30?%;height:2.6em;line-height:1.3em}.goods-list-item .goods-price .goods-nowPrice[data-v-928df2fe]{margin-right:%?12?%}.goods-list-item .goods-price .goods-nowPrice .nowPriceColor[data-v-928df2fe]{color:#ef4343}.goods-list-item .goods-price .goods-oldPrice>uni-text[data-v-928df2fe]{text-decoration:line-through}',""])},dffd:function(a,t,e){var i=e("f888");"string"===typeof i&&(i=[[a.i,i,""]]),i.locals&&(a.exports=i.locals);var o=e("4f06").default;o("68438e0e",i,!0,{sourceMap:!1,shadowMode:!1})},f2ee:function(a,t,e){"use strict";var i=e("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(e("3368")),n={data:function(){return{goodslist:[]}},props:{},mounted:function(){this.getRecommendGoods()},methods:{getRecommendGoods:function(){var a=this;o.default._post_form("&do=getRecommendGoods",{},function(t){a.setData({goodslist:t.data})},!1,function(){})},navgateto:function(a){var t=getCurrentPages(),e=t[t.length-1],i="pages/mainPages/goods/index"===e.route?"rediRect":"navigate";o.default.navigationTo({url:"pages/mainPages/goods/index?goods_id=".concat(a["id"],"&goodsType=").concat(a["type"]),navType:i})}}};t.default=n},f888:function(a,t,e){t=a.exports=e("2350")(!1),t.push([a.i,".container[data-v-0666e6e4]{background-color:#ffd93f}.page-index[data-v-0666e6e4]{width:100vw;overflow:hidden;background-color:#fff;position:relative}.bottomPadding[data-v-0666e6e4]{padding-bottom:%?100?%}@-webkit-keyframes rotate2d-data-v-0666e6e4{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes rotate2d-data-v-0666e6e4{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.audio-main[data-v-0666e6e4]{position:fixed;right:%?50?%;top:10%;z-index:10}.audio-bg[data-v-0666e6e4]{position:relative}.audio-bg .audio-gif[data-v-0666e6e4]{width:%?100?%;height:%?100?%;background-size:%?100?% %?100?%;background-repeat:no-repeat}.audio-bg .audio-gif .audio-png[data-v-0666e6e4]{position:absolute;background-size:%?80?% %?80?%;-webkit-animation:rotate2d-data-v-0666e6e4 1.2s linear infinite;animation:rotate2d-data-v-0666e6e4 1.2s linear infinite;z-index:-1;width:%?80?%;height:%?80?%}.audio-bg.stop-audio .audio-gif[data-v-0666e6e4]{background:none!important}.audio-bg.stop-audio .audio-png[data-v-0666e6e4]{-webkit-animation:none;animation:none}",""])}}]);