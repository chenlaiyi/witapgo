(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-subPages-receivingAddress-addReceivingAddress-addReceivingAddress"],{"045d":function(e,t,i){"use strict";i.r(t);var a=i("5ac9"),s=i.n(a);for(var d in a)"default"!==d&&function(e){i.d(t,e,function(){return a[e]})}(d);t["default"]=s.a},"06be":function(e,t,i){"use strict";var a=i("8a44"),s=i.n(a);s.a},"17e8":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-scroll-view",{staticClass:"addReceivingAddress",style:{height:e.phoneHight},attrs:{"scroll-y":!0,"scroll-x":!1}},[i("v-uni-view",{staticClass:"addInput"},[i("v-uni-view",{staticClass:"addInputPackage"},[i("v-uni-view",{staticClass:"inputDemo"},[i("span",[e._v("收货人")]),i("v-uni-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.userAddress.name,callback:function(t){e.$set(e.userAddress,"name",t)},expression:"userAddress.name"}})],1),i("v-uni-view",{staticClass:"inputDemo"},[i("span",[e._v("手机号码")]),i("v-uni-input",{attrs:{placeholder:"请输入手机号码"},model:{value:e.userAddress.tel,callback:function(t){e.$set(e.userAddress,"tel",t)},expression:"userAddress.tel"}})],1),i("v-uni-view",{staticClass:"inputDemo"},[i("span",[e._v("省市")]),i("checkCity",{attrs:{userAddress:e.userAddress},on:{returnData:function(t){arguments[0]=t=e.$handleEvent(t),e.returnData.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"inputDemo1"},[i("span",[e._v("详细地址")]),i("v-uni-textarea",{attrs:{placeholder:"如：道路、门牌号、小区、楼栋号、单元等",maxlength:"50"},model:{value:e.userAddress.detailed_address,callback:function(t){e.$set(e.userAddress,"detailed_address",t)},expression:"userAddress.detailed_address"}})],1)],1)],1),i("v-uni-view",{staticClass:"setStatus"},[1==e.userAddress.status?i("v-uni-view",{staticClass:"checked",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.changeAddressStatus(0)}}},[i("v-uni-image",{attrs:{src:"/static/images/merchant/payCheck.svg"}})],1):i("v-uni-view",{staticClass:"check",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.changeAddressStatus(1)}}}),i("span",[e._v("设为默认地址")])],1),i("v-uni-view",{staticClass:"getWechatAddressButton",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.getWxAddress.apply(void 0,arguments)}}},[i("span",[e._v("一键获取微信地址")])]),i("v-uni-view",{staticClass:"saveButton",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.saveAddress.apply(void 0,arguments)}}},[i("span",[e._v("保存")])])],1)},s=[];i.d(t,"a",function(){return a}),i.d(t,"b",function(){return s})},3372:function(e,t,i){"use strict";i.r(t);var a=i("e807"),s=i("045d");for(var d in s)"default"!==d&&function(e){i.d(t,e,function(){return s[e]})}(d);i("06be");var r=i("2877"),n=Object(r["a"])(s["default"],a["a"],a["b"],!1,null,"527f5782",null);t["default"]=n.exports},"5ac9":function(e,t,i){"use strict";var a=i("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;a(i("3099")),a(i("9e9f"));var s={props:{userAddress:{type:Object,default:{}},show:""},data:function(){return{cityList:[],citylist:[],cityIndex:[0,0,0],returnData:{distidName:"",provinceidName:"",areaidName:"",provinceid:"",cityid:"",countyid:""}}},mounted:function(){this.cityList=uni.getStorageSync("cityList"),this.init()},watch:{userAddress:{handler:function(){var e=this;if(void 0==e.userAddress.provinceidName||""==e.userAddress.provinceidName){for(var t=0;t<e.cityList.length;t++)if(e.userAddress.provinceid==e.cityList[t].id){e.returnData.provinceidName=e.cityList[t].name;for(var i=0;i<e.cityList[t].area.length;i++)if(e.userAddress.cityid==e.cityList[t].area[i].id){e.returnData.areaidName=e.cityList[t].area[i].name;for(var a=0;a<e.cityList[t].area[i].dist.length;a++)e.userAddress.countyid==e.cityList[t].area[i].dist[a].id&&(e.returnData.distidName=e.cityList[t].area[i].dist[a].name)}}}else{e.returnData.provinceidName=e.userAddress.provinceidName,e.returnData.areaidName=e.userAddress.areaidName,e.returnData.distidName=e.userAddress.distidName;for(var s=0;s<e.cityList.length;s++)if(e.userAddress.provinceidName==e.cityList[s].name){e.returnData.provinceid=e.cityList[s].id;for(var d=0;d<e.cityList[s].area.length;d++)if(e.userAddress.areaidName==e.cityList[s].area[d].name){e.returnData.cityid=e.cityList[s].area[d].id;for(var r=0;r<e.cityList[s].area[d].dist.length;r++)e.userAddress.countyid==e.cityList[s].area[d].dist[r].id&&(e.returnData.countyid=e.cityList[s].area[d].dist[r].id)}}}},deep:!0}},methods:{init:function(){for(var e=this,t=[],i=[],a=[],s=0;s<e.cityList.length;s++)t.push(e.cityList[s]);e.citylist.push(t);for(var d=0;d<e.cityList[0].area.length;d++)i.push(e.cityList[0].area[d]);e.citylist.push(i);for(var r=0;r<e.cityList[0].area[0].dist.length;r++)a.push(e.cityList[0].area[0].dist[r]);e.citylist.push(a)},changeCity:function(e){var t=this,i=[],a=[];if(0==e.target.column){for(var s=0;s<t.cityList.length;s++)if(e.target.value==s)for(var d=0;d<t.cityList[s].area.length;d++)i.push(t.cityList[s].area[d]);t.citylist.splice(1,2,i),t.citylist.splice(2,3,i[0].dist)}if(1==e.target.column){for(var r=0;r<t.citylist[1].length;r++)if(e.target.value==r)for(var n=0;n<t.citylist[1][r].dist.length;n++)a.push(t.citylist[1][r].dist[n]);t.citylist.splice(2,3,a)}},checkCity:function(e){var t=this;t.returnData.provinceidName=t.citylist[0][e.target.value[0]].name,t.returnData.areaidName=t.citylist[1][e.target.value[1]].name,t.returnData.distidName=t.citylist[2][e.target.value[2]].name,t.returnData.provinceid=t.citylist[0][e.target.value[0]].id,t.returnData.cityid=t.citylist[1][e.target.value[1]].id,t.returnData.countyid=t.citylist[2][e.target.value[2]].id,t.$emit("returnData",t.returnData)}}};t.default=s},"5d81":function(e,t,i){"use strict";i.r(t);var a=i("f4a7"),s=i.n(a);for(var d in a)"default"!==d&&function(e){i.d(t,e,function(){return a[e]})}(d);t["default"]=s.a},"6aa7":function(e,t,i){"use strict";i.r(t);var a=i("17e8"),s=i("5d81");for(var d in s)"default"!==d&&function(e){i.d(t,e,function(){return s[e]})}(d);i("8d38");var r=i("2877"),n=Object(r["a"])(s["default"],a["a"],a["b"],!1,null,"b152f412",null);t["default"]=n.exports},"8a44":function(e,t,i){var a=i("e172");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var s=i("4f06").default;s("da1183c2",a,!0,{sourceMap:!1,shadowMode:!1})},"8d38":function(e,t,i){"use strict";var a=i("f351"),s=i.n(a);s.a},d351:function(e,t,i){t=e.exports=i("2350")(!1),t.push([e.i,".show[data-v-b152f412]{width:%?750?%;height:%?400?%;font-size:%?28?%}uni-page-body[data-v-b152f412]{background:#f0f0f0}.addReceivingAddress[data-v-b152f412]{font-size:0;background:#f0f0f0}.addInput[data-v-b152f412]{margin:%?20?% auto 0 auto;width:%?688?%;background:#fff;border-radius:%?10?%}.addInputPackage[data-v-b152f412]{padding:0 %?40?%}.inputDemo[data-v-b152f412]{height:%?80?%;border-bottom:1px solid #eee}.inputDemo>span[data-v-b152f412]{display:inline-block;line-height:%?80?%;vertical-align:middle;width:%?112?%;font-size:%?28?%;color:#333}.inputDemo>uni-input[data-v-b152f412]{font-size:%?24?%;color:#333;height:%?80?%;vertical-align:middle;width:%?300?%;display:inline-block;margin-left:%?60?%}uni-input[data-v-b152f412]::-webkit-input-placeholder{font-size:%?24?%;color:#999}uni-input[data-v-b152f412]::placeholder{font-size:%?24?%;color:#999}.inputDemo1[data-v-b152f412]{overflow:hidden;height:%?114?%}.inputDemo1>span[data-v-b152f412]{vertical-align:top;display:inline-block;line-height:%?80?%;width:%?112?%;font-size:%?28?%;color:#333}.inputDemo1>uni-textarea[data-v-b152f412]{margin-top:%?25?%;vertical-align:top;font-size:%?24?%;color:#333;height:%?70?%;vertical-align:middle;width:%?400?%;display:inline-block;margin-left:%?60?%}.setStatus[data-v-b152f412]{margin:%?15?% auto 0 auto;width:%?688?%;height:%?83?%;background:#fff;border-radius:%?10?%}.setStatus>span[data-v-b152f412]{vertical-align:middle;margin-left:%?17?%;line-height:%?83?%;font-size:%?24?%;color:#333}.check[data-v-b152f412]{margin-left:%?45?%;display:inline-block;vertical-align:middle;width:%?31?%;height:%?31?%;border:2px solid #ccc;border-radius:50%}.getWechatAddressButton[data-v-b152f412]{margin:%?35?% auto 0 auto;width:%?688?%;height:%?80?%;background:#00ba19;border-radius:%?40?%;text-align:center}.getWechatAddressButton>span[data-v-b152f412]{line-height:%?80?%;font-size:%?28?%;color:#fff}.saveButton[data-v-b152f412]{margin:%?20?% auto 0 auto;width:%?688?%;height:%?80?%;background:#f44;border-radius:%?40?%;text-align:center}.saveButton>span[data-v-b152f412]{line-height:%?80?%;font-size:%?28?%;color:#fff}.checked[data-v-b152f412]{margin-left:%?45?%;display:inline-block;vertical-align:middle;border:%?2?% solid #f44;width:%?31?%;height:%?31?%;background:#f44;border-radius:50%}.checked>uni-image[data-v-b152f412]{margin:%?3?% 0 0 %?4?%;width:%?25?%;height:%?25?%}body.?%PAGE?%[data-v-b152f412]{background:#f0f0f0}",""])},e172:function(e,t,i){t=e.exports=i("2350")(!1),t.push([e.i,".checkCity[data-v-527f5782]{vertical-align:middle;height:100%;margin-left:%?60?%;display:inline-block;width:70%}.uni-input[data-v-527f5782]{line-height:%?80?%;vertical-align:middle;width:100%;height:%?80?%;display:inline-block;font-size:%?24?%;font-family:SourceHanSansCN-Regular;color:#333}.uni-input1[data-v-527f5782]{line-height:%?80?%;color:#999;vertical-align:middle;width:100%;height:%?80?%;display:inline-block;font-size:%?24?%;font-family:SourceHanSansCN-Regular}",""])},e807:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"checkCity"},[i("v-uni-picker",{staticClass:"dataPicker",attrs:{mode:"multiSelector",range:e.citylist,value:e.cityIndex,"range-key":"name"},on:{columnchange:function(t){arguments[0]=t=e.$handleEvent(t),e.changeCity.apply(void 0,arguments)},change:function(t){arguments[0]=t=e.$handleEvent(t),e.checkCity.apply(void 0,arguments)}}},[""!==e.returnData.provinceidName?i("v-uni-view",{staticClass:"uni-input"},[e._v(e._s(e.returnData.provinceidName)+" "+e._s(e.returnData.areaidName)+" "+e._s(e.returnData.distidName))]):i("v-uni-view",{staticClass:"uni-input1"},[e._v("选择省市  区县")])],1)],1)},s=[];i.d(t,"a",function(){return a}),i.d(t,"b",function(){return s})},f351:function(e,t,i){var a=i("d351");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var s=i("4f06").default;s("061536f9",a,!0,{sourceMap:!1,shadowMode:!1})},f4a7:function(e,t,i){"use strict";var a=i("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=a(i("cebc")),d=a(i("3099")),r=a(i("9e9f")),n=a(i("3372")),u={components:{checkCity:n.default},data:function(){return{resShow:{},phoneHight:null,userAddress:{id:"",name:"",tel:"",detailed_address:"",provinceidName:"",areaidName:"",distidName:"",status:0}}},onLoad:function(e){var t=this;r.default.wxRegister(),void 0!==e.id&&(this.userAddress.id=e.id,this.init()),uni.getSystemInfo({success:function(e){t.phoneHight=e.windowHeight+"px"}})},methods:{returnData:function(e){console.log(e);var t=this;t.userAddress=(0,s.default)({},t.userAddress,e)},init:function(){var e=this;e.addAddress()},saveAddress:function(){var e=this;if(""!=e.userAddress.name&&void 0!=e.userAddress.name)if(""!=e.userAddress.tel&&void 0!=e.userAddress.tel)if(""!=e.userAddress.provinceid&&void 0!=e.userAddress.provinceid)if(""!=e.userAddress.detailed_address&&void 0!=e.userAddress.detailed_address){var t=e.userAddress;d.default._post_form("&p=member&do=saveAddress",t,function(e){uni.navigateBack()})}else uni.showToast({icon:"none",title:"详细地址不能为空",duration:2e3});else uni.showToast({icon:"none",title:"请选择省市",duration:2e3});else uni.showToast({icon:"none",title:"收货人电话不能为空",duration:2e3});else uni.showToast({icon:"none",title:"收货人不能为空",duration:2e3})},getWxAddress:function(){var e=this,t=uni.getStorageSync("cityList");r.default.wxOpenAddress(function(i){e.userAddress.name=i.userName,e.userAddress.tel=i.telNumber,e.userAddress.detailed_address=i.detailInfo,e.userAddress.provinceidName=i.provinceName,e.userAddress.areaidName=i.cityName,e.userAddress.distidName=i.countryName;for(var a=0;a<t.length;a++)if(e.userAddress.provinceidName==t[a].name){e.userAddress.provinceid=t[a].id;for(var s=0;s<t[a].area.length;s++)if(e.userAddress.areaidName==t[a].area[s].name){e.userAddress.cityid=t[a].area[s].id;for(var d=0;d<t[a].area[s].dist.length;d++)e.userAddress.distidName==t[a].area[s].dist[d].name&&(e.userAddress.countyid=t[a].area[s].dist[d].id)}}e.userAddress.provinceid})},addAddress:function(){var e=this,t={id:e.userAddress.id};d.default._post_form("&p=member&do=addAddress",t,function(t){e.userAddress=(0,s.default)({},e.userAddress,t.data)})},changeAddressStatus:function(e){var t=this;t.userAddress.status=e}}};t.default=u}}]);