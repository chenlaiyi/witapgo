(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-subPages-group-assemble-assemble"],{"05da":function(t,n,e){"use strict";var i=e("72c3"),a=e.n(i);a.a},"073b":function(t,n,e){var i=e("7dec");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=e("4f06").default;a("03446475",i,!0,{sourceMap:!1,shadowMode:!1})},"16a5":function(t,n,e){"use strict";var i,a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-uni-view",[e("popup-view",{attrs:{show:t.showBuyMenu,type:"bottom"},on:{clickmask:function(n){arguments[0]=n=t.$handleEvent(n),t.onToggleTrade.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"goods-buy-menu",style:{height:t.buyMeunHeight}},[e("v-uni-view",{staticClass:"iconfont icon-roundclose",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.onToggleTrade.apply(void 0,arguments)}}}),e("v-uni-view",{staticClass:"trade-main"},[e("v-uni-view",{staticClass:"buy-info dis-flex flex-y-center"},[e("v-uni-view",{staticClass:"buy-images",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.previewSkuImage.apply(void 0,arguments)}}},[e("v-uni-image",{attrs:{src:t.image_path}})],1),e("v-uni-view",{staticClass:"buy-content"},[e("v-uni-view",{staticClass:"buy-money price-font-family dis-flex flex-y-line"},[e("v-uni-text",{staticClass:"money-label"},[t._v("¥")]),t._v(t._s(t.goods_price)),"1"===t.goodsDetail.vipstatus?e("v-uni-view",{staticClass:"dis-flex flex-y-center member-coupon-view"},[e("v-uni-view",{staticClass:"member-price-label f-22"},[t._v("会员")]),e("v-uni-view",{staticClass:"f-22 col-f onelist-hidden b-0 coupon-price-2"},[t._v("价格"),e("v-uni-text",{staticClass:"member-coupon-price"},[t._v(t._s(t.sku_coupon_price))]),t._v("元")],1)],1):t._e()],1),e("v-uni-view",{staticClass:"buy-stock"},[t._v("库存"+t._s(t.stock_num)+"件")]),t.specData&&t.specData.length>0?e("v-uni-view",{staticClass:"buy-spec"},[t._v("选择 "+t._s(t.selectSpec))]):t._e()],1)],1),e("v-uni-scroll-view",{staticClass:"buy-spec-list",style:{height:"calc("+t.buyMeunHeight+" - 370rpx)"},attrs:{"scroll-y":!0}},[t.specData&&t.specData.length>0?[t._l(t.specData,function(n,i){return[e("v-uni-view",{key:i+"_0",staticClass:"buy-spec-item"},[e("v-uni-view",{staticClass:"spec-item-title"},[t._v(t._s(n.title))]),n.item.length>0?e("v-uni-view",{staticClass:"spec-items dis-flex flex-dir-row"},[t._l(n.item,function(n,a){return[e("v-uni-view",{key:a+"_0",staticClass:"spec-item",class:{active:n.checked,disabled:n.disabled},attrs:{"data-attr-idx":i,"data-item-idx":a,"data-item-check":n.checked,"data-item-disabled":n.disabled},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.modelTap.apply(void 0,arguments)}}},[t._v(t._s(n.title))])]})],2):t._e()],1)]})]:t._e(),e("v-uni-view",{staticClass:"buy-number dis-flex flex-y-center flex-x-between"},[e("v-uni-view",{staticClass:"buyNumber f-28"},[e("v-uni-text",[t._v("购买数量")])],1),e("v-uni-view",{staticClass:"selectNumber dis-flex flex-y-center"},[e("v-uni-button",{staticClass:"default",class:[t.goods_num>1?"":" default-active"],attrs:{type:"default"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.down.apply(void 0,arguments)}}},[t._v("-")]),e("v-uni-input",{attrs:{type:"number",value:t.goods_num,disabled:!0}}),e("v-uni-button",{staticClass:"default",class:{"default-active":t.goods_num>=t.stock_num||t.buy_limit>0&&t.goods_num>=t.user_limit_num},attrs:{disabled:t.goods_num>=t.stock_num||t.isMaxBuyLimit,type:"default"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.up.apply(void 0,arguments)}}},[t._v("+")])],1)],1)],2),e("v-uni-view",{staticClass:"buy-button-box dis-flex flex-y-center"},[t.isSelectSpec?["3"===t.goodsDetail["type"]&&"2"===t.groupBuyType?[e("v-uni-button",{staticClass:"buy-button join-btn",class:{"notAva-btn":0==t.stock_num},attrs:{disabled:0==t.stock_num||t.isMaxBuyLimit},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.btnClick("confirm")}}},[t._v(t._s(0==t.stock_num?"暂无库存":"去参团"))])]:[e("v-uni-button",{staticClass:"buy-button",class:{"notAva-btn":0==t.stock_num},attrs:{disabled:0==t.stock_num},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.btnClick("confirm")}}},[t._v(t._s(0==t.stock_num?"暂无库存":"确定"))])]]:[e("v-uni-button",{staticClass:"buy-button",attrs:{disabled:!0}},[t._v("请选择商品规格")])]],2)],1)],1)],1)],1)},o=[];e.d(n,"b",function(){return a}),e.d(n,"c",function(){return o}),e.d(n,"a",function(){return i})},"25be":function(t,n,e){var i=e("85b4");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=e("4f06").default;a("07b67aa8",i,!0,{sourceMap:!1,shadowMode:!1})},"36bf":function(t,n,e){"use strict";e.r(n);var i=e("589d"),a=e("8a71");for(var o in a)"default"!==o&&function(t){e.d(n,t,function(){return a[t]})}(o);e("05da");var s,r=e("f0c5"),u=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"76de6834",null,!1,i["a"],s);n["default"]=u.exports},"589d":function(t,n,e){"use strict";var i,a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-uni-view",{staticClass:"assemble"},[e("v-uni-view",{staticClass:"assembleImg",style:{"background-image":"url("+t.imageSrc+")",height:t.phoneHight}},[e("v-uni-view",{staticClass:"assemblePackage"},[1!==t.groupDetail.status?e("v-uni-view",{staticClass:"assembleStatus"},[2==t.groupDetail.status?e("v-uni-view",[e("v-uni-image",{attrs:{src:"/static/images/merchant/zty.png"}}),e("span",[t._v("拼团成功")])],1):t._e(),3==t.groupDetail.status?e("v-uni-view",[e("v-uni-image",{attrs:{src:"/static/images/merchant/ztn.png"}}),e("span",[t._v("拼团失败")])],1):t._e()],1):t._e(),e("v-uni-view",{staticClass:"storeInfo",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.goGoods.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"storeInfoPackage"},[e("v-uni-view",{staticClass:"storeInfoImg"},[e("v-uni-image",{attrs:{src:t.groupDetail.goods.logo}})],1),e("v-uni-view",{staticClass:"ptStoreInfo"},[e("v-uni-view",{staticClass:"ptStoreInfoTitle"},[e("v-uni-view",[e("v-uni-view",[e("v-uni-image",{attrs:{src:"/static/images/merchant/ptt.png"}})],1),e("v-uni-view",[e("span",[t._v(t._s(t.groupDetail.goods.peoplenum)+"人团")])])],1),e("span",[t._v(t._s(t.groupDetail.goods.name))])],1),e("v-uni-view",{staticClass:"ptStoreInfoBody"},[e("span",[t._v("¥"+t._s(t.groupDetail.goods.price))])]),e("v-uni-view",{staticClass:"ptStoreInfoFoot"},[e("span",[t._v("¥"+t._s(t.groupDetail.goods.aloneprice))]),e("span",[t._v("已拼"+t._s(t.groupDetail.goods.realsalenum)+"件")])])],1)],1)],1),e("v-uni-view",{staticClass:"members"},[e("v-uni-view",{staticClass:"membersPackage"},[e("v-uni-view",{staticClass:"membersTitle"},[t._l(t.groupDetail.user,function(t,n){return e("v-uni-view",{staticClass:"membersImgMb"},[e("v-uni-view",[e("v-uni-image",{attrs:{src:t.avatar}})],1)],1)}),2!=t.groupDetail.status?e("v-uni-view",{staticClass:"membersImgMb1"},[e("v-uni-view",[e("v-uni-image",{attrs:{src:"/static/images/merchant/wh.png"}})],1)],1):t._e()],2),1==t.groupDetail.status?e("v-uni-view",{staticClass:"membersBody"},[e("span",[e("span",[t._v(t._s(t.groupDetail.neednum))]),t._v("人成团，还差"),e("span",[t._v(t._s(t.groupDetail.lacknum))]),t._v("人！")]),e("v-uni-view",[e("v-uni-view",{staticClass:"line"}),e("span",[t._v("剩余："+t._s(t.days)+" 天 "+t._s(t.hours)+" 时 "+t._s(t.minutes)+" 分 "+t._s(t.seconds)+" 秒")]),e("v-uni-view",{staticClass:"line"})],1)],1):t._e(),1==t.groupDetail.is_participate&&1==t.groupDetail.status?e("v-uni-view",{staticClass:"joinSubmit",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.showImg.apply(void 0,arguments)}}},[e("span",[t._v("邀请好友拼团")])]):t._e(),0==t.groupDetail.is_participate&&1==t.groupDetail.status?e("v-uni-view",{staticClass:"joinSubmit",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.onToggleTrade.apply(void 0,arguments)}}},[e("span",[t._v("我要参团")])]):t._e(),3!=t.groupDetail.status&&2!=t.groupDetail.status||1!=t.groupDetail.is_participate?t._e():e("v-uni-view",{staticClass:"joinSubmit",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.goOrder.apply(void 0,arguments)}}},[e("span",[t._v("查看我的订单")])]),e("v-uni-view",{staticClass:"membersFoot"},[e("span",{class:[t.groupDetail.status<=3?"successStatus":""]},[t._v("下单开团/参团")]),e("span",{class:[t.groupDetail.status<=3?"successStatus":""]},[t._v(">")]),e("span",{class:[t.groupDetail.status<=3?"successStatus":""]},[t._v("邀请好友参加")]),e("span",{class:[t.groupDetail.status<=3?"successStatus":""]},[t._v(">")]),e("span",{class:[2==t.groupDetail.status?"successStatus":""]},[t._v("人满拼团成功")])])],1)],1),e("v-uni-view",{staticClass:"joinRecord"},[e("v-uni-view",{staticClass:"joinRecordPackage"},[e("v-uni-view",{staticClass:"joinRecordTitle"},[e("v-uni-view",[e("v-uni-view",{staticClass:"smallLine"}),e("v-uni-view",{staticClass:"bigLine"})],1),e("span",[t._v("拼团记录")]),e("v-uni-view",[e("v-uni-view",{staticClass:"smallLine"}),e("v-uni-view",{staticClass:"bigLine"})],1)],1),e("v-uni-view",{staticClass:"joinRecordBody"},t._l(t.groupDetail.user,function(n,i){return e("v-uni-view",{staticClass:"jlMb"},[e("v-uni-view",{staticClass:"jlMbLeft"},[e("v-uni-view",[e("v-uni-image",{attrs:{src:n.avatar}})],1),e("span",[t._v(t._s(n.nickname))])],1),e("v-uni-view",{staticClass:"jlMbRight"},[e("span",[t._v(t._s(n.createtime))])])],1)}),1)],1)],1),e("v-uni-view",{staticClass:"full"}),e("v-uni-view",{on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.show=!1}}},[e("PopManager",{attrs:{show:t.show,type:t.top}},[e("v-uni-image",{staticClass:"popImg",attrs:{src:t.imageRoot+"share.png"}})],1)],1),e("GoodsBuyMenu",{ref:"goodsBuyMenu",attrs:{goodsDetail:t.dataInfo,goodsSpec:t.specData,groupBuyType:t.group_buy_type},on:{submit:function(n){arguments[0]=n=t.$handleEvent(n),t.goodsSubmit.apply(void 0,arguments)}}})],1)],1)],1)},o=[];e.d(n,"b",function(){return a}),e.d(n,"c",function(){return o}),e.d(n,"a",function(){return i})},"5e58":function(t,n,e){"use strict";var i=e("073b"),a=e.n(i);a.a},"72c3":function(t,n,e){var i=e("e254");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=e("4f06").default;a("383cd065",i,!0,{sourceMap:!1,shadowMode:!1})},"7dec":function(t,n,e){n=t.exports=e("2350")(!1),n.push([t.i,".pop[data-v-3a0b2864]{visibility:hidden}.pop--show[data-v-3a0b2864]{visibility:visible}.pop__mask[data-v-3a0b2864]{position:fixed;top:0;left:0;right:0;bottom:0;z-index:998;background:rgba(0,0,0,.5);display:none}.pop__mask--hide[data-v-3a0b2864]{background:0 0}.pop__container[data-v-3a0b2864]{position:fixed;left:50%;top:50%;-webkit-transform:translate3d(-50%,-50%,0);transform:translate3d(-50%,-50%,0);-webkit-transform-origin:center;transform-origin:center;-webkit-transition:all .3s ease;transition:all .3s ease;z-index:999;opacity:0}.pop--show .pop__container[data-v-3a0b2864]{opacity:1}.pop--show .pop__mask[data-v-3a0b2864]{display:block}.pop--left .pop__container[data-v-3a0b2864]{left:0;top:50%;-webkit-transform:translate3d(-100%,-50%,0);transform:translate3d(-100%,-50%,0)}.pop--show.pop--left .pop__container[data-v-3a0b2864]{-webkit-transform:translate3d(0,-50%,0);transform:translate3d(0,-50%,0)}.pop--right .pop__container[data-v-3a0b2864]{right:0;top:50%;left:auto;-webkit-transform:translate3d(100%,-50%,0);transform:translate3d(100%,-50%,0)}.pop--show.pop--right .pop__container[data-v-3a0b2864]{-webkit-transform:translate3d(0,-50%,0);transform:translate3d(0,-50%,0)}.pop--bottom .pop__container[data-v-3a0b2864]{top:auto;left:50%;bottom:0;-webkit-transform:translate3d(-50%,100%,0);transform:translate3d(-50%,100%,0)}.pop--show.pop--bottom .pop__container[data-v-3a0b2864]{-webkit-transform:translate3d(-50%,0,0);transform:translate3d(-50%,0,0)}.pop--top .pop__container[data-v-3a0b2864]{top:0;left:50%;-webkit-transform:translate3d(-50%,-100%,0);transform:translate3d(-50%,-100%,0)}.pop--show.pop--top .pop__container[data-v-3a0b2864]{-webkit-transform:translate3d(-50%,0,0);transform:translate3d(-50%,0,0)}",""])},"85b4":function(t,n,e){n=t.exports=e("2350")(!1),n.push([t.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* 购买菜单 */.goods-buy-menu[data-v-ee19493a]{width:100vw;height:67vh;background:#fff;border-radius:%?12?% %?12?% 0 0;position:relative}.goods-buy-menu .icon-roundclose[data-v-ee19493a]{position:absolute;top:%?20?%;right:%?20?%;font-size:%?42?%;height:1em;width:1em;color:#999}.trade-main[data-v-ee19493a]{padding:%?20?%}.buy-info .buy-images uni-image[data-v-ee19493a]{width:%?180?%;height:%?180?%;display:block;border-radius:%?12?%}.buy-content[data-v-ee19493a]{margin-left:%?30?%;font-size:%?24?%}.buy-money[data-v-ee19493a]{font-size:%?40?%;color:#fe504f}.buy-money uni-text[data-v-ee19493a]{font-size:%?24?%}.buy-stock[data-v-ee19493a]{margin-top:%?20?%;color:#999}.buy-spec[data-v-ee19493a]{margin-top:%?24?%}.buy-spec-list[data-v-ee19493a]{margin-top:%?30?%;height:calc(65vh - %?336?%)}.buy-spec-item[data-v-ee19493a]{padding-bottom:%?30?%}.spec-item-title[data-v-ee19493a]{font-size:%?28?%;line-height:2em;margin-top:%?12?%}.spec-items[data-v-ee19493a]{-webkit-flex-wrap:wrap;flex-wrap:wrap}.spec-items .spec-item[data-v-ee19493a]{font-size:%?26?%;white-space:nowrap;background:#f5f5f5;padding:%?12?% %?20?%;border-radius:%?12?%;color:#333;margin:%?20?% %?20?% 0 0;border:%?1?% solid transparent}.spec-items .spec-item.active[data-v-ee19493a]{background:#fffbfb;color:#fe504f;border:%?1?% solid #f44}.spec-items .spec-item.disabled[data-v-ee19493a]{background:#f5f5f5;color:#d0d0d0}.buy-number[data-v-ee19493a]{margin:%?20?% 0}.buy-button-box[data-v-ee19493a]{position:absolute;left:0;right:0;bottom:0;height:%?140?%;background:#fff}.buy-button-box .buy-button[data-v-ee19493a]{color:#fff;border-radius:%?50?%;width:90%;margin:%?16?% 5% 0;background:#fe504f;font-size:%?28?%;line-height:2.8em}.buy-button-box .buy-button.join-btn[data-v-ee19493a]{background:#ffd940;color:#333}.buy-button-box .buy-button.notAva-btn[data-v-ee19493a]{background-color:#eee!important;color:#999!important}.member-price-label[data-v-ee19493a]{color:#333;height:0;line-height:%?30?%;border-width:%?0?% %?10?% %?30?% 0;border-style:none solid solid;border-color:transparent #000 #efd68f;position:relative;left:%?10?%;padding-left:%?6?%;border-radius:%?4?% 0 0 %?4?%;margin-left:%?-10?%}.member-coupon-price[data-v-ee19493a]{color:#efd68f}.coupon-price-2[data-v-ee19493a]{padding:0 %?10?%;height:%?30?%;line-height:%?30?%;border-radius:0 %?4?% %?4?% 0}.member-coupon-view[data-v-ee19493a]{position:relative;margin-left:%?12?%;top:%?-6?%}.selectNumber uni-input[data-v-ee19493a]{text-align:center;width:%?100?%}",""])},"8a71":function(t,n,e){"use strict";e.r(n);var i=e("d001"),a=e.n(i);for(var o in i)"default"!==o&&function(t){e.d(n,t,function(){return i[t]})}(o);n["default"]=a.a},9052:function(t,n,e){"use strict";var i,a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-uni-view",{staticClass:"page"},[e("v-uni-view",{staticClass:"pop",class:["pop--"+t.type,{"pop--show":t.show}]},[t.overlay?e("v-uni-view",{staticClass:"pop__mask",class:{"pop__mask--hide":!t.showOverlay},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.handleMaskClick.apply(void 0,arguments)}}}):t._e(),e("v-uni-view",{staticClass:"pop__container",style:{bottom:t.bottom}},[t._t("default")],2)],1)],1)},o=[];e.d(n,"b",function(){return a}),e.d(n,"c",function(){return o}),e.d(n,"a",function(){return i})},a9d6:function(t,n,e){"use strict";e.r(n);var i=e("b6fe"),a=e.n(i);for(var o in i)"default"!==o&&function(t){e.d(n,t,function(){return i[t]})}(o);n["default"]=a.a},b6fe:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i={data:function(){return{}},props:{show:{type:Boolean,default:!1},overlay:{default:!0},showOverlay:{default:!0},type:{type:String,default:"center"},bottom:{type:String,default:""},modelData:{type:Object,default:function(){}}},components:{},computed:{},mounted:function(){},methods:{handleMaskClick:function(){this.$emit("clickmask")}}};n.default=i},b99f:function(t,n,e){"use strict";var i=e("25be"),a=e.n(i);a.a},c285:function(t,n,e){"use strict";var i=e("288e");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=i(e("5176"));e("7514"),e("6762"),e("2fdb");var o=i(e("a745")),s=i(e("75fc"));e("c5f6");var r=i(e("80bf")),u=i(e("f7c1")),d={data:function(){return{showBuyMenu:!1,goods_price:"",goods_num:1,stock_num:0,buy_limit:0,user_limit_num:0,goods_sku_id:"",goods_spec_arr:[],sku_coupon_price:0,specData:[],image_path:null,skuItem:null,activityData:null,lp_now_stk:0}},props:{goodsSpec:{type:Array,default:function(){return null}},goodsDetail:{type:Object,default:function(){return null}},specDisabled:{type:Boolean,default:!1},groupBuyType:{type:String,default:""}},components:{PopupView:u.default},computed:{selectSpec:function(){var t=this.specData,n=[];return t&&t.length>0&&t.map(function(t){t.item.map(function(t){t.checked&&n.push(t.title)})}),n.join(" · ")},isSelectSpec:function(){if(this.goodsDetail)return!Number(this.goodsDetail.optionstatus>0)||this.goods_spec_arr.filter(function(t){return!!t}).length===this.specData.length},buyMeunHeight:function(){if(this.goodsDetail&&this.specData["list"])return Number(this.goodsDetail.optionstatus)>0?this.specData&&this.specData["list"]["length"]>1?"67vh":"50vh":"40vh"},hasGroups:function(){return this.goodsActivity&&this.goodsActivity.group_id},groupsType:function(){return"3"===this.goodsDetail.type&&"2"===this.groupBuyType},isShowJoinGroups:function(){return this.activityData&&1===this.activityData.is_show_groups&&this.activityData.groupsNumber>0},isMaxBuyLimit:function(){if(this.activityData){var t=this.limit_buy,n=this.surplus_quantity,e=this.activityData.buyNumber;if("string"===typeof e)return 10===t&&this.goods_num+Number(e)>=n}}},watch:{goodsSpec:function(t){var n;t&&t.length>0&&(n=this.specData).splice.apply(n,[0,t.length].concat((0,s.default)(t)))},goodsDetail:function(t){t&&this.initBuyMeunData(t)},groupBuyType:function(t){t&&this.updateSpecGoods()}},mounted:function(){},methods:{initBuyMeunData:function(t){var n=this,e={};if(e.goods_sku_id=t["spec"]?t["spec"]["info"][0]["id"]:"",e.goods_price=t["spec"]?!n.groupsType&&t.is_vip>0&&"1"===t.vipstatus?t["spec"]["info"][0]["vipprice"]:t["spec"]["info"][0]["price"]:t["price"],e.sku_coupon_price=t["spec"]?t["spec"]["info"][0]["vipprice"]:t["vipprice"],e.stock_num=t.stk,e.buy_limit=Number(t.buy_limit),e.user_limit_num=t.user_limit_num,e.image_path="5"===t.type?t.logo:t.thumbs[0],e.lp_now_stk=t["lp_now_stk"],Number(t.optionstatus)>0&&t["spec"]["list"][0]["item"]["thumb"]&&(e.image_path=t["spec"]["list"][0]["item"]["thumb"]),Number(t.optionstatus)>0){var i=n.initManySpecData(this.specData),a=i.map(function(t){var n="";return t.item.map(function(t){t.checked&&(n=t.id)}),n});if(a.length>0){var o=t.spec.info.filter(function(t){return t.specs===a.join("_")});e.stock_num=o.length>0?o[0].stock:t.stk}e.specData=i}this.setData(e)},initManySpecData:function(t){for(var n in t)for(var e in t[n].item)e<1&&(t[n].item[0].checked=!0,this.goods_spec_arr.splice(n,1,t[n].item[0].id));return t},modelTap:function(t){var n=this,e=Number(t.currentTarget.dataset.attrIdx),i=Number(t.currentTarget.dataset.itemIdx),a=t.currentTarget.dataset.itemDisabled,o=t.currentTarget.dataset.itemCheck,s=null;n.specDisabled&&a||(s=n.specData[e].item.map(function(t,s){if(n.specDisabled?a||(t.checked=!o&&i===s,i===s&&n.goods_spec_arr.splice(e,1,t.signid)):t.checked=i===s,t.checked){var r=t.thumb?t.thumb:n.goodsDetail.thumbs[0];n.setData({image_path:r})}return i===s&&(n.goods_spec_arr.splice(e,1,t.checked?t.id:null),n.specDisabled&&n.filterDisabledSpec(t,e)),t}),n.$set(n.specData[e],"item",s),n.updateSpecGoods())},filterDisabledSpec:function(t,n){var e=this,i=e.goodsDetail.sku,a=e.specData,s=a.length,r=[];if((0,o.default)(a)&&(0,o.default)(i)){if(i.map(function(n){var e=n.is_use,i=(n.title,n.spec_sku_id),a=void 0===i?"":i;1!==s||e?!e&&a.includes(t.signid)&&r.push(a):r.push(a)}),1===s)return;a.map(function(t,i){var a=t.spec_item_list;i!==n&&a.map(function(t){var n=e.goods_spec_arr.map(function(t){return t});n[i]=t.signid,n=n.filter(function(t){return!!t}).join("_"),t.disabled=r.includes(n)})})}},updateSpecGoods:function(){var t=this.goods_spec_arr.join("_"),n=this.goodsDetail.spec?this.goodsDetail.spec.info:[],e=this.goodsDetail,i=e.is_vip,a=(e.discount_price,e.vipstatus),o=e.type,s=null;if(s=n.find(function(n){return n.specs==t}),"object"===typeof s)this.skuItem=s,this.setData({goods_sku_id:s.id,goods_price:"1"===this.groupBuyType||i>0&&"1"===a?s.vipprice:s.price,stock_num:s.stock,goods_num:1,sku_coupon_price:s.vipprice});else if(void 0===s||""===s){this.skuItem?this.skuItem:n[0];"3"===o?(this.goods_price="2"===this.groupBuyType?this.goodsDetail["price"]:this.goodsDetail["aloneprice"],this.stock_num=this.stock_num):(this.goods_price=n[0].price,this.stock_num=n[0].stock)}},up:function(){var t=this.stock_num,n=this.buy_limit,e=this.user_limit_num;n>0&&this.goods_num>=e?uni.showToast({icon:"none",title:0===e?"购买数量已达上限":"您最多可购买".concat(e,"件商品")}):this.goods_num<t&&++this.goods_num},down:function(){this.goods_num>1&&--this.goods_num},btnClick:function(t){var n=this.goods_num,e=this.goods_sku_id,i="3"===this.goodsDetail.type&&"2"===this.groupBuyType?"1":"2",o={btnType:t,goods_num:n,goods_sku_id:e};"3"===this.goodsDetail.type&&(0,a.default)(o,{buystatus:i}),"1"===this.goodsDetail.type&&this.lp_now_stk>0&&n>this.lp_now_stk?r.default.showError("抢购数量已达上限"):(this.showBuyMenu=!1,this.activeBuyMeuns(!1),this.$emit("submit",o))},activeBuyMeuns:function(t){var n=this,e=(n.groupBuyType,n.specData);t&&this.updateSpecGoods(),(0,o.default)(e)&&e.length>0&&(e=e.map(function(e,i){return e.item=e.item.map(function(e,a){return t||(e.checked=!1),n.goods_spec_arr.splice(i,1,""),e}),e}),this.specData=e)},onToggleTrade:function(){this.showBuyMenu=!this.showBuyMenu}}};n.default=d},c9d9:function(t,n,e){"use strict";e.r(n);var i=e("c285"),a=e.n(i);for(var o in i)"default"!==o&&function(t){e.d(n,t,function(){return i[t]})}(o);n["default"]=a.a},d001:function(t,n,e){"use strict";var i=e("288e");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=i(e("e814"));e("c5f6");var o=i(e("80bf")),s=(i(e("9401")),i(e("f7c1"))),r=i(e("de61")),u={components:{PopManager:s.default,GoodsBuyMenu:r.default},computed:{imageSrc:function(){return this.imageRoot+"assemBack.png"}},data:function(){return{phoneHight:null,group_id:"",id:null,orderid:null,groupDetail:{},days:0,hours:0,minutes:0,seconds:0,show:!1,top:"top",bottom:"bottom",show1:!1,goodsDetail:{},goods_id:null,goodsType:null,goods_num:1,goods_sku_id:"",dataInfo:{},specData:[],group_buy_type:null}},onLoad:function(t){this.id=t.id;var n=this;uni.getSystemInfo({success:function(t){n.phoneHight=t.windowHeight+"px"}}),void 0!==t.orderid&&(this.orderid=t.orderid),void 0==t.orderid&&(this.orderid=""),void 0!==t.group_id&&(this.group_id=t.group_id),void 0==t.group_id&&(this.group_id=""),this.init()},methods:{goGoods:function(){var t=this;o.default.navigationTo({url:"pages/subPages/goods/index?type=3&id="+t.id})},init:function(){var t=this;t.getGroupDetail1(),t.getGoodsDetail()},goodsSubmit:function(t){var n=this,e=t.btnType,i=t.goods_num,a=t.goods_sku_id;n.goods_num=i,n.goods_sku_id=a,"confirm"===e&&n.submit()},initGoodsDetailData:function(t){var n=this;return t["comment"]&&!!t["comment"]["length"]>0&&t.comment.map(function(t){return t.createtime=n.$util.formatTime(t.createtime,"rule","-"),t.star=Number(t.star),t}),t.is_vip=Number(t.is_vip),t},onToggleTrade:function(){this.$refs.goodsBuyMenu.onToggleTrade()},showM:function(){var t=this;t.getGoodsDetail(),t.show1=!0},showImg:function(){var t=this;t.show=!0},getGoodsDetail:function(t,n){var e=this,i={id:e.id,type:3};o.default._post_form("&p=goods&do=getGoodsDetail",i,function(t){var n=e.initGoodsDetailData(t.data),i=n.spec?n.spec.list:null;e.setData({dataInfo:n,specData:i}),console.info(e.dataInfo),console.info(e.specData)},!1,function(){e.loadlogo=!1})},submit:function(){console.info(333333333);var t=this,n=t.dataInfo,e=Number(n.buy_limit)||"",i=n.user_limit_num||"";if(e>0&&i<=0)return console.info(555555555),void o.default.showError("购买数量已达上限");console.info(t.dataInfo),console.info(t.goods_id),console.info(t.goods_num),console.info(t.goods_sku_id),o.default.navigationTo({url:"pages/subPages/submitOrder/submitOrder?goods_id="+t.dataInfo.id+"&goods_num="+t.goods_num+"&specid="+(t.goods_sku_id||"")+"&plugin="+t.dataInfo.type+"&buystatus=1&group_id="+t.group_id,success:function(){t.onToggleTrade()}})},getGroupDetail1:function(){var t=this,n={order_id:t.orderid,group_id:t.group_id};o.default._post_form("&p=wlfightgroup&do=groupDetail",n,function(n){n.data.goods.name.length>22&&(n.data.goods.name=n.data.goods.name.slice(0,22)+"..."),t.groupDetail=n.data,t.group_id=n.data.group_id;var e=(new Date).getTime(),i=1e3*Number(n.data.failtime),o=(0,a.default)((i-e)/1e3),s=setInterval(function(){o--,t.days=(0,a.default)(o/86400),t.hours=(0,a.default)(o%86400/3600),t.minutes=(0,a.default)(o%3600/60),t.seconds=(0,a.default)(o%60),(0==o||o<0)&&(clearInterval(s),t.days="00",t.hours="00",t.minutes="00",t.seconds="00")},1e3)})},goOrder:function(){o.default.navigationTo({url:"pages/subPages/orderList/orderList"})}}};n.default=u},de61:function(t,n,e){"use strict";e.r(n);var i=e("16a5"),a=e("c9d9");for(var o in a)"default"!==o&&function(t){e.d(n,t,function(){return a[t]})}(o);e("b99f");var s,r=e("f0c5"),u=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"ee19493a",null,!1,i["a"],s);n["default"]=u.exports},e254:function(t,n,e){n=t.exports=e("2350")(!1),n.push([t.i,".successStatus[data-v-76de6834]{color:#fa3f2b!important}.assemble[data-v-76de6834]{overflow-y:scroll;overflow-x:hidden}uni-page-body[data-v-76de6834]{background:#f8f8f8}.assembleImg[data-v-76de6834]{background-color:#f8f8f8;width:%?750?%;background-size:%?750?% auto;background-repeat:no-repeat}.storeInfo[data-v-76de6834]{z-index:2;margin:%?45?% auto 0 auto;width:%?690?%;background:#fff;border-radius:%?10?%}.assemblePackage[data-v-76de6834]{width:%?750?%;border:1px solid transparent}.storeInfoPackage[data-v-76de6834]{padding:%?30?%}.storeInfoPackage > uni-view[data-v-76de6834]{display:inline-block;vertical-align:top}.storeInfoImg[data-v-76de6834]{width:%?170?%;height:%?170?%;border-radius:%?10?%;overflow:hidden}.storeInfoImg > uni-image[data-v-76de6834]{width:%?170?%;height:%?170?%}.ptStoreInfo[data-v-76de6834]{margin-left:%?30?%;width:%?425?%}.ptStoreInfoTitle[data-v-76de6834]{height:%?76?%}.ptStoreInfoTitle > span[data-v-76de6834]{vertical-align:middle;font-size:%?28?%;color:#000}.ptStoreInfoTitle > uni-view[data-v-76de6834]{font-size:0;display:inline-block;vertical-align:middle;width:%?122?%;height:%?30?%;border:%?1?% solid #f44;border-radius:%?4?%;overflow:hidden}.ptStoreInfoTitle > uni-view > uni-view[data-v-76de6834]:nth-child(1){width:%?30?%;height:%?30?%;background:#f44}.ptStoreInfoTitle > uni-view > uni-view:nth-child(1) > uni-image[data-v-76de6834]{width:%?30?%;height:%?30?%}.ptStoreInfoTitle > uni-view > uni-view[data-v-76de6834]:nth-child(2){width:%?82?%;height:%?30?%;text-align:center}.ptStoreInfoTitle > uni-view > uni-view:nth-child(2) > span[data-v-76de6834]{line-height:%?30?%;font-size:%?18?%;color:#f44}.ptStoreInfoTitle > uni-view > uni-view[data-v-76de6834]{display:inline-block;vertical-align:middle}.ptStoreInfoBody[data-v-76de6834]{margin-top:%?20?%}.ptStoreInfoBody > span[data-v-76de6834]{font-size:%?24?%;font-weight:700;color:#fe504f}.ptStoreInfoFoot[data-v-76de6834]{margin-top:%?10?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.ptStoreInfoFoot > span[data-v-76de6834]{font-size:%?24?%;font-weight:700;color:#999}.members[data-v-76de6834]{margin:%?20?% auto 0 auto;width:%?690?%;background:#fff;border-radius:%?10?%}.membersImgMb[data-v-76de6834]{display:inline-block;margin-top:%?20?%;width:20%;text-align:center}.membersImgMb > uni-view[data-v-76de6834]{margin:auto;width:%?77?%;height:%?77?%;border-radius:50%;overflow:hidden}.membersImgMb > uni-view > uni-image[data-v-76de6834]{width:%?77?%;height:%?77?%}.membersImgMb1[data-v-76de6834]{display:inline-block;margin-top:%?20?%;width:20%;text-align:center}.membersImgMb1 > uni-view[data-v-76de6834]{border:%?1?% dashed #ccc;margin:auto;width:%?77?%;height:%?77?%;border-radius:50%;overflow:hidden}.membersImgMb1 > uni-view > uni-image[data-v-76de6834]{width:%?77?%;height:%?77?%}.membersTitle[data-v-76de6834]{padding:0 %?30?%;margin-top:%?30?%;-webkit-flex-wrap:wrap;flex-wrap:wrap}.membersPackage[data-v-76de6834]{border:1px solid transparent}.membersBody[data-v-76de6834]{margin-top:%?50?%;text-align:center}.membersBody > span[data-v-76de6834]{font-size:%?28?%;font-weight:800;color:#333}.membersBody > span > span[data-v-76de6834]{font-size:%?36?%;color:#f44}.membersBody > uni-view[data-v-76de6834]{margin-top:%?50?%;margin:%?50?% 0 0 0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.membersBody > uni-view > span[data-v-76de6834]{vertical-align:top;font-size:%?24?%;color:#333}.line[data-v-76de6834]{margin-top:%?17?%;vertical-align:top;width:%?153?%;height:%?1?%;background:#eee}.joinSubmit[data-v-76de6834]{margin:%?50?% auto 0 auto;width:%?630?%;height:%?80?%;background:#fa3f2b;border-radius:%?40?%;text-align:center}.joinSubmit > span[data-v-76de6834]{line-height:%?80?%;font-size:%?28?%;color:#fff}.membersFoot[data-v-76de6834]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;padding:%?40?% %?50?%}.membersFoot > span[data-v-76de6834]{font-size:%?24?%;color:#999}.joinRecord[data-v-76de6834]{margin:%?20?% auto 0 auto;width:%?688?%;background:#fff;border-radius:%?10?%}.joinRecordPackage[data-v-76de6834]{padding:%?20?% %?30?%}.joinRecordTitle[data-v-76de6834]{text-align:center}.joinRecordTitle > span[data-v-76de6834]{vertical-align:middle;font-size:%?30?%;font-weight:700;color:#fa3f2b}.joinRecordTitle > uni-view[data-v-76de6834]{margin:0 %?20?%;display:inline-block;vertical-align:middle}.joinRecordTitle > uni-view > uni-view[data-v-76de6834]{display:inline-block;vertical-align:middle}.smallLine[data-v-76de6834]{margin-right:%?5?%;width:%?5?%;height:%?11?%;background:rgba(250,63,43,.5);border-radius:%?2?%;-webkit-transform:rotate(30deg);transform:rotate(30deg)}.bigLine[data-v-76de6834]{margin-top:%?3?%;width:%?7?%;height:%?16?%;background:#fa3f2b;border-radius:%?2?%;-webkit-transform:rotate(30deg);transform:rotate(30deg)}.joinRecordBody[data-v-76de6834]{margin-top:%?40?%}.jlMb[data-v-76de6834]{margin-top:%?30?%;padding:0 %?30?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.jlMb > uni-view[data-v-76de6834]{vertical-align:middle;display:inline-block}.jlMbLeft[data-v-76de6834]{vertical-align:middle}.jlMbLeft > uni-view[data-v-76de6834]{display:inline-block;vertical-align:middle;width:%?60?%;height:%?60?%;border-radius:50%;overflow:hidden}.jlMbLeft > uni-view > uni-image[data-v-76de6834]{width:%?60?%;height:%?60?%}.jlMbLeft > span[data-v-76de6834]{vertical-align:middle;margin-left:%?15?%;font-size:%?28?%;font-weight:700;color:#333}.jlMbRight[data-v-76de6834]{vertical-align:middle}.jlMbRight > span[data-v-76de6834]{line-height:%?60?%;font-size:%?24?%;font-weight:700;color:#999}.assembleStatus[data-v-76de6834]{z-index:2;margin-top:%?115?%;text-align:center}.assembleStatus > uni-view > uni-image[data-v-76de6834]{vertical-align:middle;width:%?45?%;height:%?45?%}.assembleStatus > uni-view > span[data-v-76de6834]{font-size:%?36?%;vertical-align:middle;font-weight:700;color:#fff}.full[data-v-76de6834]{width:%?750?%;height:%?80?%}.popImg[data-v-76de6834]{width:%?750?%}body.?%PAGE?%[data-v-76de6834]{background:#f8f8f8}",""])},f7c1:function(t,n,e){"use strict";e.r(n);var i=e("9052"),a=e("a9d6");for(var o in a)"default"!==o&&function(t){e.d(n,t,function(){return a[t]})}(o);e("5e58");var s,r=e("f0c5"),u=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"3a0b2864",null,!1,i["a"],s);n["default"]=u.exports}}]);