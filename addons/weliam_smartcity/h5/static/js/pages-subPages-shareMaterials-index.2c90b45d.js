(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-subPages-shareMaterials-index"],{"21fd":function(t,e,a){"use strict";a.r(e);var i=a("a182"),n=a("3a49");for(var s in n)"default"!==s&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("7744");var r,o=a("f0c5"),l=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"515fb2d6",null,!1,i["a"],r);e["default"]=l.exports},"3a49":function(t,e,a){"use strict";a.r(e);var i=a("f63b"),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},7744:function(t,e,a){"use strict";var i=a("9a08"),n=a.n(i);n.a},"904e":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".none[data-v-515fb2d6]{background:#fff}.none > uni-text[data-v-515fb2d6]{color:#333}.have[data-v-515fb2d6]{background:#f44}.have > uni-text[data-v-515fb2d6]{color:#fff}.chackImg[data-v-515fb2d6]{position:absolute;top:%?10?%;right:%?10?%;width:%?30?%;height:%?30?%;text-align:center;-webkit-border-radius:50%;border-radius:50%}.chackImg > uni-text[data-v-515fb2d6]{line-height:%?30?%;font-size:%?24?%}.qx_text[data-v-515fb2d6]{margin-left:%?12?%;line-height:%?50?%;font-size:%?24?%;color:#333}.ver_mid[data-v-515fb2d6]{vertical-align:middle}.qx[data-v-515fb2d6]{display:inline-block;width:%?30?%;height:%?30?%;-webkit-border-radius:50%;border-radius:50%;text-align:center}.qx > uni-text[data-v-515fb2d6]{font-size:%?24?%;line-height:%?30?%}.shareMaterials_mian_foot_button[data-v-515fb2d6]{width:%?170?%;height:%?50?%;background:#f44;-webkit-border-radius:%?25?%;border-radius:%?25?%;text-align:center}.shareMaterials_mian_foot_button > uni-text[data-v-515fb2d6]{font-size:%?24?%;color:#fff;line-height:%?50?%}.shareMaterials_mian_foot[data-v-515fb2d6]{margin-top:%?30?%}.shareMaterials_mian_body[data-v-515fb2d6]{-webkit-flex-wrap:wrap;flex-wrap:wrap;margin-top:%?24?%}.imgMb_image[data-v-515fb2d6]{position:relative;width:%?198?%;height:%?198?%;display:inline-block;margin:auto;background:grey}.imgMb[data-v-515fb2d6]{margin-top:%?17?%;display:inline-block;width:33%}.shareMaterials_mian_package[data-v-515fb2d6]{padding:%?40?% %?30?% %?30?% %?30?%}.shareMaterials_mian[data-v-515fb2d6]{margin-top:%?20?%;width:%?690?%;background:#fff;-webkit-border-radius:%?10?%;border-radius:%?10?%}.shareMaterials_title_main[data-v-515fb2d6]{margin-top:%?28?%;width:%?628?%;height:%?263?%}.shareMaterials_title_main_tetx[data-v-515fb2d6]{font-size:%?24?%;color:#666}.level_button[data-v-515fb2d6]{width:%?140?%;height:%?50?%;background:#f44;-webkit-border-radius:%?25?%;border-radius:%?25?%;text-align:center}.level_button > uni-text[data-v-515fb2d6]{font-size:%?24?%;color:#fff;line-height:%?50?%}.dis-flex[data-v-515fb2d6]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.dis-flex-star[data-v-515fb2d6]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start}.ver_mid[data-v-515fb2d6]{vertical-align:middle}.level_text[data-v-515fb2d6]{margin-left:%?15?%;font-size:%?28?%;color:#111}.line[data-v-515fb2d6]{display:inline-block;width:%?6?%;height:%?26?%;background:#f44;-webkit-border-radius:%?3?%;border-radius:%?3?%}.shareMaterials_title_package[data-v-515fb2d6]{padding:%?30?% %?30?% %?45?% %?30?%}.shareMaterials[data-v-515fb2d6]{font-size:0;background:#f8f8f8}.shareMaterials_package[data-v-515fb2d6]{padding:%?20?% %?30?% %?116?% %?30?%}.shareMaterials_title[data-v-515fb2d6]{width:%?690?%;height:%?416?%;background:#fff;-webkit-border-radius:%?10?%;border-radius:%?10?%}",""]),t.exports=e},"9a08":function(t,e,a){var i=a("904e");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("7394b06b",i,!0,{sourceMap:!1,shadowMode:!1})},a182:function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){return i}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-scroll-view",{staticClass:"shareMaterials",style:{height:t.phoneHight},attrs:{"scroll-y":!0,"scroll-x":!1}},[a("far-bottom"),a("v-uni-view",{staticClass:"shareMaterials_package"},[a("v-uni-view",{staticClass:"shareMaterials_title"},[a("v-uni-view",{staticClass:"shareMaterials_title_package"},[a("v-uni-view",{staticClass:"shareMaterials_level dis-flex"},[a("v-uni-view",{staticClass:"shareMaterials_level_left"},[a("v-uni-view",{staticClass:"line ver_mid"}),a("v-uni-text",{staticClass:"level_text ver_mid"},[t._v("推广文案")])],1),a("v-uni-view",{staticClass:"level_button",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getExtension.apply(void 0,arguments)}}},[a("v-uni-text",[t._v("复制文案")])],1)],1),a("v-uni-scroll-view",{staticClass:"shareMaterials_title_main",attrs:{"scroll-y":!0,"scroll-x":!1}},[a("v-uni-text",{staticClass:"shareMaterials_title_main_tetx"},[t._v(t._s(t.goodsExtensionInfo.extension_text))])],1)],1)],1),a("v-uni-view",{staticClass:"shareMaterials_mian"},[a("v-uni-view",{staticClass:"shareMaterials_mian_package"},[a("v-uni-view",{staticClass:"shareMaterials_level dis-flex"},[a("v-uni-view",{staticClass:"shareMaterials_level_left"},[a("v-uni-view",{staticClass:"line ver_mid"}),a("v-uni-text",{staticClass:"level_text ver_mid"},[t._v("选择分享图")])],1)],1),a("v-uni-view",{staticClass:"shareMaterials_mian_body dis-flex-star"},t._l(t.imgArrays,(function(e,i){return a("v-uni-view",{staticClass:"imgMb"},[a("v-uni-view",{staticClass:"imgMb_image",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.addImage(t.client,e,i)}}},[a("v-uni-image",{staticClass:"imgMb_image",attrs:{src:e,mode:"aspectFill"}}),3===t.client?a("v-uni-view",{staticClass:"chackImg",class:-1!=t.imgArray.indexOf(e)?"have":"none"},[a("v-uni-text",{staticClass:"iconfont icon-check"})],1):t._e()],1)],1)})),1),3===t.client?a("v-uni-view",{staticClass:"shareMaterials_mian_foot dis-flex"},[a("v-uni-view",{staticClass:"shareMaterials_mian_foot_left",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.qx.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"qx ver_mid",class:t.imgArray.length==t.allImgLength?"have":"none"},[a("v-uni-text",{staticClass:"iconfont icon-check"})],1),a("v-uni-text",{staticClass:"qx_text ver_mid"},[t._v("全选")])],1),a("v-uni-view",{staticClass:"shareMaterials_mian_foot_button",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.saveImg.apply(void 0,arguments)}}},[a("v-uni-text",[t._v("保存到相册")])],1)],1):t._e()],1)],1)],1)],1)},s=[]},f63b:function(t,e,a){"use strict";var i=a("4ea4");a("4160"),a("c975"),a("a434"),a("a9e3"),a("d3b7"),a("ac1f"),a("5319"),a("841c"),a("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("2c7c")),s=(i(a("ec93")),{data:function(){return{phoneHight:null,e:{},goodsExtensionInfo:{},posterList:{},imgArray:[],allImgLength:0,client:null,imgArrays:[]}},onLoad:function(t){var e=this;e.e=t,e.client=Number(n.default.getClientType()),e.init(t.id,t.type),console.info("client",e.client)},onShow:function(){},methods:{init:function(t,e){var a=this;uni.getSystemInfo({success:function(t){a.phoneHight=t.windowHeight+"px"}});var i=0;"3"==e?i=1:"4"==e?i=2:"6"==e?i=3:"7"==e&&(i=7),a.getGoodsExtensionInfo(t,i),a.getPoster(t,e)},previewImage:function(t){},qx:function(){var t=this;if(t.imgArray.length==t.allImgLength)t.setData({imgArray:[]});else if(t.imgArray.length!=t.allImgLength){t.setData({imgArray:[]});var e=[];e.push(t.posterList.url);for(var a=0;a<t.goodsExtensionInfo.extension_img.length;a++)e.push(t.goodsExtensionInfo.extension_img[a]);t.setData({imgArray:e})}},addImage:function(t,e,a){var i=this;if(3===t)if(-1==i.imgArray.indexOf(e))i.imgArray.push(e);else for(var n=0;n<i.imgArray.length;n++)i.imgArray[n]==e&&i.imgArray.splice(n,1);else uni.previewImage({current:i.imgArrays[a],urls:i.imgArrays})},getExtension:function(){var t=this;uni.setClipboardData({data:t.goodsExtensionInfo.extension_text,success:function(){uni.showToast({icon:"none",title:"复制成功",duration:2e3})}})},saveImg:function(){var t=this;uni.showLoading({title:"保存中"}),t.queue(t.imgArray).then((function(t){uni.hideLoading(),n.default.showSuccess("保存成功")})).catch((function(t){wx.hideLoading(),console.log(t)}))},queue:function(t){var e=this,a=Promise.resolve();return t.forEach((function(t,i){a=a.then((function(){return e.downloadUrl(t)}))})),a},downloadUrl:function(t){return-1==t.search("https")&&(t=t.replace("http","https")),new Promise((function(e,a){uni.downloadFile({url:t,success:function(t){var i=t.tempFilePath;uni.saveImageToPhotosAlbum({filePath:i,success:function(t){e(t)},fail:function(e){a(t)}})},fail:function(t){a(t)}})}))},getPoster:function(t,e){var a=this,i={id:t,type:e,bg_img:""};n.default._post_form("&do=Poster",i,(function(t){a.posterList=t.data,a.imgArrays.push(t.data.url)}))},getGoodsExtensionInfo:function(t,e){var a=this,i={id:t,type:e};n.default._post_form("&p=goods&do=getGoodsExtensionInfo",i,(function(t){a.goodsExtensionInfo=t.data;for(var e=0;e<t.data.extension_img.length;e++)a.imgArrays.push(t.data.extension_img[e]);a.allImgLength=1+t.data.extension_img.length}))}}});e.default=s}}]);