(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mainPages-index-index"],{"0fa0":function(a,t,e){"use strict";var o=e("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;e("2f62");var i=o(e("3368")),n=o(e("4dfd")),s=o(e("3411")),d=o(e("fd99")),r=o(e("8ac9")),u=o(e("abc2")),g=o(e("2050")),c=(o(e("695d")),uni.createInnerAudioContext()),l={data:function(){return{loadlogo:!1,swiperI:1,loading:!1,loadAgain:!1,isTabbars:!0,datas:{basic:[],adv:"",page:{}},pageInfo:{},play_Audio:!1,diypagesData:[],richtext:{imageProp:{mode:"widthFix"}},btngroup:{backgroundColor:"#ffffff",btnBordeRadius:"",displayMode:"",eachLineNum:"",eachPageNum:"",list:[],indicatorDots:!0,duration:300,btngroupHandleData:[],swiperHeight:""},bottomMenu:null}},components:{Loadlogo:n.default,diypages:s.default,Advert:d.default,TabBars:r.default,wxParse:u.default,recommendGoods:g.default},computed:{},onShow:function(){},mounted:function(){var a=uni.getStorageSync("agencyData"),t=i.default.getClientType(),e=i.default.getBrowser(),o=this;if("chrome53.0"===e)return o.loadlogo=!0,o.isTabbars=!1,uni.showModal({content:"微信浏览器版本过低,请使用系统浏览器",showCancel:!1}),!1;if("1"===t||"3"===t)if(a){var n={latitude:a.lat,longitude:a.lng};o.getPagesData(n,a.aid)}else jWeixin.ready(function(){jWeixin.getLocation({type:"gcj02",success:function(a){i.default.getAreaId(a,"","",function(t){uni.setStorageSync("agencyData",t.data),o.getPagesData(a,t.data.aid)})}})});else o.getPagesData("")},methods:{getPagesData:function(a){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",e=this;i.default._post_form("&do=HomePage",{lat:a.latitude||"",lng:a.longitude||"",aid:t},function(a){if(0===a.errno){e.datas.adv=a.data.adv&&0!==a.data.adv.length?a.data.adv:"",e.datas.page=a.data.page?a.data.page:"",e.bottomMenu=a.data.menu,e.pageInfo=a.data.page,e.$store.commit("ISTABCONTRO",1),a.data.page.music&&(c.src=a.data.page.music);var t=a.data.item,o=[];for(var i in t)o.push(t[i]);e.diypagesData=o;var n=function(a){if("menu"==e.diypagesData[a].id){e.diypagesData[a].btngroupData={};var t={list:[],indicatorDots:!0,duration:300,btngroupHandleData:[],swiperHeight:""};for(var o in t.backgroundColor=e.diypagesData[a].style.background,t.btnBordeRadius=e.diypagesData[a].style.navstyle,t.displayMode=e.diypagesData[a].style.showtype,t.eachLineNum=e.diypagesData[a].style.rownum,t.eachPageNum=e.diypagesData[a].style.pagenum,e.diypagesData[a].data)t.list.push(e.diypagesData[a].data[o]);0==e.diypagesData[a].style.showdot?t.indicatorDots=!1:t.indicatorDots=!0;var i="";if(i=t.list.length>t.eachPageNum?t.eachPageNum:t.list.length,t.swiperHeight=87*Math.ceil(i/t.eachLineNum)+15,t.list&&t.list.length>0)for(var n=Math.ceil(t.list.length/t.eachPageNum),s=0;s<n;s++){for(var d=[],r=s*t.eachPageNum,u=r;u<t.eachPageNum*(s+1)&&u<t.list.length;u++)d.push(t.list[u]);t.btngroupHandleData.push(d)}e.diypagesData[a].btngroupData=t}if("picturew4"==e.diypagesData[a].id){var g=[];for(var c in e.diypagesData[a].data)g.push(e.diypagesData[a].data[c]);e.diypagesData[a].data=g}if("picturew5"==e.diypagesData[a].id){var l=[];for(var p in e.diypagesData[a].data)l.push(e.diypagesData[a].data[p]);e.diypagesData[a].data=l}if("pictures"==e.diypagesData[a].id){var f=[];for(var v in e.diypagesData[a].data)f.push(e.diypagesData[a].data[v]);e.diypagesData[a].data=f}if("shop"==e.diypagesData[a].id){var b=[];for(var y in e.diypagesData[a].data){var m=[];for(var h in e.diypagesData[a].data[y].goods)""!==e.diypagesData[a].data[y].goods[h]&&("active"==h?(e.diypagesData[a].data[y].goods[h].css="qiang",e.diypagesData[a].data[y].goods[h].tag="抢"):"coupon"==h?(e.diypagesData[a].data[y].goods[h].css="hui",e.diypagesData[a].data[y].goods[h].tag="券"):"fightgroup"==h?(e.diypagesData[a].data[y].goods[h].css="pin",e.diypagesData[a].data[y].goods[h].tag="拼"):"groupon"==h?(e.diypagesData[a].data[y].goods[h].css="tuan",e.diypagesData[a].data[y].goods[h].tag="团"):"halfcard"==h?(e.diypagesData[a].data[y].goods[h].css="ka",e.diypagesData[a].data[y].goods[h].tag="卡"):"packages"==h&&(e.diypagesData[a].data[y].goods[h].css="li",e.diypagesData[a].data[y].goods[h].tag="礼"),m.push(e.diypagesData[a].data[y].goods[h]));e.diypagesData[a].data[y].goods=m,b.push(e.diypagesData[a].data[y])}e.diypagesData[a].shopArr=b}if("banner"==e.diypagesData[a].id){var D=e.diypagesData[a].width,w=e.diypagesData[a].height,P=D/w;uni.getSystemInfo({success:function(t){var o=t.windowWidth/P;e.diypagesData[a].autoHeight=o}})}};for(var s in e.diypagesData)n(s);e.datas.basic=e.diypagesData}},!1,function(){e.loadAgain=!0,e.loadlogo=!0})},playAudio:function(){var a=this,t=!a.play_Audio;a.pageInfo.music;t&&(c.play(),c.onPlay(function(){console.log("开始播放")})),t||(c.pause(),c.onPause(function(){console.log("暂停播放")})),console.log(t),a.play_Audio=t}},onPullDownRefresh:function(){uni.stopPullDownRefresh()},onReachBottom:function(){var a=this;a.loading=!0,setTimeout(function(){a.loading=!1},4e3)}};t.default=l},"1db4":function(a,t,e){"use strict";var o=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-uni-view",{staticClass:"container"},[e("v-uni-view",{staticClass:"goods-list dis-flex flex-x-between flex-warp"},a._l(a.goodslist,function(t,o){return e("v-uni-view",{key:t.id,staticClass:"goods-list-item m-btm50",on:{click:function(e){e=a.$handleEvent(e),a.navgateto(t)}}},[e("v-uni-view",{staticClass:"goods-images bor-radius-10upx",style:{"background-image":" url("+t["logo"]+")"}}),e("v-uni-view",{staticClass:"goods-title twolist-hidden f-28 col-3"},[a._v(a._s(t["goods_name"]))]),e("v-uni-view",{staticClass:"goods-price dis-flex"},[e("v-uni-view",{staticClass:"goods-nowPrice"},[e("v-uni-text",{staticClass:"nowPrice-mark f-24 nowPriceColor m-right10"},[a._v("¥")]),e("v-uni-text",{staticClass:"f-36 nowPriceColor"},[a._v(a._s(t["price"]))])],1),e("v-uni-view",{staticClass:"goods-oldPrice"},[e("v-uni-text",{staticClass:"f-24 col-9"},[a._v("¥"+a._s(t["oldprice"]))])],1)],1)],1)}),1)],1)},i=[];e.d(t,"a",function(){return o}),e.d(t,"b",function(){return i})},2050:function(a,t,e){"use strict";e.r(t);var o=e("1db4"),i=e("97ea");for(var n in i)"default"!==n&&function(a){e.d(t,a,function(){return i[a]})}(n);e("bae1");var s=e("2877"),d=Object(s["a"])(i["default"],o["a"],o["b"],!1,null,"3acb8bce",null);t["default"]=d.exports},"2f02":function(a,t,e){"use strict";e.r(t);var o=e("0fa0"),i=e.n(o);for(var n in o)"default"!==n&&function(a){e.d(t,a,function(){return o[a]})}(n);t["default"]=i.a},3757:function(a,t,e){t=a.exports=e("2350")(!1),t.push([a.i,".container[data-v-3776aeb6]{background-color:#ffd93f}.page-index[data-v-3776aeb6]{width:100vw;overflow:hidden;background-color:#fff;position:relative}.bottomPadding[data-v-3776aeb6]{padding-bottom:%?100?%}@-webkit-keyframes rotate2d-data-v-3776aeb6{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes rotate2d-data-v-3776aeb6{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.audio-main[data-v-3776aeb6]{position:fixed;right:%?50?%;top:10%;z-index:10}.audio-bg[data-v-3776aeb6]{position:relative}.audio-bg .audio-gif[data-v-3776aeb6]{width:%?100?%;height:%?100?%;background-size:%?100?% %?100?%;background-repeat:no-repeat}.audio-bg .audio-gif .audio-png[data-v-3776aeb6]{position:absolute;background-size:%?80?% %?80?%;-webkit-animation:rotate2d-data-v-3776aeb6 1.2s linear infinite;animation:rotate2d-data-v-3776aeb6 1.2s linear infinite;z-index:-1;width:%?80?%;height:%?80?%}.audio-bg.stop-audio .audio-gif[data-v-3776aeb6]{background:none!important}.audio-bg.stop-audio .audio-png[data-v-3776aeb6]{-webkit-animation:none;animation:none}",""])},"48f5":function(a,t,e){"use strict";e.r(t);var o=e("5e9b"),i=e("2f02");for(var n in i)"default"!==n&&function(a){e.d(t,a,function(){return i[a]})}(n);e("bfd2");var s=e("2877"),d=Object(s["a"])(i["default"],o["a"],o["b"],!1,null,"3776aeb6",null);t["default"]=d.exports},"495c":function(a,t,e){t=a.exports=e("2350")(!1),t.push([a.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.goods-list-item[data-v-3acb8bce]{width:48.5%}.goods-list-item .goods-images[data-v-3acb8bce]{width:100%;height:%?330?%;background-repeat:no-repeat;background-size:100% %?330?%;background-position:50%}.goods-list-item .goods-title[data-v-3acb8bce]{margin:%?20?% 0 %?30?%;height:2.6em;line-height:1.3em}.goods-list-item .goods-price .goods-nowPrice[data-v-3acb8bce]{margin-right:%?12?%}.goods-list-item .goods-price .goods-nowPrice .nowPriceColor[data-v-3acb8bce]{color:#ef4343}.goods-list-item .goods-price .goods-oldPrice>uni-text[data-v-3acb8bce]{text-decoration:line-through}',""])},"5e9b":function(a,t,e){"use strict";var o=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-uni-view",{staticClass:"container"},[a.loadlogo?a._e():e("loadlogo"),a.loadlogo?e("v-uni-view",{staticClass:"page-index",class:a.bottomMenu?"bottomPadding":"",style:"background-color: "+a.datas.page.background},[a.datas.adv?e("Advert",{staticClass:"advert",attrs:{advertData:a.datas.adv}}):a._e(),e("diypages",{attrs:{diypagesData:a.diypagesData,pageData:a.datas.page,btngroupData:a.btngroup}}),a.isTabbars?e("v-uni-view",{staticClass:"page-footer"},[e("TabBars",{attrs:{tabBarAct:0,tabBarData:a.bottomMenu,TabBarsType:a.datas.page.type}})],1):a._e(),a.pageInfo.music?e("v-uni-view",{staticClass:"audio-main",on:{click:function(t){t=a.$handleEvent(t),a.playAudio(t)}}},[e("v-uni-view",{staticClass:"audio-bg",class:{"stop-audio":!a.play_Audio}},[e("v-uni-view",{staticClass:"audio-gif",style:{"background-image":"url("+a.imageRoot+"musicgif.gif)"}},[e("v-uni-view",{staticClass:"audio-png",style:{"background-image":"url("+a.imageRoot+"music.png)"}})],1)],1)],1):a._e()],1):a._e()],1)},i=[];e.d(t,"a",function(){return o}),e.d(t,"b",function(){return i})},"86e2":function(a,t,e){var o=e("495c");"string"===typeof o&&(o=[[a.i,o,""]]),o.locals&&(a.exports=o.locals);var i=e("4f06").default;i("3ce136a9",o,!0,{sourceMap:!1,shadowMode:!1})},9365:function(a,t,e){var o=e("3757");"string"===typeof o&&(o=[[a.i,o,""]]),o.locals&&(a.exports=o.locals);var i=e("4f06").default;i("7a6a1d78",o,!0,{sourceMap:!1,shadowMode:!1})},"97ea":function(a,t,e){"use strict";e.r(t);var o=e("f2ee"),i=e.n(o);for(var n in o)"default"!==n&&function(a){e.d(t,a,function(){return o[a]})}(n);t["default"]=i.a},bae1:function(a,t,e){"use strict";var o=e("86e2"),i=e.n(o);i.a},bfd2:function(a,t,e){"use strict";var o=e("9365"),i=e.n(o);i.a},f2ee:function(a,t,e){"use strict";var o=e("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(e("3368")),n={data:function(){return{goodslist:[]}},props:{goods_type:{type:String,default:function(){return""}},goods_id:{type:String,default:function(){return""}}},mounted:function(){this.getRecommendGoods()},methods:{getRecommendGoods:function(){var a=this;i.default._post_form("&do=getRecommendGoods",{type:a.goods_type,id:a.goods_id},function(t){a.setData({goodslist:t.data})},!1,function(){})},navgateto:function(a){var t=getCurrentPages(),e=t[t.length-1],o="pages/mainPages/goods/index"===e.route?"rediRect":"navigate";i.default.navigationTo({url:"pages/mainPages/goods/index?goods_id=".concat(a["id"],"&goodsType=").concat(a["type"]),navType:o})}}};t.default=n}}]);