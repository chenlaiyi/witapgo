(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mainPages-index-index"],{"04d8":function(a,t,e){"use strict";var i=e("a0ee"),o=e.n(i);o.a},"06f4":function(a,t,e){var i=e("6322");"string"===typeof i&&(i=[[a.i,i,""]]),i.locals&&(a.exports=i.locals);var o=e("4f06").default;o("7b8341cc",i,!0,{sourceMap:!1,shadowMode:!1})},"16d7":function(a,t,e){"use strict";e.r(t);var i=e("9070"),o=e.n(i);for(var n in i)"default"!==n&&function(a){e.d(t,a,function(){return i[a]})}(n);t["default"]=o.a},"39e8":function(a,t,e){"use strict";var i=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-uni-view",{staticClass:"container"},[a.loadlogo?a._e():e("loadlogo"),a.loadlogo?e("v-uni-view",{staticClass:"page-index",class:a.bottomMenu?"bottomPadding":"",style:"background-color: "+a.datas.page.background},[a.datas.adv?e("Advert",{staticClass:"advert",attrs:{advertData:a.datas.adv}}):a._e(),e("diypages",{attrs:{diypagesData:a.diypagesData,pageData:a.datas.page,btngroupData:a.btngroup,bannerDataList:a.bannerDataList}}),a.isTabbars?e("v-uni-view",{staticClass:"page-footer"},[e("TabBars",{attrs:{tabBarAct:0,tabBarData:a.bottomMenu,TabBarsType:a.datas.page.type}})],1):a._e(),a.pageInfo.music?e("v-uni-view",{staticClass:"audio-main",on:{click:function(t){t=a.$handleEvent(t),a.playAudio(t)}}},[e("v-uni-view",{staticClass:"audio-bg",class:{"stop-audio":!a.play_Audio}},[e("v-uni-view",{staticClass:"audio-gif",style:{"background-image":"url("+a.imageRoot+"musicgif.gif)"}},[e("v-uni-view",{staticClass:"audio-png",style:{"background-image":"url("+a.imageRoot+"music.png)"}})],1)],1)],1):a._e()],1):a._e()],1)},o=[];e.d(t,"a",function(){return i}),e.d(t,"b",function(){return o})},5920:function(a,t,e){"use strict";var i=e("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(e("a4bb"));e("ac6a");var n=i(e("cebc")),d=e("2f62"),s=e("5198"),r=i(e("3099")),u=i(e("9976")),c=i(e("14f2")),g=i(e("dc1e")),l=i(e("27e4")),p=i(e("65c3")),f=i(e("ef24")),v=i(e("9e9f")),m=uni.createInnerAudioContext(),h={data:function(){return{loadlogo:!1,swiperI:1,loading:!1,loadAgain:!1,isTabbars:!0,datas:{basic:[],adv:"",page:{}},pageInfo:{},play_Audio:!1,diypagesData:[],richtext:{imageProp:{mode:"widthFix"}},btngroup:{backgroundColor:"#ffffff",btnBordeRadius:"",displayMode:"",eachLineNum:"",eachPageNum:"",list:[],indicatorDots:!0,duration:300,btngroupHandleData:[],swiperHeight:""},bottomMenu:null,bannerDataList:[]}},components:{Loadlogo:u.default,diypages:c.default,Advert:g.default,TabBars:l.default,wxParse:p.default,recommendGoods:f.default},computed:(0,n.default)({},(0,d.mapState)(["ruzhushow","kefushow"])),onShow:function(){},mounted:function(){var a=uni.getStorageSync("location"),t=r.default.getClientType(),e=r.default.getBrowser(),i=this;if("chrome53.0"===e)return i.loadlogo=!0,i.isTabbars=!1,uni.showModal({content:"微信浏览器版本过低,请使用系统浏览器",showCancel:!1}),!1;"1"===t?a?i.getPagesData(a):v.default.wxRegister(function(){jWeixin.ready(function(){jWeixin.getLocation({type:"gcj02",success:function(a){i.getPagesData(a)}})})}):i.getPagesData("")},methods:(0,n.default)({},(0,d.mapMutations)([s.RUZHU,s.KEFU]),{ruzhuToggle:function(){this[s.RUZHU](!0)},kefuToggle:function(){this[s.KEFU](!0)},setShareData:function(a){var t=r.default.getClientType(),e=uni.getStorageSync("userinfo"),i=a.share_title,o=a.share_description,n=a.share_image,d=location.href,s=uni.getStorageSync("currentRegion"),u=s.title||"",c=s?s.ad_info.adcode:"",g=-1===d.indexOf("?")?d+"?head_id="+e.mid:d+"&head_id="+e.mid+"&cityname="+u+"&cityid="+c,l=encodeURIComponent(g);"1"===t&&jWeixin.ready(function(){v.default.wxShare({title:i,desc:o,link:"".concat(r.default.siteInfo.siteroot,"/app/index.php?i=").concat(r.default.siteInfo.uniacid,"&c=entry&m=weliam_smartcity&do=returnRequest&link=").concat(l,"&head_id=").concat(e.mid),imgUrl:n})})},getPagesData:function(a){var t=this;r.default._post_form("&do=HomePage",{lat:a.latitude||"",lng:a.longitude||""},function(a){if(0===a.errno){t.datas.adv=a.data.adv&&0!==a.data.adv.length?a.data.adv:"",t.datas.page=a.data.page?a.data.page:"",t.bottomMenu=a.data.menu,t.pageInfo=a.data.page,t.$store.commit("ISTABCONTRO",1),a.data.page.music&&(m.src=a.data.page.music);var e=a.data.item,i=[];for(var n in e)i.push(e[n]);for(var d in t.diypagesData=i,t.diypagesData){if("menu"==t.diypagesData[d].id){t.diypagesData[d].btngroupData={};var s={list:[],indicatorDots:!0,duration:300,btngroupHandleData:[],swiperHeight:""};for(var r in s.backgroundColor=t.diypagesData[d].style.background,s.btnBordeRadius=t.diypagesData[d].style.navstyle,s.displayMode=t.diypagesData[d].style.showtype,s.eachLineNum=t.diypagesData[d].style.rownum,s.eachPageNum=t.diypagesData[d].style.pagenum,t.diypagesData[d].data)s.list.push(t.diypagesData[d].data[r]);0==t.diypagesData[d].style.showdot?s.indicatorDots=!1:s.indicatorDots=!0;var u="";if(u=s.list.length>s.eachPageNum?s.eachPageNum:s.list.length,s.swiperHeight=87*Math.ceil(u/s.eachLineNum)+15,s.list&&s.list.length>0)for(var c=Math.ceil(s.list.length/s.eachPageNum),g=0;g<c;g++){for(var l=[],p=g*s.eachPageNum,f=p;f<s.eachPageNum*(g+1)&&f<s.list.length;f++)l.push(s.list[f]);s.btngroupHandleData.push(l)}t.diypagesData[d].btngroupData=s}if("picturew4"==t.diypagesData[d].id){var v=[];for(var h in t.diypagesData[d].data)v.push(t.diypagesData[d].data[h]);t.diypagesData[d].data=v}if("picturew5"==t.diypagesData[d].id){var b=[];for(var y in t.diypagesData[d].data)b.push(t.diypagesData[d].data[y]);t.diypagesData[d].data=b}if("pictures"==t.diypagesData[d].id){var D=[];for(var w in t.diypagesData[d].data)D.push(t.diypagesData[d].data[w]);t.diypagesData[d].data=D}if("shop"==t.diypagesData[d].id){var _=[];for(var k in t.diypagesData[d].data){var x=[];for(var P in t.diypagesData[d].data[k].goods)""!==t.diypagesData[d].data[k].goods[P]&&("active"==P?(t.diypagesData[d].data[k].goods[P].css="qiang",t.diypagesData[d].data[k].goods[P].tag="抢"):"coupon"==P?(t.diypagesData[d].data[k].goods[P].css="hui",t.diypagesData[d].data[k].goods[P].tag="券"):"fightgroup"==P?(t.diypagesData[d].data[k].goods[P].css="pin",t.diypagesData[d].data[k].goods[P].tag="拼"):"groupon"==P?(t.diypagesData[d].data[k].goods[P].css="tuan",t.diypagesData[d].data[k].goods[P].tag="团"):"halfcard"==P?(t.diypagesData[d].data[k].goods[P].css="ka",t.diypagesData[d].data[k].goods[P].tag="卡"):"packages"==P&&(t.diypagesData[d].data[k].goods[P].css="li",t.diypagesData[d].data[k].goods[P].tag="礼"),x.push(t.diypagesData[d].data[k].goods[P]));t.diypagesData[d].data[k].goods=x,_.push(t.diypagesData[d].data[k])}t.diypagesData[d].shopArr=_}"banner"===t.diypagesData[d].id&&function(){var a=t.diypagesData[d].data,e=[],i=[];(0,o.default)(a).forEach(function(t){a[t].imgHeight=0,e.push(a[t]),i.push(e)}),t.bannerDataList=i}()}t.datas.basic=t.diypagesData}},!1,function(){t.loadAgain=!0,t.loadlogo=!0})},playAudio:function(){var a=this,t=!a.play_Audio;a.pageInfo.music;t&&(m.play(),m.onPlay(function(){console.log("开始播放")})),t||(m.pause(),m.onPause(function(){console.log("暂停播放")})),console.log(t),a.play_Audio=t}}),onPullDownRefresh:function(){uni.stopPullDownRefresh()},onReachBottom:function(){var a=this;a.loading=!0,setTimeout(function(){a.loading=!1},4e3)}};t.default=h},"5f8e":function(a,t,e){"use strict";var i=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-uni-view",{staticClass:"container"},[e("v-uni-view",{staticClass:"goods-list dis-flex flex-x-between flex-warp"},a._l(a.goodslist,function(t,i){return e("v-uni-view",{key:t.id,staticClass:"goods-list-item m-btm50",on:{click:function(e){e=a.$handleEvent(e),a.navgateto(t)}}},[e("v-uni-view",{staticClass:"goods-images bor-radius-10upx",style:{"background-image":" url("+t["shop_logo"]+")"}}),e("v-uni-view",{staticClass:"goods-title twolist-hidden f-28 col-3"},[a._v(a._s(t["goods_name"]))]),e("v-uni-view",{staticClass:"goods-price dis-flex"},[e("v-uni-view",{staticClass:"goods-nowPrice"},[e("v-uni-text",{staticClass:"nowPrice-mark f-24 nowPriceColor m-right10"},[a._v("¥")]),e("v-uni-text",{staticClass:"f-36 nowPriceColor"},[a._v(a._s(t["price"]))])],1),e("v-uni-view",{staticClass:"goods-oldPrice"},[e("v-uni-text",{staticClass:"f-24 col-9"},[a._v("¥"+a._s(t["oldprice"]))])],1)],1)],1)}),1)],1)},o=[];e.d(t,"a",function(){return i}),e.d(t,"b",function(){return o})},6322:function(a,t,e){t=a.exports=e("2350")(!1),t.push([a.i,".container[data-v-181b7cde]{background-color:#ffd93f}.page-index[data-v-181b7cde]{width:100vw;overflow:hidden;background-color:#fff;position:relative}.bottomPadding[data-v-181b7cde]{padding-bottom:%?100?%}@-webkit-keyframes rotate2d-data-v-181b7cde{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes rotate2d-data-v-181b7cde{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.audio-main[data-v-181b7cde]{position:fixed;right:%?50?%;top:10%;z-index:10}.audio-bg[data-v-181b7cde]{position:relative}.audio-bg .audio-gif[data-v-181b7cde]{width:%?100?%;height:%?100?%;background-size:%?100?% %?100?%;background-repeat:no-repeat}.audio-bg .audio-gif .audio-png[data-v-181b7cde]{position:absolute;background-size:%?80?% %?80?%;-webkit-animation:rotate2d-data-v-181b7cde 1.2s linear infinite;animation:rotate2d-data-v-181b7cde 1.2s linear infinite;z-index:-1;width:%?80?%;height:%?80?%}.audio-bg.stop-audio .audio-gif[data-v-181b7cde]{background:none!important}.audio-bg.stop-audio .audio-png[data-v-181b7cde]{-webkit-animation:none;animation:none}",""])},"8cec":function(a,t,e){"use strict";e.r(t);var i=e("5920"),o=e.n(i);for(var n in i)"default"!==n&&function(a){e.d(t,a,function(){return i[a]})}(n);t["default"]=o.a},9070:function(a,t,e){"use strict";var i=e("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(e("3099")),n={data:function(){return{goodslist:[]}},props:{},mounted:function(){this.getRecommendGoods()},methods:{getRecommendGoods:function(){var a=this;o.default._post_form("&do=getRecommendGoods",{},function(t){a.setData({goodslist:t.data})},!1,function(){})},navgateto:function(a){var t=getCurrentPages(),e=t[t.length-1],i="pages/mainPages/goods/index"===e.route?"rediRect":"navigate";o.default.navigationTo({url:"pages/mainPages/goods/index?goods_id=".concat(a["id"],"&goodsType=").concat(a["type"]),navType:i})}}};t.default=n},a0ee:function(a,t,e){var i=e("ac29");"string"===typeof i&&(i=[[a.i,i,""]]),i.locals&&(a.exports=i.locals);var o=e("4f06").default;o("838a7c4a",i,!0,{sourceMap:!1,shadowMode:!1})},ac29:function(a,t,e){t=a.exports=e("2350")(!1),t.push([a.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.goods-list-item[data-v-64a839ce]{width:48.5%}.goods-list-item .goods-images[data-v-64a839ce]{width:100%;height:%?330?%;background-repeat:no-repeat;background-size:100% %?330?%;background-position:50%}.goods-list-item .goods-title[data-v-64a839ce]{margin:%?20?% 0 %?30?%;height:2.6em;line-height:1.3em}.goods-list-item .goods-price .goods-nowPrice[data-v-64a839ce]{margin-right:%?12?%}.goods-list-item .goods-price .goods-nowPrice .nowPriceColor[data-v-64a839ce]{color:#ef4343}.goods-list-item .goods-price .goods-oldPrice>uni-text[data-v-64a839ce]{text-decoration:line-through}',""])},da71:function(a,t,e){"use strict";e.r(t);var i=e("39e8"),o=e("8cec");for(var n in o)"default"!==n&&function(a){e.d(t,a,function(){return o[a]})}(n);e("db40");var d=e("2877"),s=Object(d["a"])(o["default"],i["a"],i["b"],!1,null,"181b7cde",null);t["default"]=s.exports},db40:function(a,t,e){"use strict";var i=e("06f4"),o=e.n(i);o.a},ef24:function(a,t,e){"use strict";e.r(t);var i=e("5f8e"),o=e("16d7");for(var n in o)"default"!==n&&function(a){e.d(t,a,function(){return o[a]})}(n);e("04d8");var d=e("2877"),s=Object(d["a"])(o["default"],i["a"],i["b"],!1,null,"64a839ce",null);t["default"]=s.exports}}]);