(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mainPages-index-diypage"],{"0776":function(a,t,e){"use strict";var i=e("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d=i(e("a4bb"));e("ac6a");var n=i(e("5176")),o=i(e("cebc")),s=e("2f62"),r=e("5198"),l=i(e("3099")),p=i(e("9976")),g=i(e("14f2")),u=i(e("dc1e")),c=i(e("27e4")),f=i(e("65c3")),h=i(e("9e9f")),y=uni.createInnerAudioContext(),x={data:function(){return{loadlogo:!1,swiperI:1,loading:!1,loadAgain:!1,datas:{basic:[],adv:"",page:{}},play_Audio:!1,diypagesData:[],richtext:{imageProp:{mode:"widthFix"}},pageInfo:{},btngroup:{backgroundColor:"#ffffff",btnBordeRadius:"",displayMode:"",eachLineNum:"",eachPageNum:"",list:[],indicatorDots:!0,duration:300,btngroupHandleData:[],swiperHeight:""},pageType:null,bottomMenu:null,bannerDataList:[]}},components:{Loadlogo:p.default,diypages:g.default,Advert:u.default,TabBars:c.default,wxParse:f.default},computed:(0,o.default)({},(0,s.mapState)(["ruzhushow","kefushow"])),onLoad:function(a){var t=uni.getStorageSync("location"),e=l.default.getClientType(),i=l.default.getBrowser(),d=this,n=a.id,o=a.type;if("chrome53.0"===i)return d.loadlogo=!0,uni.showModal({content:"微信浏览器版本过低,请使用系统浏览器",showCancel:!1}),!1;"1"===e?t?d.getPagesData(o,n,t):h.default.wxRegister(function(){jWeixin.ready(function(){jWeixin.getLocation({type:"gcj02",success:function(a){d.getPagesData(o,n,a)}})})}):d.getPagesData(o,n,""),d.pageType=o},onShow:function(){},mounted:function(){},methods:(0,o.default)({},(0,s.mapMutations)([r.RUZHU,r.KEFU]),{ruzhuToggle:function(){this[r.RUZHU](!0)},kefuToggle:function(){this[r.KEFU](!0)},setShareData:function(a){var t=l.default.getClientType(),e=uni.getStorageSync("userinfo"),i=a.share_title,d=a.share_description,n=a.share_image,o=location.href,s=uni.getStorageSync("currentRegion"),r=s.title||"",p=s?s.ad_info.adcode:"",g=-1===o.indexOf("?")?o+"?head_id="+e.mid:o+"&head_id="+e.mid+"&cityname="+r+"&cityid="+p,u=encodeURIComponent(g);"1"===t&&jWeixin.ready(function(){h.default.wxShare({title:i,desc:d,link:"".concat(l.default.siteInfo.siteroot,"/app/index.php?i=").concat(l.default.siteInfo.uniacid,"&c=entry&m=weliam_smartcity&do=returnRequest&link=").concat(u,"&head_id=").concat(e.mid),imgUrl:n})})},getPagesData:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:232,e=arguments.length>2?arguments[2]:void 0,i=this,o={type:a,lat:e.latitude||"",lng:e.longitude||""};"1"===a&&(0,n.default)(o,{page_id:t}),l.default._post_form("&do=HomePage",o,function(t){if(0===t.errno){i.datas.adv=t.data.adv&&0!==t.data.adv.length?t.data.adv:"",i.datas.page=t.data.page?t.data.page:"",i.bottomMenu=t.data.menu,i.pageInfo=t.data.page,"1"===a&&uni.setNavigationBarTitle({title:null==i.datas.page.title?"暂无标题":i.datas.page.title}),t.data.page.music&&(y.src=t.data.page.music);var e=t.data.item,n=[];for(var o in e)n.push(e[o]);for(var s in i.diypagesData=n,i.diypagesData){if(console.log(i.diypagesData[s].id),"menu"==i.diypagesData[s].id){i.diypagesData[s].btngroupData={};var r={list:[],indicatorDots:!0,duration:300,btngroupHandleData:[],swiperHeight:""};for(var l in r.backgroundColor=i.diypagesData[s].style.background,r.btnBordeRadius=i.diypagesData[s].style.navstyle,r.displayMode=i.diypagesData[s].style.showtype,r.eachLineNum=i.diypagesData[s].style.rownum,r.eachPageNum=i.diypagesData[s].style.pagenum,i.diypagesData[s].data)r.list.push(i.diypagesData[s].data[l]);0==i.diypagesData[s].style.showdot?r.indicatorDots=!1:r.indicatorDots=!0;var p="";if(p=r.list.length>r.eachPageNum?r.eachPageNum:r.list.length,r.swiperHeight=87*Math.ceil(p/r.eachLineNum)+15,r.list&&r.list.length>0)for(var g=Math.ceil(r.list.length/r.eachPageNum),u=0;u<g;u++){for(var c=[],f=u*r.eachPageNum,h=f;h<r.eachPageNum*(u+1)&&h<r.list.length;h++)c.push(r.list[h]);r.btngroupHandleData.push(c)}i.diypagesData[s].btngroupData=r}if("picturew4"==i.diypagesData[s].id){var x=[];for(var v in i.diypagesData[s].data)x.push(i.diypagesData[s].data[v]);i.diypagesData[s].data=x}if("picturew5"==i.diypagesData[s].id){var b=[];for(var m in i.diypagesData[s].data)b.push(i.diypagesData[s].data[m]);i.diypagesData[s].data=b}if("pictures"==i.diypagesData[s].id){var w=[];for(var D in i.diypagesData[s].data)w.push(i.diypagesData[s].data[D]);i.diypagesData[s].data=w}if("shop"==i.diypagesData[s].id){var k=[];for(var _ in i.diypagesData[s].data){var P=[];for(var j in i.diypagesData[s].data[_].goods)""!==i.diypagesData[s].data[_].goods[j]&&("active"==j?(i.diypagesData[s].data[_].goods[j].css="qiang",i.diypagesData[s].data[_].goods[j].tag="抢"):"coupon"==j?(i.diypagesData[s].data[_].goods[j].css="hui",i.diypagesData[s].data[_].goods[j].tag="券"):"fightgroup"==j?(i.diypagesData[s].data[_].goods[j].css="pin",i.diypagesData[s].data[_].goods[j].tag="拼"):"groupon"==j?(i.diypagesData[s].data[_].goods[j].css="tuan",i.diypagesData[s].data[_].goods[j].tag="团"):"halfcard"==j?(i.diypagesData[s].data[_].goods[j].css="ka",i.diypagesData[s].data[_].goods[j].tag="卡"):"packages"==j&&(i.diypagesData[s].data[_].goods[j].css="li",i.diypagesData[s].data[_].goods[j].tag="礼"),P.push(i.diypagesData[s].data[_].goods[j]));i.diypagesData[s].data[_].goods=P,k.push(i.diypagesData[s].data[_])}i.diypagesData[s].shopArr=k}"banner"===i.diypagesData[s].id&&function(){var a=i.diypagesData[s].data,t=[],e=[];(0,d.default)(a).forEach(function(i){a[i].imgHeight=0,t.push(a[i]),e.push(t)}),i.bannerDataList=e}()}i.datas.basic=i.diypagesData}},!1,function(){i.loadAgain=!0,i.loadlogo=!0})},playAudio:function(){var a=this,t=!a.play_Audio;a.pageInfo.music;t&&(y.play(),y.onPlay(function(){console.log("开始播放")})),t||(y.pause(),y.onPause(function(){console.log("暂停播放")})),a.play_Audio=t}}),onPullDownRefresh:function(){uni.stopPullDownRefresh()},onReachBottom:function(){var a=this;a.loading=!0,setTimeout(function(){a.loading=!1},4e3)}};t.default=x},"458b":function(a,t,e){"use strict";var i=e("9d7c"),d=e.n(i);d.a},"6ff0":function(a,t,e){"use strict";e.r(t);var i=e("7b3e"),d=e("e8bc");for(var n in d)"default"!==n&&function(a){e.d(t,a,function(){return d[a]})}(n);e("458b");var o=e("2877"),s=Object(o["a"])(d["default"],i["a"],i["b"],!1,null,"578da4a8",null);t["default"]=s.exports},"7b3e":function(a,t,e){"use strict";var i=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-uni-view",{staticClass:"container"},[a.loadlogo?a._e():e("loadlogo"),a.loadlogo?e("v-uni-view",{staticClass:"page-index",class:a.bottomMenu?"bottomPadding":"",style:"background-color: "+a.datas.page.background},[a.datas.adv?e("Advert",{staticClass:"advert",attrs:{advertData:a.datas.adv}}):a._e(),e("diypages",{attrs:{diypagesData:a.diypagesData,pageData:a.datas.page,btngroupData:a.btngroup,bannerDataList:a.bannerDataList}}),e("v-uni-view",{staticClass:"page-footer"},[e("TabBars",{attrs:{tabBarAct:0,TabBarsData:a.datas.page.menu,TabBarsType:a.datas.page.type,pageType:a.pageType}})],1),a.pageInfo.music?e("v-uni-view",{staticClass:"audio-main",on:{click:function(t){t=a.$handleEvent(t),a.playAudio(t)}}},[e("v-uni-view",{staticClass:"audio-bg",class:{"stop-audio":!a.play_Audio}},[e("v-uni-view",{staticClass:"audio-gif",style:{"background-image":"url("+a.imageRoot+"musicgif.gif)"}},[e("v-uni-view",{staticClass:"audio-png",style:{"background-image":"url("+a.imageRoot+"music.png)"}})],1)],1)],1):a._e()],1):a._e()],1)},d=[];e.d(t,"a",function(){return i}),e.d(t,"b",function(){return d})},"9d7c":function(a,t,e){var i=e("d5a2");"string"===typeof i&&(i=[[a.i,i,""]]),i.locals&&(a.exports=i.locals);var d=e("4f06").default;d("6a9d565b",i,!0,{sourceMap:!1,shadowMode:!1})},d5a2:function(a,t,e){t=a.exports=e("2350")(!1),t.push([a.i,".container[data-v-578da4a8]{background-color:#ffd93f}.page-index[data-v-578da4a8]{width:100vw;overflow:hidden;background-color:#fff;position:relative}.index-right-bar[data-v-578da4a8]{width:80px;height:80px;padding:16px;position:fixed;right:30px;bottom:60px;z-index:99}.right-bar-i[data-v-578da4a8]{width:100%;height:100%;padding:6px}.right-bar-i-t[data-v-578da4a8]{height:40px;text-align:center;margin-top:0;padding-top:6px}.right-bar-i-t .i[data-v-578da4a8]{width:44px;height:44px;display:inline-block}.right-bar-i-t .i .image[data-v-578da4a8]{width:100%;height:100%;display:block}.right-bar-i-c[data-v-578da4a8]{height:32px;line-height:32px;font-size:20px;margin-top:0}.index-h[data-v-578da4a8]{height:80px;line-height:80px;padding:10px 30px 20px 30px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;background-color:#ffd93f;position:relative}.index-h-l[data-v-578da4a8]{color:#000;font-size:36px;font-style:italic}.index-h-r-d[data-v-578da4a8]{width:180px;height:56px;line-height:56px;color:grey;font-size:28px;text-align:center;margin-top:12px;background-color:#fff0b2;border-radius:40px}.index-h-r-d .i[data-v-578da4a8]{color:#333;font-size:32px;margin-right:10px;vertical-align:-2px}@-webkit-keyframes move_wave-data-v-578da4a8{0%{-webkit-transform:translateX(0) translateZ(0) scaleY(1);transform:translateX(0) translateZ(0) scaleY(1)}to{-webkit-transform:translateX(-66.66666%) translateZ(0) scaleY(1);transform:translateX(-66.66666%) translateZ(0) scaleY(1)}}@keyframes move_wave-data-v-578da4a8{0%{-webkit-transform:translateX(0) translateZ(0) scaleY(1);transform:translateX(0) translateZ(0) scaleY(1)}to{-webkit-transform:translateX(-66.66666%) translateZ(0) scaleY(1);transform:translateX(-66.66666%) translateZ(0) scaleY(1)}}.index-wave[data-v-578da4a8]{width:100%;height:60px;position:absolute;top:-72px;left:0;overflow:hidden}.index-wave-d[data-v-578da4a8]{width:300%;height:100%;-webkit-animation:move_wave-data-v-578da4a8 4s linear infinite;animation:move_wave-data-v-578da4a8 4s linear infinite;-webkit-animation-delay:0s;animation-delay:0s;display:-webkit-flex;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start}.index-wave-i[data-v-578da4a8]{width:100%;height:100%;position:relative}.index-wave-i .image[data-v-578da4a8]{width:100%;height:100%}.index-t1[data-v-578da4a8]{margin-top:40px;padding:0 30px;display:-webkit-flex;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;position:relative;z-index:1}.index-t1-l[data-v-578da4a8]{padding-right:30px;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-flex;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-justify-content:space-around;-ms-flex-pack:distribute;justify-content:space-around}.index-t1-l-i[data-v-578da4a8]{width:140px}.index-t1-l-i-t[data-v-578da4a8]{width:100px;height:100px;padding:0 20px}.index-t1-l-i-t .image[data-v-578da4a8]{width:100px;height:100px}.index-t1-l-i-b[data-v-578da4a8]{height:42px;line-height:42px;text-align:center;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap}.index-t1-r[data-v-578da4a8]{width:140px;border-left:1.2px solid #f6f6f6}.index-t1-r .image[data-v-578da4a8]{width:110px;height:110px;margin:10px 0 0 30px}.bottomPadding[data-v-578da4a8]{padding-bottom:%?100?%}",""])},e8bc:function(a,t,e){"use strict";e.r(t);var i=e("0776"),d=e.n(i);for(var n in i)"default"!==n&&function(a){e.d(t,a,function(){return i[a]})}(n);t["default"]=d.a}}]);