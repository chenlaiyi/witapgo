(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-subPages-orderList-afterSale-afterSale"],{"0edb":function(e,a,i){var t=i("8e2c");"string"===typeof t&&(t=[[e.i,t,""]]),t.locals&&(e.exports=t.locals);var n=i("4f06").default;n("189048e4",t,!0,{sourceMap:!1,shadowMode:!1})},"8e2c":function(e,a,i){var t=i("24fb");a=t(!1),a.push([e.i,".reasonNCheck[data-v-ec75f74e]{margin-top:%?20?%;width:%?32?%;height:%?32?%;border:%?1?% solid #ccc;-webkit-border-radius:%?16?%;border-radius:%?16?%}.reasonSubmitButton[data-v-ec75f74e]{margin:%?24?% auto 0 auto;width:%?688?%;height:%?80?%;background:#f44;-webkit-border-radius:%?40?%;border-radius:%?40?%;text-align:center}.reasonSubmitButton > span[data-v-ec75f74e]{line-height:%?80?%;font-size:%?28?%;color:#fff}.reasonYCheck[data-v-ec75f74e]{margin-top:%?20?%;line-height:%?70?%;width:%?32?%;height:%?32?%;-webkit-border-radius:%?16?%;border-radius:%?16?%;background:#f44}.reasonYCheck > uni-image[data-v-ec75f74e]{width:%?32?%;height:%?32?%}.reasonButton[data-v-ec75f74e]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;height:%?70?%}.reasonButton > span[data-v-ec75f74e]{line-height:%?70?%;font-size:%?24?%;lor:#333}.reasonTitle[data-v-ec75f74e]{height:%?50?%;text-align:center}.reasonTitle > span[data-v-ec75f74e]{vertical-align:middle;line-height:%?50?%;font-size:%?30?%;lor:#333}.reasonTitle > uni-image[data-v-ec75f74e]{margin-top:%?15?%;vertical-align:middle;float:right;width:%?28?%;height:%?28?%}.reasonPopViewPackage[data-v-ec75f74e]{padding:%?30?%}.reasonPopViewPackage > .reasonButton[data-v-ec75f74e]:nth-child(2){margin-top:%?40?%!important}.reasonPopView[data-v-ec75f74e]{width:%?750?%;background:#fff;-webkit-border-radius:%?20?% %?20?% 0 0;border-radius:%?20?% %?20?% 0 0}.closeButton[data-v-ec75f74e]{width:%?34?%!important;height:%?34?%!important;position:relative;bottom:%?130?%;left:%?95?%}.xlMb[data-v-ec75f74e]{width:%?133?%;height:%?134?%;-webkit-border-radius:%?6?%;border-radius:%?6?%;overflow:hidden}.xlMb > uni-image[data-v-ec75f74e]:nth-child(1){width:%?133?%;height:%?134?%}.xlMb > uni-image[data-v-ec75f74e]:nth-child(2){left:%?100?%;position:relative;bottom:%?134?%;width:%?30?%;height:%?30?%}.voucherUpBody[data-v-ec75f74e]{-webkit-flex-wrap:wrap;flex-wrap:wrap;margin-top:%?20?%}.voucherUpBody > uni-view[data-v-ec75f74e]:nth-child(1){margin-left:0}.voucherUpBody > uni-view[data-v-ec75f74e]{margin-top:%?20?%;vertical-align:middle;display:inline-block;margin-right:%?25?%}.upLoad[data-v-ec75f74e]{width:%?133?%;height:%?132?%;border:%?1?% dashed #ccc;-webkit-border-radius:%?6?%;border-radius:%?6?%;text-align:center}.upLoad > uni-image[data-v-ec75f74e]{margin:%?33?% 0 0 0;width:%?66?%;height:%?66?%}.navBottom[data-v-ec75f74e]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;position:fixed;bottom:0;width:%?750?%;height:%?97?%;background:#fff;border:%?1?% solid hsla(0,0%,93.3%,.67)}.navBottom > uni-view[data-v-ec75f74e]:nth-child(1){padding:%?35?% %?30?%}.navBottom > uni-view:nth-child(1) > span[data-v-ec75f74e]{font-size:%?24?%;color:#333}.navBottom > uni-view:nth-child(1) > span > span[data-v-ec75f74e]{color:#fe504f}.navBottom > uni-view[data-v-ec75f74e]:nth-child(2){width:%?302?%;height:%?97?%;background:#f44;text-align:center}.navBottom > uni-view:nth-child(2) > span[data-v-ec75f74e]{line-height:%?97?%;font-size:%?28?%;color:#fff}.full[data-v-ec75f74e]{width:%?750?%;height:%?135?%}.voucherUpPackage[data-v-ec75f74e]{padding:%?30?%}.voucherUp[data-v-ec75f74e]{margin:%?20?% auto 0 auto;width:%?688?%;background:#fff;-webkit-border-radius:%?10?%;border-radius:%?10?%}.describeQaPackage[data-v-ec75f74e]{padding:%?30?%}.describeQaPackage > uni-textarea[data-v-ec75f74e]{height:%?238?%;width:%?570?%;padding:%?30?%;background:#f9f9f9;margin:%?20?% 0 0 0;font-size:%?24?%;color:#333}.describeQa[data-v-ec75f74e]{margin:%?20?% auto 0 auto;width:%?690?%;background:#fff;-webkit-border-radius:%?10?%;border-radius:%?10?%}.checkReasonPackage[data-v-ec75f74e]{padding:%?30?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.checkReasonPackage > span[data-v-ec75f74e]{vertical-align:middle;font-size:%?28?%;color:#333}.checkReasonPackage > uni-view[data-v-ec75f74e]{vertical-align:middle;display:inline-block}.checkReasonPackage > uni-view > span[data-v-ec75f74e]{vertical-align:middle;font-size:%?24?%;color:#999}.checkReasonPackage > uni-view > uni-image[data-v-ec75f74e]{vertical-align:middle;width:10px;height:15px}.checkReason[data-v-ec75f74e]{margin:%?20?% auto 0 auto;width:%?690?%;background:#fff;-webkit-border-radius:%?10?%;border-radius:%?10?%}.checkedCode[data-v-ec75f74e]{background:#f44}.checkedCode > uni-image[data-v-ec75f74e]{width:%?32?%;height:%?32?%}.checkCodeBody[data-v-ec75f74e]{padding:%?30?%}.checkCodeBody > uni-view[data-v-ec75f74e]{margin-top:%?30?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.checkCodeBody > uni-view > span[data-v-ec75f74e]{vertical-align:middle;font-size:%?24?%;color:#333}.checkCodeBody > uni-view > span > span[data-v-ec75f74e]{color:#999;margin-left:%?35?%}.checkCodeBody > uni-view > uni-view[data-v-ec75f74e]{vertical-align:middle;width:%?32?%;height:%?32?%;border:%?1?% solid #ccc;-webkit-border-radius:%?6?%;border-radius:%?6?%}.checkCodeBody > uni-view[data-v-ec75f74e]:nth-child(1){margin-top:0}.checkCodeTitle[data-v-ec75f74e]{padding:%?30?%;border-bottom:%?1?% solid #eee}.checkCodeTitle > span[data-v-ec75f74e]{font-size:%?28?%;color:#333}.checkCodeTitle > span > span[data-v-ec75f74e]{font-size:%?24?%;color:#999}.checkCodeTitlePackage[data-v-ec75f74e]{padding:%?30?%;border-bottom:%?1?% solid #eee}.checkCode[data-v-ec75f74e]{margin:%?20?% auto 0 auto;width:%?690?%;background:#fff;-webkit-border-radius:%?10?%;border-radius:%?10?%}.check[data-v-ec75f74e]{background:#f44!important;border:%?1?% solid transparent!important}.check > span[data-v-ec75f74e]{color:#fff!important}.afterSaleTypeBody[data-v-ec75f74e]{margin-top:%?40?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.afterSaleTypeBody > uni-view[data-v-ec75f74e]{width:%?160?%;height:%?57?%;border:%?1?% solid #ccc;-webkit-border-radius:%?10?%;border-radius:%?10?%;display:inline-block;vertical-align:middle;text-align:center}.afterSaleTypeBody > uni-view > span[data-v-ec75f74e]{line-height:%?57?%;font-size:%?24?%;color:#999}.line[data-v-ec75f74e]{vertical-align:middle;display:inline-block;width:%?8?%;height:%?26?%;background:#f44;-webkit-border-radius:%?4?%;border-radius:%?4?%}.afterSaleTypeTitle > span[data-v-ec75f74e]{margin-left:%?15?%;vertical-align:middle;font-size:%?28?%;color:#333}uni-page-body[data-v-ec75f74e]{overflow-x:hidden}.afterSale[data-v-ec75f74e]{background:#f8f8f8;font-size:0}.orderInfo[data-v-ec75f74e]{width:%?750?%;background:#fff}.orderInfoPackage[data-v-ec75f74e]{padding:%?30?%}.orderInfoPackage > uni-view[data-v-ec75f74e]{display:inline-block;vertical-align:top}.orderInfoImg[data-v-ec75f74e]{width:%?170?%;height:%?170?%;-webkit-border-radius:%?10?%;border-radius:%?10?%;overflow:hidden}.orderInfoImg > uni-image[data-v-ec75f74e]{width:%?170?%;height:%?170?%}.orderInfos[data-v-ec75f74e]{width:%?483?%;margin-left:%?20?%}.orderInfos > uni-view[data-v-ec75f74e]:nth-child(1){height:%?70?%;overflow:hidden}.orderInfos > uni-view:nth-child(1) > span[data-v-ec75f74e]{font-size:%?28?%;color:#333}.orderInfos > uni-view[data-v-ec75f74e]:nth-child(2){margin:%?15?% 0 0 0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.orderInfos > uni-view:nth-child(2) > span[data-v-ec75f74e]{font-size:%?24?%;color:#999}.orderInfos > uni-view[data-v-ec75f74e]:nth-child(3){margin:%?20?% 0 0 0}.orderInfos > uni-view:nth-child(3) > span[data-v-ec75f74e]{font-size:%?24?%;color:#fe504f}.afterSaleType[data-v-ec75f74e]{margin:%?20?% auto 0 auto;width:%?690?%;background:#fff;-webkit-border-radius:%?10?%;border-radius:%?10?%}.afterSaleTypePackage[data-v-ec75f74e]{padding:%?30?%}.allcheck[data-v-ec75f74e]{padding:%?3?% %?20?%;-webkit-border-radius:%?8?%;border-radius:%?8?%;border:%?1?% solid #f44;color:#f44;float:right;height:%?35?%;line-height:%?35?%}",""]),e.exports=a},"8ffcf":function(e,a,i){"use strict";var t=i("0edb"),n=i.n(t);n.a},b258:function(e,a,i){"use strict";i.r(a);var t=i("e8b8"),n=i.n(t);for(var o in t)"default"!==o&&function(e){i.d(a,e,(function(){return t[e]}))}(o);a["default"]=n.a},d265:function(e,a,i){"use strict";i.r(a);var t=i("e93f"),n=i("b258");for(var o in n)"default"!==o&&function(e){i.d(a,e,(function(){return n[e]}))}(o);i("8ffcf");var c,s=i("f0c5"),d=Object(s["a"])(n["default"],t["b"],t["c"],!1,null,"ec75f74e",null,!1,t["a"],c);a["default"]=d.exports},e8b8:function(e,a,i){"use strict";var t=i("4ea4");i("c975"),i("d81d"),i("a434"),i("a9e3"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=t(i("2c7c")),o=t(i("f232")),c=t(i("8f6e")),s=t(i("ec93")),d={components:{PopManager:c.default},data:function(){return{reasonType:"bottom",reasonPop:!1,type:"",codes:[],AfterSaleInfo:{},id:null,plugin:null,detail:"",thumbs:[],allprice:0,imagse:[],reasonList:["预约不上","商家营业但不接待","商家建议其他平台/直接购买","店里活动更优惠","商家/停业/装修/转让","朋友/网上评论不好","买多了/买错了","计划有变，没时间消费"],reason:0,reasonText:""}},onLoad:function(e){var a=this;this.id=e.id,this.plugin=e.plugin,a.afterid=e.afterid||"",this.init(),a.reasonText=a.reasonList[0]},methods:{checkall:function(){var e=this;e.codes.length==e.AfterSaleInfo.checkcodes.length?e.AfterSaleInfo.checkcodes.map((function(a,i){e.checkedCodes(a.checkcode,a.orderprice,!1)})):(e.codes=[],e.AfterSaleInfo.checkcodes.map((function(a,i){e.checkedCodes(a.checkcode,a.orderprice,!0)})))},con:function(){var e=this;console.info(e.reasonList),e.reasonPop=!0},init:function(){var e=this;e.getAfterSaleInfo(),s.default.wxRegister()},closeReasonPop:function(){var e=this;e.reasonPop=!1},getAfterSaleInfo:function(){var e=this,a={id:e.id,plugin:e.plugin,afterid:e.afterid};n.default._post_form("&p=pay&do=afterSale",a,(function(a){e.AfterSaleInfo=a.data,e.AfterSaleInfo.type||(e.AfterSaleInfo.type=[]),1==e.AfterSaleInfo.type.length&&e.checkType(e.AfterSaleInfo.type),"citydelivery"==e.plugin&&(e.AfterSaleInfo.type=[1],e.type=1),"2"==a.data.usestatus&&(e.allprice=a.data.allprice)}))},checkType:function(e){var a=this;a.type=e},checkReason:function(e){var a=this;a.reason=e,a.reasonText=a.reasonList[e]},checkedCodes:function(e,a,i){var t=this;if(a=Number(a),-1===t.codes.indexOf(e)||i)t.codes.indexOf(e),t.codes.push(e),t.allprice=o.default.additionFloat(t.allprice,a,100),t.allprice>t.AfterSaleInfo.allprice&&(t.allprice=t.AfterSaleInfo.allprice);else{for(var n=0;n<t.codes.length;n++)t.codes[n]==e&&t.codes.splice(n,1);t.allprice=o.default.subtractionFloat(t.allprice,a,100),t.allprice>t.AfterSaleInfo.allprice&&(t.allprice=t.AfterSaleInfo.allprice)}console.info(t.codes)},closePic:function(e){for(var a=this,i=0;i<a.imagse.length;i++)e==a.imagse[i]&&(a.imagse.splice(i,1),a.thumbs.splice(i,1))},afterSaleApply:function(){var e=this,a={id:e.id,plugin:e.plugin,type:e.type,checkcodes:e.codes,reason:e.reasonText,detail:e.detail,thumbs:e.thumbs,afterid:e.afterid,usestatus:e.AfterSaleInfo.usestatus};""!=e.type?e.codes.length<1&&"2"!=e.AfterSaleInfo.usestatus?uni.showToast({icon:"none",title:"请选择核销码",duration:2e3}):""!=e.detail?(e.saveForm("1"),n.default._post_form("&p=pay&do=afterSaleApply",a,(function(e){uni.showToast({icon:"none",title:"申请退款成功",duration:2e3,success:function(){setTimeout((function(){uni.navigateBack({delta:1})}),2e3)}})}))):uni.showToast({icon:"none",title:"请输入问题描述",duration:2e3}):uni.showToast({icon:"none",title:"请选择服务类型",duration:2e3})},uploadFiles:function(e){var a=this;s.default.choseImage((function(e){s.default.uoloadIg(e.localIds[0],(function(e){if("uploadImage:ok"===e.errMsg){uni.showLoading();var i={upload_type:2,id:e.serverId};n.default._post_form("&do=uploadFiles",i,(function(e){0===e.errno&&(a.thumbs.push(e.data.image),a.imagse.push(e.data.img)),uni.hideLoading()}),(function(e){uni.hideLoading()}))}else uni.hideLoading(),n.default.showError("上传失败")}))}))}}};a.default=d},e93f:function(e,a,i){"use strict";var t;i.d(a,"b",(function(){return n})),i.d(a,"c",(function(){return o})),i.d(a,"a",(function(){return t}));var n=function(){var e=this,a=e.$createElement,i=e._self._c||a;return i("v-uni-view",{staticClass:"afterSale"},[i("far-bottom"),i("v-uni-view",{staticClass:"orderInfo"},[i("v-uni-view",{staticClass:"orderInfoPackage"},[i("v-uni-view",{staticClass:"orderInfoImg"},[i("v-uni-image",{attrs:{src:e.AfterSaleInfo.goodLogo}})],1),i("v-uni-view",{staticClass:"orderInfos"},[i("v-uni-view",[i("span",[e._v(e._s(e.AfterSaleInfo.goodName))])]),i("v-uni-view",[i("span",[e._v(e._s(e.AfterSaleInfo.optionName))]),e.AfterSaleInfo.num>0?i("span",[e._v("x"+e._s(e.AfterSaleInfo.num))]):e._e()]),i("v-uni-view",[i("span",[e._v("¥"+e._s(e.AfterSaleInfo.allprice))])])],1)],1)],1),i("v-uni-view",{staticClass:"afterSaleType"},[i("v-uni-view",{staticClass:"afterSaleTypePackage"},[i("v-uni-view",{staticClass:"afterSaleTypeTitle"},[i("v-uni-view",{staticClass:"line"}),i("span",[e._v("服务类型")])],1),i("v-uni-view",{staticClass:"afterSaleTypeBody"},[-1!==e.AfterSaleInfo.type.indexOf(3)?i("v-uni-view",{class:[3==e.type?"check":""],on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.checkType(3)}}},[i("span",[e._v("退货退款")])]):e._e(),-1!==e.AfterSaleInfo.type.indexOf(2)?i("v-uni-view",{class:[2==e.type?"check":""],on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.checkType(2)}}},[i("span",[e._v("换货")])]):e._e(),-1!==e.AfterSaleInfo.type.indexOf(1)||"citydelivery"==e.plugin?i("v-uni-view",{class:[1==e.type||"citydelivery"==e.plugin?"check":""],on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.checkType(1)}}},[i("span",[e._v("退款")])]):e._e()],1)],1)],1),"1"==e.AfterSaleInfo.usestatus?i("v-uni-view",{staticClass:"checkCode"},[i("v-uni-view",{staticClass:"checkCodeTitle dis-flex f-24"},[i("v-uni-view",{staticStyle:{flex:"0.8"}},[e._v("核销码(可多选)")]),i("v-uni-view",{staticStyle:{flex:"0.2"}},[i("v-uni-view",{staticClass:"dis-il-block allcheck",on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.checkall.apply(void 0,arguments)}}},[e._v("全选")])],1)],1),i("v-uni-view",{staticClass:"checkCodeBody"},e._l(e.AfterSaleInfo.checkcodes,(function(a,t){return i("v-uni-view",[i("span",[e._v("核销码"+e._s(t+1)),i("span",[e._v(e._s(a.checkcode))])]),i("v-uni-view",{class:-1==e.codes.indexOf(a.checkcode)?"":"checkedCode",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.checkedCodes(a.checkcode,a.orderprice)}}},[-1!==e.codes.indexOf(a.checkcode)?i("v-uni-image",{attrs:{src:e.imgfixUrls+"merchant/payCheck.svg"}}):e._e()],1)],1)})),1)],1):e._e(),i("v-uni-view",{staticClass:"checkReason",on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.con.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"checkReasonPackage"},[i("span",[e._v("申请原因")]),i("v-uni-view",[i("span",[e._v(e._s(e.reasonText))]),i("v-uni-image",{attrs:{src:e.imgfixUrls+"merchant/right.svg"}})],1)],1)],1),i("v-uni-view",{staticClass:"describeQa"},[i("v-uni-view",{staticClass:"describeQaPackage"},[i("v-uni-view",{staticClass:"afterSaleTypeTitle"},[i("v-uni-view",{staticClass:"line"}),i("span",[e._v("问题描述")])],1),0==e.reasonPop?i("v-uni-textarea",{attrs:{placeholder:"请详细填写申请原因，注意保持商品完好，建议您先与卖家沟通"},model:{value:e.detail,callback:function(a){e.detail=a},expression:"detail"}}):e._e()],1)],1),i("v-uni-view",{staticClass:"voucherUp"},[i("v-uni-view",{staticClass:"voucherUpPackage"},[i("v-uni-view",{staticClass:"afterSaleTypeTitle"},[i("v-uni-view",{staticClass:"line"}),i("span",[e._v("上传凭证(最多6张)")])],1),i("v-uni-view",{staticClass:"voucherUpBody"},[e._l(e.imagse,(function(a,t){return i("v-uni-view",{staticClass:"xlMb"},[i("v-uni-image",{attrs:{src:a}}),i("v-uni-image",{staticClass:"closeButton",attrs:{src:e.imgfixUrls+"merchant/close.png"},on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.closePic(a)}}})],1)})),e.imagse.length<6?i("v-uni-view",{staticClass:"upLoad",on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.uploadFiles.apply(void 0,arguments)}}},[i("v-uni-image",{attrs:{src:e.imgfixUrls+"merchant/cream.png"}})],1):e._e()],2)],1)],1),i("v-uni-view",{staticClass:"full"}),i("v-uni-view",{staticClass:"navBottom"},[i("v-uni-view",[i("span",[e._v("退款金额："),i("span",[e._v("¥"+e._s(e.allprice))])])]),i("v-uni-view",{on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.afterSaleApply.apply(void 0,arguments)}}},[i("span",[e._v("提交申请")])])],1),i("PopManager",{attrs:{show:e.reasonPop,type:e.reasonType},on:{clickmask:function(a){arguments[0]=a=e.$handleEvent(a),e.closeReasonPop.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"reasonPopView"},[i("v-uni-view",{staticClass:"reasonPopViewPackage"},[i("v-uni-view",{staticClass:"reasonTitle"},[i("span",[e._v("退款申请")]),i("v-uni-image",{attrs:{src:e.imgfixUrls+"merchant/close.png"},on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.closeReasonPop.apply(void 0,arguments)}}})],1),e._l(e.reasonList,(function(a,t){return i("v-uni-view",{staticClass:"reasonButton",on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.checkReason(t)}}},[i("span",[e._v(e._s(a))]),i("v-uni-view",{class:e.reason==t?"reasonYCheck":"reasonNCheck"},[e.reason==t?i("v-uni-image",{attrs:{src:e.imgfixUrls+"merchant/payCheck.svg"}}):e._e()],1)],1)})),i("v-uni-view",{staticClass:"reasonSubmitButton",on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.closeReasonPop.apply(void 0,arguments)}}},[i("span",[e._v("确认")])])],2)],1)],1)],1)},o=[]}}]);