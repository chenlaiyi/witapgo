(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mainPages-index-diypage"],{"0776":function(a,t,e){"use strict";var i=e("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d=i(e("5176")),o=i(e("cebc")),n=e("2f62"),s=e("5198"),l=i(e("3099")),r=i(e("9976")),p=i(e("14f2")),g=i(e("dc1e")),c=i(e("27e4")),u=i(e("65c3")),f=i(e("9e9f")),h=uni.createInnerAudioContext(),y={data:function(){return{loadlogo:!1,swiperI:1,loading:!1,loadAgain:!1,datas:{basic:[],adv:"",page:{}},diypagesData:[],richtext:{imageProp:{mode:"widthFix"}},pageInfo:{},btngroup:{backgroundColor:"#ffffff",btnBordeRadius:"",displayMode:"",eachLineNum:"",eachPageNum:"",list:[],indicatorDots:!0,duration:300,btngroupHandleData:[],swiperHeight:""},pageType:null,bottomMenu:null}},components:{Loadlogo:r.default,diypages:p.default,Advert:g.default,TabBars:c.default,wxParse:u.default},computed:(0,o.default)({},(0,n.mapState)(["ruzhushow","kefushow"])),onLoad:function(a){var t=uni.getStorageSync("location"),e=l.default.getClientType(),i=l.default.getBrowser(),d=this,o=a.id,n=a.type;if("chrome53.0"===i)return d.loadlogo=!0,uni.showModal({content:"微信浏览器版本过低,请使用系统浏览器",showCancel:!1}),!1;"1"===e?t?d.getPagesData(n,o,t):f.default.wxRegister(function(){jWeixin.ready(function(){jWeixin.getLocation({type:"gcj02",success:function(a){d.getPagesData(n,o,a)}})})}):d.getPagesData(n,o,""),d.pageType=n},onShow:function(){},mounted:function(){},methods:(0,o.default)({},(0,n.mapMutations)([s.RUZHU,s.KEFU]),{ruzhuToggle:function(){this[s.RUZHU](!0)},kefuToggle:function(){this[s.KEFU](!0)},setShareData:function(a){var t=l.default.getClientType(),e=uni.getStorageSync("userinfo"),i=a.share_title,d=a.share_description,o=a.share_image,n=location.href,s=uni.getStorageSync("currentRegion"),r=s.title||"",p=s?s.ad_info.adcode:"",g=-1===n.indexOf("?")?n+"?head_id="+e.mid:n+"&head_id="+e.mid+"&cityname="+r+"&cityid="+p,c=encodeURIComponent(g);"1"===t&&jWeixin.ready(function(){f.default.wxShare({title:i,desc:d,link:"".concat(l.default.siteInfo.siteroot,"/app/index.php?i=").concat(l.default.siteInfo.uniacid,"&c=entry&m=weliam_smartcity&do=returnRequest&link=").concat(c,"&head_id=").concat(e.mid),imgUrl:o})})},getPagesData:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"8",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:233,e=arguments.length>2?arguments[2]:void 0,i=this,o={type:a,lat:e.latitude||"",lng:e.longitude||""};"1"===a&&(0,d.default)(o,{page_id:t}),l.default._post_form("&do=HomePage",o,function(t){if(console.log(t.data.menu),0===t.errno){i.datas.adv=t.data.adv&&0!==t.data.adv.length?t.data.adv:"",i.datas.page=t.data.page?t.data.page:"",i.bottomMenu=t.data.menu,i.pageInfo=t.data.page,"1"===a&&uni.setNavigationBarTitle({title:null==i.datas.page.title?"暂无标题":i.datas.page.title}),t.data.page.music&&(h.src=t.data.page.music);var e=t.data.item,d=[];for(var o in e)d.push(e[o]);for(var n in console.log(d),i.diypagesData=d,i.diypagesData){if("menu"==i.diypagesData[n].id){i.diypagesData[n].btngroupData={};var s={list:[],indicatorDots:!0,duration:300,btngroupHandleData:[],swiperHeight:""};for(var l in s.backgroundColor=i.diypagesData[n].style.background,s.btnBordeRadius=i.diypagesData[n].style.navstyle,s.displayMode=i.diypagesData[n].style.showtype,s.eachLineNum=i.diypagesData[n].style.rownum,s.eachPageNum=i.diypagesData[n].style.pagenum,i.diypagesData[n].data)s.list.push(i.diypagesData[n].data[l]);0==i.diypagesData[n].style.showdot?s.indicatorDots=!1:s.indicatorDots=!0;var r="";if(r=s.list.length>s.eachPageNum?s.eachPageNum:s.list.length,s.swiperHeight=87*Math.ceil(r/s.eachLineNum)+15,s.list&&s.list.length>0)for(var p=Math.ceil(s.list.length/s.eachPageNum),g=0;g<p;g++){for(var c=[],u=g*s.eachPageNum,f=u;f<s.eachPageNum*(g+1)&&f<s.list.length;f++)c.push(s.list[f]);s.btngroupHandleData.push(c)}i.diypagesData[n].btngroupData=s}if("picturew4"==i.diypagesData[n].id){var y=[];for(var x in i.diypagesData[n].data)y.push(i.diypagesData[n].data[x]);i.diypagesData[n].data=y}if("picturew5"==i.diypagesData[n].id){var v=[];for(var b in i.diypagesData[n].data)v.push(i.diypagesData[n].data[b]);i.diypagesData[n].data=v}if("pictures"==i.diypagesData[n].id){var m=[];for(var w in i.diypagesData[n].data)m.push(i.diypagesData[n].data[w]);i.diypagesData[n].data=m}if("shop"==i.diypagesData[n].id){var D=[];for(var k in i.diypagesData[n].data){var _=[];for(var P in i.diypagesData[n].data[k].goods)""!==i.diypagesData[n].data[k].goods[P]&&("active"==P?(i.diypagesData[n].data[k].goods[P].css="qiang",i.diypagesData[n].data[k].goods[P].tag="抢"):"coupon"==P?(i.diypagesData[n].data[k].goods[P].css="hui",i.diypagesData[n].data[k].goods[P].tag="券"):"fightgroup"==P?(i.diypagesData[n].data[k].goods[P].css="pin",i.diypagesData[n].data[k].goods[P].tag="拼"):"groupon"==P?(i.diypagesData[n].data[k].goods[P].css="tuan",i.diypagesData[n].data[k].goods[P].tag="团"):"halfcard"==P?(i.diypagesData[n].data[k].goods[P].css="ka",i.diypagesData[n].data[k].goods[P].tag="卡"):"packages"==P&&(i.diypagesData[n].data[k].goods[P].css="li",i.diypagesData[n].data[k].goods[P].tag="礼"),_.push(i.diypagesData[n].data[k].goods[P]));i.diypagesData[n].data[k].goods=_,D.push(i.diypagesData[n].data[k])}i.diypagesData[n].shopArr=D}}i.datas.basic=i.diypagesData}},!1,function(){i.loadAgain=!0,i.loadlogo=!0})},playAudio:function(){var a=this,t=!a.play_Audio;a.pageInfo.music;t&&(h.play(),h.onPlay(function(){console.log("开始播放")})),t||(h.pause(),h.onPause(function(){console.log("暂停播放")})),console.log(t),a.play_Audio=t}}),onPullDownRefresh:function(){uni.stopPullDownRefresh()},onReachBottom:function(){var a=this;a.loading=!0,setTimeout(function(){a.loading=!1},4e3)}};t.default=y},"0b71":function(a,t,e){var i=e("dfcf");"string"===typeof i&&(i=[[a.i,i,""]]),i.locals&&(a.exports=i.locals);var d=e("4f06").default;d("3a8f43dc",i,!0,{sourceMap:!1,shadowMode:!1})},2345:function(a,t,e){"use strict";var i=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-uni-view",{staticClass:"container"},[a.loadlogo?a._e():e("loadlogo"),a.loadlogo?e("v-uni-view",{staticClass:"page-index",class:a.bottomMenu?"bottomPadding":"",style:"background-color: "+a.datas.page.background},[a.datas.adv?e("Advert",{staticClass:"advert",attrs:{advertData:a.datas.adv}}):a._e(),e("diypages",{attrs:{diypagesData:a.diypagesData,pageData:a.datas.page,btngroupData:a.btngroup}}),e("v-uni-view",{staticClass:"page-footer"},[e("TabBars",{attrs:{tabBarAct:0,TabBarsData:a.datas.page.menu,TabBarsType:a.datas.page.type,pageType:a.pageType}})],1),a.pageInfo.music?e("v-uni-view",{staticClass:"audio-main",on:{click:function(t){t=a.$handleEvent(t),a.playAudio(t)}}},[e("v-uni-view",{staticClass:"audio-bg",class:{"stop-audio":!a.play_Audio}},[e("v-uni-view",{staticClass:"audio-gif",style:{"background-image":"url("+a.imageRoot+"musicgif.gif)"}},[e("v-uni-view",{staticClass:"audio-png",style:{"background-image":"url("+a.imageRoot+"music.png)"}})],1)],1)],1):a._e()],1):a._e()],1)},d=[];e.d(t,"a",function(){return i}),e.d(t,"b",function(){return d})},"6ff0":function(a,t,e){"use strict";e.r(t);var i=e("2345"),d=e("e8bc");for(var o in d)"default"!==o&&function(a){e.d(t,a,function(){return d[a]})}(o);e("f18f");var n=e("2877"),s=Object(n["a"])(d["default"],i["a"],i["b"],!1,null,"1c694545",null);t["default"]=s.exports},dfcf:function(a,t,e){t=a.exports=e("2350")(!1),t.push([a.i,".container[data-v-1c694545]{background-color:#ffd93f}.page-index[data-v-1c694545]{width:100vw;overflow:hidden;background-color:#fff;position:relative}.index-right-bar[data-v-1c694545]{width:80px;height:80px;padding:16px;position:fixed;right:30px;bottom:60px;z-index:99}.right-bar-i[data-v-1c694545]{width:100%;height:100%;padding:6px}.right-bar-i-t[data-v-1c694545]{height:40px;text-align:center;margin-top:0;padding-top:6px}.right-bar-i-t .i[data-v-1c694545]{width:44px;height:44px;display:inline-block}.right-bar-i-t .i .image[data-v-1c694545]{width:100%;height:100%;display:block}.right-bar-i-c[data-v-1c694545]{height:32px;line-height:32px;font-size:20px;margin-top:0}.index-h[data-v-1c694545]{height:80px;line-height:80px;padding:10px 30px 20px 30px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;background-color:#ffd93f;position:relative}.index-h-l[data-v-1c694545]{color:#000;font-size:36px;font-style:italic}.index-h-r-d[data-v-1c694545]{width:180px;height:56px;line-height:56px;color:grey;font-size:28px;text-align:center;margin-top:12px;background-color:#fff0b2;border-radius:40px}.index-h-r-d .i[data-v-1c694545]{color:#333;font-size:32px;margin-right:10px;vertical-align:-2px}@-webkit-keyframes move_wave-data-v-1c694545{0%{-webkit-transform:translateX(0) translateZ(0) scaleY(1);transform:translateX(0) translateZ(0) scaleY(1)}to{-webkit-transform:translateX(-66.66666%) translateZ(0) scaleY(1);transform:translateX(-66.66666%) translateZ(0) scaleY(1)}}@keyframes move_wave-data-v-1c694545{0%{-webkit-transform:translateX(0) translateZ(0) scaleY(1);transform:translateX(0) translateZ(0) scaleY(1)}to{-webkit-transform:translateX(-66.66666%) translateZ(0) scaleY(1);transform:translateX(-66.66666%) translateZ(0) scaleY(1)}}.index-wave[data-v-1c694545]{width:100%;height:60px;position:absolute;top:-72px;left:0;overflow:hidden}.index-wave-d[data-v-1c694545]{width:300%;height:100%;-webkit-animation:move_wave-data-v-1c694545 4s linear infinite;animation:move_wave-data-v-1c694545 4s linear infinite;-webkit-animation-delay:0s;animation-delay:0s;display:-webkit-flex;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start}.index-wave-i[data-v-1c694545]{width:100%;height:100%;position:relative}.index-wave-i .image[data-v-1c694545]{width:100%;height:100%}.index-t1[data-v-1c694545]{margin-top:40px;padding:0 30px;display:-webkit-flex;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;position:relative;z-index:1}.index-t1-l[data-v-1c694545]{padding-right:30px;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-flex;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-justify-content:space-around;-ms-flex-pack:distribute;justify-content:space-around}.index-t1-l-i[data-v-1c694545]{width:140px}.index-t1-l-i-t[data-v-1c694545]{width:100px;height:100px;padding:0 20px}.index-t1-l-i-t .image[data-v-1c694545]{width:100px;height:100px}.index-t1-l-i-b[data-v-1c694545]{height:42px;line-height:42px;text-align:center;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap}.index-t1-r[data-v-1c694545]{width:140px;border-left:1.2px solid #f6f6f6}.index-t1-r .image[data-v-1c694545]{width:110px;height:110px;margin:10px 0 0 30px}.bottomPadding[data-v-1c694545]{padding-bottom:%?100?%}",""])},e8bc:function(a,t,e){"use strict";e.r(t);var i=e("0776"),d=e.n(i);for(var o in i)"default"!==o&&function(a){e.d(t,a,function(){return i[a]})}(o);t["default"]=d.a},f18f:function(a,t,e){"use strict";var i=e("0b71"),d=e.n(i);d.a}}]);