(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mainPages-city-selectAddress"],{"09c5":function(a,t,i){"use strict";var n=i("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(i("75fc")),s=n(i("3099")),c=n(i("9e9f")),r={components:{},data:function(){return{city_name:"",city_id:"",city_lat:"",city_lng:"",isCurentAdres:"",skip_addressData:null,LocaTion_addressData:null,isPage:!1,searchText:"",navgateTourl:"",agencyData:""}},computed:{addressData:function(){if(this.LocaTion_addressData||this.skip_addressData)return this.LocaTion_addressData&&this.LocaTion_addressData["ad_info"]["city_code"]===this.skip_addressData["ad_info"]["city_code"]?this.LocaTion_addressData:this.skip_addressData}},onLoad:function(a){uni.showLoading({title:"定位中..."});var t=this,i=a.lat,n=a.lng,e=a.city,s=a.id,r=a.isCurrentAddress,o=a.url,d=a.loca,l=i||"",u=n||"",f=e||a.name,v=s||"",g=r||"0",y=uni.getStorageSync("agencyData"),h=o||"";t.setData({city_lat:l,city_lng:u,city_name:f,city_id:v,isCurentAdres:g,navgateTourl:h,agencyData:y}),"now"===d?c.default.wxRegister(t.againCurrentlat):t.getCurrentlat(l,u,v)},methods:{getCurrentlat:function(a,t,i){var n=this,e={};e=a&&t?{lat:a,lng:t,area_code:"1"}:{citycode:i,area_code:"1"},s.default._post_form("&do=cityLocation",e,function(a){n.setData({skip_addressData:a.data,isPage:!0}),c.default.wxRegister(n.wxApiCallback)},!1,function(){uni.hideLoading()})},wxApiCallback:function(){var a=this;jWeixin.ready(function(){jWeixin.getLocation({type:"gcj02",success:function(t){a.getCurrentcity(t.latitude,t.longitude)}})})},againCurrentlat:function(){var a=this;uni.showLoading({title:"定位中..."}),jWeixin.ready(function(){jWeixin.getLocation({type:"gcj02",success:function(t){a.getCurrentcity(t.latitude,t.longitude)}})})},getCurrentcity:function(a,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];var i=this,n={lat:a,lng:t,area_code:"1"};s.default._post_form("&do=cityLocation",n,function(a){var t=a.data;i.setData({LocaTion_addressData:t})},!1,function(){uni.hideLoading()})},citySearch:function(a){var t=this;""!==a&&s.default._post_form("&do=citySearch",{city_name:t.addressData["ad_info"]["city"],keyword:a},function(a){t.addressData["pois"]=a.data},!1,function(){})},navBack:function(){uni.navigateBack()},cityTaptime:function(a){var t=this,i=(t.currentCity,t.agencyData),n=(new Date).getTime();i.areaid!==a.ad_info.adcode&&uni.setStorageSync("cityTimestamp",n)},navGate:function(a){var t=getCurrentPages(),i=uni.getStorageSync("locationArray"),n=t.length>1?"reLaunch":"rediRect",c=this,r=[];if(s.default.getAreaId(a.location,a.title,"",function(t){c.cityTaptime(a),s.default.navigationTo({url:"pages/mainPages/index/index",navType:n}),uni.setStorageSync("agencyData",t.data)}),i){var o=0!==i.filter(function(t){return(t.ad_info?t.ad_info.city:t.name)===a.ad_info.city}).length;if(o)return;r.push.apply(r,[a].concat((0,e.default)(i))),uni.setStorageSync("locationArray",r)}else r.push(a),uni.setStorageSync("locationArray",r)}},watch:{searchText:function(a,t){this.citySearch(a)}}};t.default=r},"976f":function(a,t,i){var n=i("9a92");"string"===typeof n&&(n=[[a.i,n,""]]),n.locals&&(a.exports=n.locals);var e=i("4f06").default;e("e37f8268",n,!0,{sourceMap:!1,shadowMode:!1})},"9a92":function(a,t,i){t=a.exports=i("2350")(!1),t.push([a.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.history-main[data-v-1a1bacc9]{height:%?120?%}.history-main .city[data-v-1a1bacc9]{width:%?170?%;margin-right:%?26?%}.history-main .history-input[data-v-1a1bacc9]{-webkit-box-flex:1;-webkit-flex:1;flex:1;background:#f6f6f6;border-radius:%?38?%;height:%?80?%}.history-main .history-input .history-icon[data-v-1a1bacc9]{font-size:%?30?%;margin-right:%?20?%;color:#959595}.history-main .history-btn[data-v-1a1bacc9]{margin:0 %?12?%}.history-main .select-up-icon[data-v-1a1bacc9]{font-size:%?24?%}.current-address-main[data-v-1a1bacc9]{border-bottom:1px solid #f0f0f0;padding:%?40?% %?30?%}.current-address-main .again-lot .again-icon[data-v-1a1bacc9]{margin-right:%?8?%;color:#fe504f;font-size:%?28?%}.current-address-main .again-lot .again-lot-title[data-v-1a1bacc9]{color:#fe504f}.nearby-address[data-v-1a1bacc9]{padding:%?40?% 0;border-bottom:1px solid #f0f0f0}.nearby-address .nearby-icon[data-v-1a1bacc9]{color:#333;font-size:%?28?%;margin-right:%?14?%}.address-list .list-item[data-v-1a1bacc9]{padding:%?40?% 0;margin:0 %?68?%;border-bottom:1px solid #f0f0f0}',""])},c09c:function(a,t,i){"use strict";i.r(t);var n=i("c5af"),e=i("c75c");for(var s in e)"default"!==s&&function(a){i.d(t,a,function(){return e[a]})}(s);i("cb4a");var c,r=i("f0c5"),o=Object(r["a"])(e["default"],n["b"],n["c"],!1,null,"1a1bacc9",null,!1,n["a"],c);t["default"]=o.exports},c5af:function(a,t,i){"use strict";var n,e=function(){var a=this,t=a.$createElement,i=a._self._c||t;return a.isPage?i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{staticClass:"history-main dis-flex flex-y-center p-left-right-30"},[i("v-uni-view",{staticClass:"city onelist-hidden dis-flex flex-y-center",on:{click:function(t){arguments[0]=t=a.$handleEvent(t),a.navBack.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"location-icon iconfont icon-locationfill"}),a.addressData?i("v-uni-view",{staticClass:"history-btn col-3 f-28"},[a._v(a._s(a.addressData["ad_info"]["city"]))]):a._e(),i("v-uni-view",{staticClass:"select-up-icon iconfont icon-unfold"})],1),i("v-uni-view",{staticClass:"history-input dis-flex flex-y-center p-left-right-30 p-r"},[i("v-uni-view",{staticClass:"history-icon iconfont icon-search"}),i("v-uni-input",{staticClass:"f-24",attrs:{type:"text",value:"",placeholder:"请输入当前位置"},model:{value:a.searchText,callback:function(t){a.searchText=t},expression:"searchText"}})],1)],1),i("v-uni-view",{staticClass:"current-address-main dis-flex flex-x-between"},[a.addressData?i("v-uni-view",{staticClass:"current-address f-28 col-3"},[a._v(a._s(a.addressData["formatted_addresses"]["recommend"]))]):a._e(),i("v-uni-view",{staticClass:"again-lot dis-flex"},[i("v-uni-view",{staticClass:"again-icon iconfont icon-focus"}),i("v-uni-view",{staticClass:"again-lot-title f-28",on:{click:function(t){arguments[0]=t=a.$handleEvent(t),a.againCurrentlat.apply(void 0,arguments)}}},[a._v("重新定位")])],1)],1),i("v-uni-view",{staticClass:"nearby-main"},[i("v-uni-view",{staticClass:"nearby-address dis-flex flex-y-center m-left-right-30"},[i("v-uni-view",{staticClass:"nearby-icon iconfont icon-dibiao"}),i("v-uni-view",{staticClass:"f-28 col-9"},[a._v("附近地址")])],1),i("v-uni-view",{staticClass:"address-list"},a._l(a.addressData["pois"],function(t,n){return a.addressData&&a.addressData["pois"]["length"]>0?i("v-uni-view",{key:n,staticClass:"list-item",on:{click:function(i){arguments[0]=i=a.$handleEvent(i),a.navGate(t)}}},[i("v-uni-view",{staticClass:"list-title col-3 f-30 m-btm20"},[a._v(a._s(t.title))]),i("v-uni-view",{staticClass:"list-title col-9 f-24"},[a._v(a._s(t.address))])],1):a._e()}),1)],1)],1):a._e()},s=[];i.d(t,"b",function(){return e}),i.d(t,"c",function(){return s}),i.d(t,"a",function(){return n})},c75c:function(a,t,i){"use strict";i.r(t);var n=i("09c5"),e=i.n(n);for(var s in n)"default"!==s&&function(a){i.d(t,a,function(){return n[a]})}(s);t["default"]=e.a},cb4a:function(a,t,i){"use strict";var n=i("976f"),e=i.n(n);e.a}}]);