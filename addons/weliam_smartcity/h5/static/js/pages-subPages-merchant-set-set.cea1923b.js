(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-subPages-merchant-set-set"],{"355c":function(t,e,a){"use strict";a.r(e);var i=a("bfa2"),n=a("44a6");for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);a("746c");var r=a("2877"),l=Object(r["a"])(n["default"],i["a"],i["b"],!1,null,"2d9a2f8a",null);e["default"]=l.exports},"408d":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".submitButtom[data-v-2d9a2f8a]{margin:%?100?% auto 0 auto;width:%?690?%;height:%?83?%;background:#38f;border-radius:%?42?%;text-align:center}.submitButtom>span[data-v-2d9a2f8a]{line-height:%?83?%;font-size:%?28?%;font-weight:400;color:#fff}.twiceTitle[data-v-2d9a2f8a]{margin-top:%?62?%}.twiceTitle>span[data-v-2d9a2f8a]{vertical-align:middle;font-size:%?24?%;color:#333}.twiceTitle>uni-view[data-v-2d9a2f8a]{vertical-align:middle;overflow:visible!important;margin-top:%?43?%}.twiceTitle>uni-view>uni-view[data-v-2d9a2f8a]{vertical-align:middle;display:inline-block}.userImgUpdata[data-v-2d9a2f8a]{width:%?157?%;height:%?157?%;background:#f6f6f6;border:%?1?% solid #ccc;border-radius:%?10?%;text-align:center}.userImgUpdata>img[data-v-2d9a2f8a]{margin-top:%?53?%;width:%?53?%;height:%?53?%}.imgPreview[data-v-2d9a2f8a]{overflow:hidden;width:%?157?%;height:%?157?%;background:grey;margin-right:%?37?%;margin-bottom:%?10?%;border-radius:%?10?%}.imgPreview>img[data-v-2d9a2f8a]{width:%?157?%;height:%?157?%}.close[data-v-2d9a2f8a]{width:%?32?%!important;height:%?32?%!important;position:relative;bottom:%?150?%;left:%?120?%;z-index:30}.twiceTitle2[data-v-2d9a2f8a]{margin-left:%?36?%}.twiceTitle1[data-v-2d9a2f8a]{margin-top:%?40?%}.twiceTitle1>span[data-v-2d9a2f8a]{font-size:%?24?%;color:#333}.twiceTitle1>uni-view[data-v-2d9a2f8a]{margin-top:%?43?%}.twiceTitle1>uni-view>uni-view[data-v-2d9a2f8a]{vertical-align:middle;display:inline-block}.uni-input[data-v-2d9a2f8a]{font-size:%?24?%;color:#333}uni-page-body[data-v-2d9a2f8a]{font-size:0}.setPackage[data-v-2d9a2f8a]{padding:%?30?%}.firstTitle[data-v-2d9a2f8a]{margin-top:%?20?%}.firstTitle>span[data-v-2d9a2f8a]{margin-left:%?10?%;vertical-align:middle;font-size:%?28?%;font-weight:700;color:#333}.line[data-v-2d9a2f8a]{display:inline-block;vertical-align:middle;width:%?8?%;height:%?27?%;background:#38f;border-radius:%?4?%}.setInput[data-v-2d9a2f8a]{margin-top:%?15?%;width:%?690?%;height:%?83?%;background:#fafafa;border-radius:%?10?%}.setInput>span[data-v-2d9a2f8a]{text-align:right;display:inline-block;width:%?100?%;vertical-align:middle;padding-left:%?30?%;font-size:%?24?%;color:#333}.setInput>uni-input[data-v-2d9a2f8a]{font-size:%?24?%;color:#333;padding-left:%?30?%;vertical-align:middle;display:inline-block;height:100%;width:%?400?%}.inputPackage[data-v-2d9a2f8a]{margin-top:%?15?%}.userInfoInputMain[data-v-2d9a2f8a]{background:#fafafa;margin-top:%?18?%;padding:0 %?30?%}.userInfoInputMain>span[data-v-2d9a2f8a]{text-align:right;vertical-align:middle;display:inline-block;width:%?100?%;font-size:%?24?%;color:#333}.userInfoInputMain>uni-input[data-v-2d9a2f8a]{border:none;outline:none;vertical-align:middle;display:inline-block;width:%?350?%;margin-left:%?30?%;height:%?83?%;background:#fafafa;font-size:%?24?%;color:#333}.userInfoInputMain>img[data-v-2d9a2f8a]{margin-left:%?50?%;vertical-align:middle;width:%?20?%;height:%?28?%}.userInfoInputMain>uni-view[data-v-2d9a2f8a]{vertical-align:middle;display:inline-block}.userInfoInputMain>uni-view>img[data-v-2d9a2f8a]{vertical-align:middle;width:%?21?%;height:%?24?%;margin-right:%?9?%}.userInfoInputMain>uni-view>span[data-v-2d9a2f8a]{vertical-align:middle;font-size:%?24?%;color:#f44}.userInfoInputMain[data-v-2d9a2f8a] .uni-input{margin-top:%?27?%}.userInfoInputMain .timePickerView[data-v-2d9a2f8a]{vertical-align:middle;display:inline-block;margin-left:%?30?%;width:%?350?%;height:%?83?%}.userInfoInputMain .timePickerView>span[data-v-2d9a2f8a]{line-height:%?83?%;vertical-align:top;margin:0 %?10?%;font-size:%?24?%;color:#333}[data-v-2d9a2f8a] .uni-input{margin-top:%?27?%}.timePickerView[data-v-2d9a2f8a]{vertical-align:middle;display:inline-block;margin-left:%?30?%;width:%?350?%;height:%?83?%}.timePickerView>span[data-v-2d9a2f8a]{line-height:%?83?%;vertical-align:top;margin:0 %?10?%;font-size:%?24?%;color:#333}.dataPicker[data-v-2d9a2f8a]{width:%?350?%;height:%?82?%;display:inline-block}.dataPicker1[data-v-2d9a2f8a]{width:%?70?%;height:%?82?%;display:inline-block}",""])},"44a6":function(t,e,a){"use strict";a.r(e);var i=a("4df4"),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,function(){return i[t]})}(s);e["default"]=n.a},"4df4":function(t,e,a){"use strict";var i=a("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("7f7f");var n=i(a("3099")),s=(i(a("99a1")),i(a("27e4")),i(a("9e9f"))),r={data:function(){return{typeLists:[],typeIndex:[0,0],cityIndex:[0,0,0],title:"hello",show:!0,page:1,date:"",time:"00:00",time1:"00:00",jobType:"美食餐饮 甜点饮品",typelist:[],typeList:[],citylist:[],cityList:[],chargeList:[],id:"",typeid:"",current:0,onelevelName:"请选择行业分类",twolevelName:"",provinceidName:"请选择省市区",areaidName:"",distidName:"",imgPath:"",type1Url:"",type2Url:[],type3Url:[],type4Url:[],type5Url:[],userInfo:{storename:"",name:"",mobile:"",lat:"",lng:"",startTime:"00:00",endTime:"00:00",address:"",onelevel:"",twolevel:"",provinceid:"",areaid:"",distid:"",introduction:"",logo:"",adv:[],album:[],examine:[],thumbimages:[]},storeid:null}},onLoad:function(t){console.info(11111111111),t.page;var e=this;e.init()},methods:{init:function(){var t=this;uni.getStorage({key:"checkStoreid",success:function(e){t.storeid=e.data}}),t.getUserInfo(),s.default.wxRegister()},submitButtom:function(){},uploadFiles:function(t){var e=this;s.default.choseImage(function(a){s.default.uoloadIg(a.localIds[0],function(a){if("uploadImage:ok"===a.errMsg){uni.showLoading({});var i={upload_type:2,id:a.serverId};n.default._post_form("&do=uploadFiles",i,function(a){0===a.errno&&(1==t&&(e.type1Url=a.data.img,e.userInfo.logo=a.data.image),2==t&&(e.type2Url.push(a.data.img),e.userInfo.adv.push(a.data.image)),3==t&&(e.type3Url.push(a.data.img),e.userInfo.album.push(a.data.image)),4==t&&(e.type4Url.push(a.data.img),e.userInfo.examine.push(a.data.image)),5==t&&(e.type5Url.push(a.data.img),e.userInfo.thumbimages.push(a.data.image)))},!1,function(){uni.hideLoading()})}else uni.hideLoading(),n.default.showError("上传失败")})})},saveUserInfo:function(){var t=this;if(""!=t.userInfo.storename)if(""!=t.userInfo.name)if(""!=t.userInfo.mobile)if(""!=t.userInfo.provinceid&&""!=t.userInfo.areaid&&""!=t.userInfo.distid)if(""!=t.userInfo.address){var e=t.userInfo;e["storeid"]=t.storeid,console.info(t.userInfo),n.default._post_form("&p=store&do=createStore",e,function(t){uni.setStorageSync("userId",t.data),uni.showToast({icon:"none",title:"修改成功",duration:2e3}),n.default.navigationTo({url:"pages/subPages/merchant/merchantUerCenter/merchantUerCenter"})})}else uni.showToast({icon:"none",title:"详细地址不能为空",duration:2e3});else uni.showToast({icon:"none",title:"请选择所在地区",duration:2e3});else uni.showToast({icon:"none",title:"联系电话不能为空",duration:2e3});else uni.showToast({icon:"none",title:"姓名不能为空",duration:2e3});else uni.showToast({icon:"none",title:"店铺名称不能为空",duration:2e3})},closePreview:function(t,e){var a=this;if(2==t)for(var i=0;i<a.type2Url.length;i++)e==a.type2Url[i]&&(a.type2Url.splice(i,1),a.userInfo.adv.splice(i,1));if(3==t)for(var n=0;n<a.type3Url.length;n++)e==a.type3Url[n]&&(a.type3Url.splice(n,1),a.userInfo.album.splice(n,1));if(4==t)for(var s=0;s<a.type4Url.length;s++)e==a.type4Url[s]&&(a.type4Url.splice(s,1),a.userInfo.examine.splice(s,1));if(5==t)for(var r=0;r<a.type5Url.length;r++)e==a.type5Url[r]&&(a.type5Url.splice(r,1),a.userInfo.thumbimages.splice(r,1))},closeLogo:function(){var t=this;t.type1Url="",t.userInfo.logo=""},getUserInfo:function(){var t=this,e={id:t.storeid},a=[],i=[],s=[],r=[],l=[];n.default._post_form("&p=store&do=storeSettled",e,function(e){t.userInfo=e.data.store,console.info(t.userInfo),uni.setStorageSync("agreement",e.data.registerdetail),t.typelist=[];var o={provinceid:e.data.store.provinceid,areaid:e.data.store.areaid,distid:e.data.store.distid};if(n.default._post_form("&p=store&do=area2type",o,function(e){if(0==e.data.length)t.typelist.push([{name:"该地区暂无分类",id:""}]);else{for(var n=0;n<e.data.length;n++){a.push(e.data[n]);for(var s=0;s<e.data[0].length;s++)i.push(e.data[0].twotype[s])}t.typeLists=e.data,t.typelist.push(a),t.typelist.push(i);for(var r=0;r<t.typeLists.length;r++)if(console.info(t.typeLists[r]),t.typeLists[r].id==t.userInfo.onelevel){t.typeIndex[0]=r,t.onelevelName=t.typeLists[r].name;for(var l=0;l<t.typeLists[r].twotype.length;l++)t.typeLists[r].twotype[l].id==t.userInfo.twolevel&&(t.typeIndex[1]=l,t.twolevelName=t.typeLists[r].twotype[l].name)}}}),t.type1Url=e.data.store.logo,0!==e.data.store.adv.length)for(var d=0;d<e.data.store.adv.length;d++)t.type2Url.push(e.data.store.adv[d]);if(0!==e.data.store.album.length)for(var u=0;u<e.data.store.album.length;u++)t.type3Url.push(e.data.store.album[u]);if(e.data.store.examineimg)for(var c=0;c<e.data.store.examineimg.length;c++)t.type4Url.push(e.data.store.examineimg[c]);t.cityList=e.data.citylist;for(var v=0;v<e.data.citylist.length;v++)if(s.push(e.data.citylist[v]),e.data.store.provinceid==e.data.citylist[v].id){t.provinceidName=e.data.citylist[v].name,t.cityIndex[0]=v;for(var f=0;f<e.data.citylist[v].area.length;f++)if(r.push(e.data.citylist[v].area[f]),e.data.store.areaid==e.data.citylist[v].area[f].id){t.areaidName=e.data.citylist[v].area[f].name,t.cityIndex[1]=f;for(var p=0;p<e.data.citylist[v].area[f].dist.length;p++)l.push(e.data.citylist[v].area[f].dist[p]),e.data.store.distid==e.data.citylist[v].area[f].dist[p].id&&(t.distidName=e.data.citylist[v].area[f].dist[p].name,t.cityIndex[2]=p)}}t.citylist.push(s),t.citylist.push(r),t.citylist.push(l)})},checkType:function(t){var e=this;e.onelevelName="",e.twolevelName="",e.userInfo.onelevel="",e.userInfo.twolevel="",void 0!==e.typelist[0][t.target.value[0]]&&(e.onelevelName=e.typelist[0][t.target.value[0]].name,e.userInfo.onelevel=e.typelist[0][t.target.value[0]].id),e.typelist[1][t.target.value[1]]&&(e.twolevelName=e.typelist[1][t.target.value[1]].name,e.userInfo.twolevel=e.typelist[1][t.target.value[1]].id)},changeKey:function(t){for(var e=this,a=[],i=0;i<e.typeLists.length;i++)if(t.target.value==i&&0==t.target.column){for(var n=0;n<e.typeLists[i].twotype.length;n++)a.push(e.typeLists[i].twotype[n]);e.typelist.splice(1,2,a),console.info(a)}},checkCity:function(t){var e=this;e.provinceidName=e.citylist[0][t.target.value[0]].name,e.areaidName=e.citylist[1][t.target.value[1]].name,e.distidName=e.citylist[2][t.target.value[2]].name,e.userInfo.provinceid=e.citylist[0][t.target.value[0]].id,e.userInfo.areaid=e.citylist[1][t.target.value[1]].id,e.userInfo.distid=e.citylist[2][t.target.value[2]].id,e.userInfo.onelevel="",e.userInfo.twolevel="",e.onelevelName="请选择行业分类",e.twolevelName="",e.getAreaTypeList()},getAreaTypeList:function(){var t=this;t.typelist=[];var e=[],a=[],i={provinceid:t.userInfo.provinceid,areaid:t.userInfo.areaid,distid:t.userInfo.distid};n.default._post_form("&p=store&do=area2type",i,function(i){if(0==i.data.length)t.typelist.push([{name:"该地区暂无分类",id:""}]);else{for(var n=0;n<i.data.length;n++){e.push(i.data[n]);for(var s=0;s<i.data[0].length;s++)a.push(i.data[0].twotype[s])}t.typeLists=i.data,t.typelist.push(e),t.typelist.push(a)}})},changeCity:function(t){var e=this,a=[],i=[];if(0==t.target.column){for(var n=0;n<e.cityList.length;n++)if(t.target.value==n)for(var s=0;s<e.cityList[n].area.length;s++)a.push(e.cityList[n].area[s]);e.citylist.splice(1,2,a),e.citylist.splice(2,3,a[0].dist)}if(1==t.target.column){for(var r=0;r<e.citylist[1].length;r++)if(t.target.value==r)for(var l=0;l<e.citylist[1][r].dist.length;l++)i.push(e.citylist[1][r].dist[l]);e.citylist.splice(2,3,i)}},getLocation:function(){var t=this;uni.chooseLocation({success:function(e){t.userInfo.address=e.address,t.userInfo.lat=e.latitude,t.userInfo.lng=e.longitude}})},bindTimeChangeStar:function(t){this.userInfo.startTime=t.target.value},bindTimeChangeEnd:function(t){this.userInfo.endTime=t.target.value},getDate:function(t){var e=new Date,a=e.getFullYear(),i=e.getMonth()+1,n=e.getDate();return"start"===t?a-=60:"end"===t&&(a+=2),i=i>9?i:"0"+i,n=n>9?n:"0"+n,"".concat(a,"-").concat(i,"-").concat(n)}}};e.default=r},6089:function(t,e,a){var i=a("408d");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("24d45b96",i,!0,{sourceMap:!1,shadowMode:!1})},"746c":function(t,e,a){"use strict";var i=a("6089"),n=a.n(i);n.a},bfa2:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{staticClass:"setPackage"},[i("v-uni-view",{staticClass:"firstTitle"},[i("v-uni-view",{staticClass:"line"}),i("span",[t._v("请填写店铺信息")])],1),i("v-uni-view",{staticClass:"inputPackage"},[i("v-uni-view",{staticClass:"setInput"},[i("span",[t._v("店铺名称")]),i("v-uni-input",{attrs:{placeholder:"请输入店铺名称"},model:{value:t.userInfo.storename,callback:function(e){t.$set(t.userInfo,"storename",e)},expression:"userInfo.storename"}})],1),i("v-uni-view",{staticClass:"setInput"},[i("span",[t._v("姓名")]),i("v-uni-input",{attrs:{placeholder:"请输入姓名"},model:{value:t.userInfo.name,callback:function(e){t.$set(t.userInfo,"name",e)},expression:"userInfo.name"}})],1),i("v-uni-view",{staticClass:"setInput"},[i("span",[t._v("电话")]),i("v-uni-input",{attrs:{placeholder:"请输入联系电话",type:"number"},model:{value:t.userInfo.mobile,callback:function(e){t.$set(t.userInfo,"mobile",e)},expression:"userInfo.mobile"}})],1),i("v-uni-view",{staticClass:"userInfoInputMain"},[i("span",[t._v("所在地区")]),i("v-uni-view",{staticClass:"timePickerView"},[i("v-uni-picker",{staticClass:"dataPicker",attrs:{mode:"multiSelector",range:t.citylist,value:t.cityIndex,"range-key":"name"},on:{change:function(e){e=t.$handleEvent(e),t.checkCity(e)},columnchange:function(e){e=t.$handleEvent(e),t.changeCity(e)}}},[i("v-uni-view",{staticClass:"uni-input"},[t._v(t._s(t.provinceidName)+" "+t._s(t.areaidName)+" "+t._s(t.distidName))])],1),i("span")],1),i("img",{attrs:{src:a("0ef0")}})],1),i("v-uni-view",{staticClass:"userInfoInputMain"},[i("span",[t._v("详细地址")]),i("v-uni-input",{attrs:{placeholder:"请输入详细地址"},model:{value:t.userInfo.address,callback:function(e){t.$set(t.userInfo,"address",e)},expression:"userInfo.address"}}),i("v-uni-view",{on:{click:function(e){e=t.$handleEvent(e),t.getLocation(e)}}},[i("img",{attrs:{src:a("8f2c")}}),i("span",[t._v("定位")])])],1),i("v-uni-view",{staticClass:"userInfoInputMain"},[i("span",[t._v("行业分类")]),i("v-uni-view",{staticClass:"timePickerView"},[i("v-uni-picker",{staticClass:"dataPicker",attrs:{mode:"multiSelector",range:t.typelist,"range-key":"name",value:t.typeIndex},on:{change:function(e){e=t.$handleEvent(e),t.checkType(e)},columnchange:function(e){e=t.$handleEvent(e),t.changeKey(e)}}},[i("v-uni-view",{staticClass:"uni-input"},[t._v(t._s(t.onelevelName)+" "+t._s(t.twolevelName))])],1),i("span")],1),i("img",{attrs:{src:a("0ef0")}})],1),i("v-uni-view",{staticClass:"userInfoInputMain"},[i("span",[t._v("营业时间")]),i("v-uni-view",{staticClass:"timePickerView"},[i("v-uni-picker",{staticClass:"dataPicker1",attrs:{mode:"time",value:t.userInfo.startTime,start:"00:00",end:"23:59"},on:{change:function(e){e=t.$handleEvent(e),t.bindTimeChangeStar(e)}}},[i("v-uni-view",{staticClass:"uni-input"},[i("span",[t._v(t._s(t.userInfo.startTime))])])],1),i("span",[t._v("-")]),i("v-uni-picker",{staticClass:"dataPicker1",attrs:{mode:"time",value:t.userInfo.endTime,start:"00:00",end:"23:59"},on:{change:function(e){e=t.$handleEvent(e),t.bindTimeChangeEnd(e)}}},[i("v-uni-view",{staticClass:"uni-input"},[t._v(t._s(t.userInfo.endTime))])],1)],1),i("img",{attrs:{src:a("0ef0")}})],1)],1),i("v-uni-view",{staticClass:"firstTitle"},[i("v-uni-view",{staticClass:"line"}),i("span",[t._v("店铺图片")])],1),i("v-uni-view",{staticClass:"inputPackage"},[i("v-uni-view",{staticClass:"twiceTitle1"},[i("span",[t._v("店铺LOGO(200X200)")]),i("span",{staticClass:"twiceTitle2"},[t._v("商家微信二维码")]),i("v-uni-view",[""!==t.type1Url?i("v-uni-view",{staticClass:"imgPreview"},[i("img",{attrs:{src:t.type1Url}}),i("img",{staticClass:"close",attrs:{src:a("fc95")},on:{click:function(e){e=t.$handleEvent(e),t.closeLogo(e)}}})]):t._e(),""==t.type1Url?i("v-uni-view",{staticClass:"userImgUpdata",on:{click:function(e){e=t.$handleEvent(e),t.uploadFiles(1)}}},[i("img",{attrs:{src:a("256a")}})]):t._e()],1)],1),i("v-uni-view",{staticClass:"twiceTitle"},[i("span",[t._v("店铺幻灯片(720X300)")]),i("v-uni-view",[t._l(t.type2Url,function(e,n){return i("v-uni-view",{staticClass:"imgPreview"},[i("img",{attrs:{src:e}}),i("img",{staticClass:"close",attrs:{src:a("fc95")},on:{click:function(a){a=t.$handleEvent(a),t.closePreview(2,e)}}})])}),i("v-uni-view",{staticClass:"userImgUpdata",on:{click:function(e){e=t.$handleEvent(e),t.uploadFiles(2)}}},[i("img",{attrs:{src:a("256a")}})])],2)],1),i("v-uni-view",{staticClass:"twiceTitle"},[i("span",[t._v("店铺相册(320X320)")]),i("v-uni-view",[t._l(t.type3Url,function(e,n){return i("v-uni-view",{staticClass:"imgPreview"},[i("img",{attrs:{src:e}}),i("img",{staticClass:"close",attrs:{src:a("fc95")},on:{click:function(a){a=t.$handleEvent(a),t.closePreview(3,e)}}})])}),i("v-uni-view",{staticClass:"userImgUpdata",on:{click:function(e){e=t.$handleEvent(e),t.uploadFiles(3)}}},[i("img",{attrs:{src:a("256a")}})])],2)],1),i("v-uni-view",{staticClass:"twiceTitle"},[i("span",[t._v("店铺资质(320X320)")]),i("v-uni-view",[t._l(t.type4Url,function(e,n){return i("v-uni-view",{staticClass:"imgPreview"},[i("img",{attrs:{src:e}}),i("img",{staticClass:"close",attrs:{src:a("fc95")},on:{click:function(a){a=t.$handleEvent(a),t.closePreview(4,e)}}})])}),i("v-uni-view",{staticClass:"userImgUpdata",on:{click:function(e){e=t.$handleEvent(e),t.uploadFiles(4)}}},[i("img",{attrs:{src:a("256a")}})])],2)],1)],1),i("v-uni-view",{staticClass:"submitButtom",on:{click:function(e){e=t.$handleEvent(e),t.saveUserInfo(e)}}},[i("span",[t._v("提交")])])],1)],1)},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})}}]);