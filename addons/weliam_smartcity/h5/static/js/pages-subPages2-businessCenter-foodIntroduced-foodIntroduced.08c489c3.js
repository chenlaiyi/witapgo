(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-subPages2-businessCenter-foodIntroduced-foodIntroduced"],{"0125":function(t,i,e){"use strict";e.r(i);var n=e("ec06"),o=e("8301");for(var a in o)"default"!==a&&function(t){e.d(i,t,function(){return o[t]})}(a);var s,c=e("f0c5"),u=Object(c["a"])(o["default"],n["b"],n["c"],!1,null,"466b1d28",null,!1,n["a"],s);i["default"]=u.exports},1584:function(t,i,e){"use strict";var n=e("ba6a"),o=e.n(n);o.a},4960:function(t,i,e){"use strict";var n,o=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"foodIntroduced"},[e("v-uni-view",{staticClass:"foodImg"},[e("v-uni-swiper",{staticClass:"swiper",attrs:{"indicator-dots":!0,autoplay:!0,interval:t.interval,duration:t.duration}},t._l(t.storeFoodList.thumbs,function(t,i){return e("v-uni-swiper-item",{key:i},[e("v-uni-image",{staticStyle:{width:"100%",height:"45vh"},attrs:{src:t,mode:"aspectFill"}})],1)}),1)],1),e("v-uni-view",{staticClass:"foodName b-f",staticStyle:{padding:"30upx"}},[e("v-uni-view",{staticClass:"nameText",staticStyle:{"padding-bottom":"20upx"}},[t._v(t._s(t.storeFoodList.goodsname))]),e("v-uni-view",{staticClass:"dis-flex"},[e("v-uni-view",{staticStyle:{flex:"3"}},[e("v-uni-view",{staticStyle:{"padding-bottom":"20upx"}},[e("v-uni-text",{staticClass:"f-20 c-ff4444"},[t._v("¥")]),e("v-uni-text",{staticClass:"f-36 c-ff4444 f-w"},[t._v(t._s(t.storeFoodList.price))]),e("v-uni-text",{staticClass:"f-22",staticStyle:{"text-decoration":"line-through",color:"#999999","padding-left":"10upx"}},[t._v("¥"+t._s(t.storeFoodList.oldprice))])],1),e("v-uni-view",{staticClass:"f-22",staticStyle:{color:"#999999"}},[e("v-uni-text",[t._v("已售一坨")]),e("v-uni-text",[t._v("/")]),e("v-uni-text",[t._v("仅售一堆")])],1)],1),e("v-uni-view",{staticStyle:{flex:"1"}},[t.storeFoodList.specarray.length>0?e("v-uni-view",{staticStyle:{padding:"10upx 20upx","border-radius":"10upx","background-color":"#FF4444",color:"#FFFFFF","font-size":"24upx","text-align":"center"},on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.popupOpen(t.titem)}}},[t._v("选规格")]):t._e(),0==t.storeFoodList.specarray.length?e("v-uni-view",{staticStyle:{flex:"3","padding-top":"30upx",height:"100%"}},[e("tui-numberbox",{staticStyle:{float:"right"},attrs:{value:t.numbers,width:60,min:0},on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.change.apply(void 0,arguments)}}})],1):t._e()],1)],1)],1),e("v-uni-view",{staticClass:"commodityDetails b-f"},[e("v-uni-view",{staticClass:"f-w",staticStyle:{"padding-bottom":"30upx"}},[t._v("商品详情")]),t.storeFoodList.detail?e("v-uni-view",{staticStyle:{position:"relative"}},[e("u-parse",{attrs:{content:t.storeFoodList.detail}}),e("v-uni-view",{staticClass:"f-22",staticStyle:{color:"#999999",position:"absolute",right:"0%",bottom:"30%"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.lookAll.apply(void 0,arguments)}}},[t._v("查看全部"),e("v-uni-text",{class:t.lookAllShow?"iconfont icon-fold":"iconfont icon-unfold",staticStyle:{"font-size":"20upx"}})],1)],1):t._e()],1),e("v-uni-view",{},[e("foodComment",{attrs:{storeFoodList:t.storeFoodList}})],1),e("shoppingFixation",{attrs:{sid:t.sid,num:t.num},on:{onShows:function(i){arguments[0]=i=t.$handleEvent(i),t.onShowis.apply(void 0,arguments)}}}),e("popup-view",{attrs:{show:t.showBuyMenu,type:"center"},on:{clickmask:function(i){arguments[0]=i=t.$handleEvent(i),t.onToggleTrade.apply(void 0,arguments)}}},[e("v-uni-view",{staticStyle:{"background-color":"#FFFFFF","border-radius":"15upx"}},[e("v-uni-view",{staticClass:"footName f-28",staticStyle:{padding:"20upx 20upx 0"}},[t._v(t._s(t.storeFoodList.goodsname))]),e("v-uni-view",{staticClass:"p-top-40 f-24",staticStyle:{color:"#999999",padding:"40upx 20upx 0upx"}},[t._v("规格")]),e("v-uni-view",{staticClass:"dis-flex",staticStyle:{padding:"0 20upx 30upx","flex-wrap":"wrap"}},t._l(t.storeFoodList.specarray,function(i,n){return e("v-uni-view",{key:n,class:i.checked?"checked":"noChecked",staticStyle:{flex:"0.01",padding:"10upx 30upx",margin:"20upx 10upx 20upx 0","text-align":"center",width:"100upx","min-width":"100upx"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.checkedLabel(i)}}},[t._v(t._s(i.name))])}),1),e("v-uni-view",{staticStyle:{"background-color":"#F8F8F8",padding:"10upx 20upx"}},[e("v-uni-text",{staticClass:"f-26",staticStyle:{color:"#999999"}},[t._v("已选规格:")]),e("v-uni-text",{staticClass:"f-26"},[t._v("("+t._s(t.numberPeople.name)+")")])],1),e("v-uni-view",{staticClass:"dis-flex",staticStyle:{padding:"0 20upx"}},[e("v-uni-view",{staticStyle:{flex:"7",padding:"30upx 0"}},[e("v-uni-text",{staticClass:"f-30 f-w",staticStyle:{color:"#FF4444"}},[t._v("¥"+t._s(t.numberPeople.price))]),e("v-uni-text",{staticClass:"f-24",staticStyle:{"text-decoration":"line-through",color:"#999999","padding-left":"10upx"}},[t._v("¥"+t._s(t.numberPeople.oldprice))])],1),e("v-uni-view",{staticStyle:{flex:"3","padding-top":"30upx"}},[0==t.numberPeople.cartNum?e("v-uni-button",{staticStyle:{"font-size":"20upx"},attrs:{type:"warn",size:"mini"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.addShoping.apply(void 0,arguments)}}},[t._v("加入购物车")]):t._e(),t.numberPeople.cartNum>0?e("tui-numberbox",{attrs:{value:t.numberPeople.cartNum,width:60,min:0},on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.changes.apply(void 0,arguments)}}}):t._e()],1)],1)],1)],1),e("popup-view",{staticStyle:{"margin-bottom":"100upx"},attrs:{show:t.show,type:"bottom",bottom:"7%"},on:{clickmask:function(i){arguments[0]=i=t.$handleEvent(i),t.onShows.apply(void 0,arguments)}}},[t.shopingList?e("v-uni-view",{staticStyle:{width:"93vw","border-radius":"15upx 15upx 0 0","background-color":"#f7f7f7",padding:"30upx",height:"50vh",overflow:"auto"}},[e("v-uni-view",{staticClass:"dis-flex f-24",staticStyle:{padding:"0 30upx 30upx"}},[e("v-uni-view",{staticClass:"flex-box "},[t._v("已选商品")]),e("v-uni-view",{staticClass:"flex-box t-r",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.empty.apply(void 0,arguments)}}},[e("v-uni-text",{staticClass:"iconfont icon-delete",staticStyle:{"font-size":"24upx"}}),e("v-uni-text",[t._v("清空")])],1)],1),t._l(t.shopingList.cartinfo.goodslist,function(i,n){return t.shopingList.cartinfo.goodslist[n].num>0?e("v-uni-view",{key:n,staticClass:"b-f",staticStyle:{padding:"30upx"}},[e("v-uni-view",{staticClass:"dis-flex",staticStyle:{"justify-content":"space-between"}},[e("v-uni-view",{staticClass:"name dis-il-block f-32 f-w",staticStyle:{flex:"0.35","line-height":"40upx"}},[t._v(t._s(i.specname))]),e("v-uni-view",{staticClass:"dis-flex",staticStyle:{flex:"0.8"}},[e("v-uni-view",{staticClass:"flex-box f-20 t-r",staticStyle:{"padding-right":"20upx",color:"#999999","line-height":"40upx"}},[t._v("¥"+t._s(i.oldprice))]),e("v-uni-view",{staticClass:"flex-box f-32 f-w",staticStyle:{"padding-right":"20upx",color:"#FF4444","line-height":"40upx"}},[t._v("¥"+t._s(i.price))]),e("v-uni-view",{staticClass:"flex-box"},[e("tui-numberbox",{staticStyle:{float:"right"},attrs:{value:t.shopingList.cartinfo.goodslist[n].num,width:60,min:0},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.changeis(e,i)}}})],1)],1)],1),e("v-uni-view",{staticClass:"f-20",staticStyle:{color:"#999999"}},[e("v-uni-text",[t._v("去冰")]),e("v-uni-text",{staticStyle:{padding:"0 10upx"}},[t._v("/")])],1)],1):t._e()}),t.shopingList.cartinfo.goodslist.length>0?e("v-uni-view",{staticClass:"dis-flex b-f",staticStyle:{padding:"30upx","margin-top":"20upx"}},[e("v-uni-view",{staticClass:"f-32 f-w",staticStyle:{flex:"0.65"}},[t._v("包装费")]),e("v-uni-view",{staticClass:"f-32 f-w",staticStyle:{flex:"0.55",color:"#FF4444"}},[t._v("¥"+t._s(t.shopingList.cartinfo.deliveryprice)+".00")])],1):t._e()],2):t._e(),t.shopingList?t._e():e("v-uni-view",{staticStyle:{width:"93vw","border-radius":"15upx 15upx 0 0","background-color":"#f7f7f7",padding:"30upx","text-align":"center"}},[t._v("购物车空空如也~")])],1)],1)},a=[];e.d(i,"b",function(){return o}),e.d(i,"c",function(){return a}),e.d(i,"a",function(){return n})},"4b31":function(t,i,e){"use strict";var n=e("288e");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,e("ac6a"),e("c5f6");var o=n(e("80bf")),a=n(e("f7c1")),s=n(e("0125")),c=n(e("d35f")),u=n(e("4f6d")),l=n(e("2a77")),d={components:{PopupView:a.default,foodComment:s.default,shoppingFixation:c.default,uParse:u.default,tuiNumberbox:l.default},data:function(){return{duration:500,interval:2e3,storeData:{},showBuyMenu:!1,numberPeople:{numberPeople:1,originalPrice:"20.00",currentPrice:"10.00",checked:!0},storeFoodList:null,lookAllShow:!0,introduce:[{key:"套餐内容:",val:"5个素菜+6个荤菜+1份珍珠米饭"},{key:"掌柜描述",val:"5个素菜+6个荤菜+1份珍珠米饭+好多能吃的+小吃+卤蛋+老干妈+肥肉刺身+凉拌生肥肉"},{key:"主料",val:"火腿肠+午餐肉+亲嘴肠"},{key:"荤素",val:"肃魂"},{key:"制作方法",val:"水煮"}],num:0,sid:0,numbers:0,show:!1,shopingList:null}},onLoad:function(t){var i=this;i.storeData.id=t.id,console.log(i.storeData),uni.$on("onShows",function(t){this.onShowss()}),this.getCommodity()},onShow:function(){this.getCommodity()},methods:{changeis:function(t,i){var e=this,n=this;this.shopingList.cartinfo.goodslist.map(function(a,s){if(a.id==i.id){a.num=t.value;var c=uni.getStorageSync("agencyData");o.default._post_form("&p=citydelivery&do=addShopCart&aid=".concat(c.aid,"&goodid=").concat(i.goodid,"&specid=",0,"&addtype=").concat("plus"==t.type?1:0),{},function(o){var a=o.data;a.changenum=t.value,a.changemoney=a.changemoney*t.value,a.id=i.id,0==i.num&&(n.shopingList.cartinfo.goodslist.splice(s,1),0==n.shopingList.cartinfo.goodslist.length&&(n.show=!n.show,e.getCommodity())),e.num++},!1,function(){})}})},onShowis:function(t){this.show=!this.show,this.shopingList=t,console.log(this.shopingList)},withdraw:function(){var t=this,i=uni.getStorageSync("agencyData");o.default._post_form("&p=citydelivery&do=deteShopCart&aid=".concat(i.aid,"&sid=").concat(this.storeData.id),{},function(i){0==i.errno&&(uni.showToast({title:"移除成功",duration:2e3}),t.num++,t.shopingList=null,t.show=!1,t.getCommodity())},!1,function(){})},empty:function(){var t=this;o.default.showError("确定移除该商店及所属商品？",function(i){i.confirm&&i&&t.withdraw()},!0)},onShows:function(){this.show=!this.show},changes:function(t){var i=this;o.default._post_form("&p=citydelivery&do=addShopCart&goodid=".concat(this.storeData.id,"&specid=").concat(this.numberPeople.id,"&addtype=").concat("plus"==t.type?1:0),{},function(e){var n=e.data;i.num++,n.changenum=i.num,n.changemoney=n.changemoney*i.num,n.id=i.storeData.id,i.numberPeople.cartNum=t.value,uni.$emit("STOREPRICES",n)},!1,function(){})},change:function(t){var i=this;console.log(t,this.numbers),this.numbers=t.value;var e=uni.getStorageSync("agencyData");o.default._post_form("&p=citydelivery&do=addShopCart&aid=".concat(e.aid,"&goodid=").concat(this.storeData.id,"&specid=",0,"&addtype=").concat("plus"==t.type?1:0),{},function(t){var e=t.data;i.num++,e.changenum=i.num,e.changemoney=e.changemoney*i.num,e.id=i.storeData.id,console.log(e),uni.$emit("STOREPRICES",e)},!1,function(){})},addShop:function(){var t=this,i=uni.getStorageSync("agencyData");o.default._post_form("&p=citydelivery&do=addShopCart&aid=".concat(i.aid,"&goodid=").concat(this.storeData.id,"&specid=",0,"&addtype=",1),{},function(i){var e=i.data;t.num++,e.changenum=t.num,e.changemoney=e.changemoney*t.num,e.id=t.storeData.id,console.log(e),uni.$emit("STOREPRICES",e)},!1,function(){})},addShoping:function(){var t=this,i=uni.getStorageSync("agencyData");o.default._post_form("&p=citydelivery&do=addShopCart&aid=".concat(i.aid,"&goodid=").concat(this.storeData.id,"&specid=").concat(this.numberPeople.id,"&addtype=",1),{},function(i){var e=i.data;t.num++,e.changenum=t.num,e.changemoney=e.changemoney*t.num,e.id=t.storeData.id,console.log(e),t.numberPeople.cartNum=1,uni.$emit("STOREPRICES",e)},!1,function(){})},lookAll:function(){this.lookAllShow=!this.lookAllShow},getCommodity:function(){var t=this;o.default._post_form("&p=citydelivery&do=goodsDetail&id=".concat(this.storeData.id),{},function(i){t.setData({storeFoodList:i.data}),t.numbers=Number(i.data.num),t.sid=i.data.sid,t.storeFoodList.specarray.length>0&&(t.numberPeople=t.storeFoodList.specarray[0],t.numberPeople.checked=!0),console.log(t.storeFoodList)},!1,function(){})},popupOpen:function(t){this.showBuyMenu=!0},onToggleTrade:function(){this.showBuyMenu=!this.showBuyMenu},checkedLabel:function(t){console.log(t),this.numberPeople=t,this.storeFoodList.specarray.forEach(function(i){i.checked=!1,i.name==t.name&&(i.checked=!0)})}}};i.default=d},5854:function(t,i,e){var n=e("738e");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=e("4f06").default;o("7db0b166",n,!0,{sourceMap:!1,shadowMode:!1})},7263:function(t,i,e){"use strict";e.r(i);var n=e("4b31"),o=e.n(n);for(var a in n)"default"!==a&&function(t){e.d(i,t,function(){return n[t]})}(a);i["default"]=o.a},"738e":function(t,i,e){i=t.exports=e("2350")(!1),i.push([t.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.footName[data-v-72f3c080]{width:70vw;overflow:hidden;\n  /*超出部分隐藏*/white-space:nowrap;\n  /*不换行*/text-overflow:ellipsis;\n  /*超出部分文字以...显示*/font-weight:600}.checked[data-v-72f3c080]{background-color:#fff5f5;border:%?1?% solid #f44;border-radius:%?10?%;font-size:%?24?%;color:#f44}.noChecked[data-v-72f3c080]{background-color:#fff;border:%?1?% solid #999;border-radius:%?10?%;font-size:%?24?%}.foodImg[data-v-72f3c080]{height:45vh}.swiper[data-v-72f3c080]{height:100%}.commodityDetails[data-v-72f3c080]{padding:%?30?%;margin:%?20?% 0}',""])},"759a":function(t,i,e){"use strict";var n=e("5854"),o=e.n(n);o.a},"7bfa":function(t,i,e){i=t.exports=e("2350")(!1),i.push([t.i,"uni-page-body[data-v-72f3c080]{background-color:#f8f8f8}body.?%PAGE?%[data-v-72f3c080]{background-color:#f8f8f8}",""])},8301:function(t,i,e){"use strict";e.r(i);var n=e("9449"),o=e.n(n);for(var a in n)"default"!==a&&function(t){e.d(i,t,function(){return n[t]})}(a);i["default"]=o.a},9449:function(t,i,e){"use strict";var n=e("288e");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var o=n(e("80bf")),a=n(e("d8d4")),s={components:{tuiRate:a.default},data:function(){return{evaluateList:null}},mounted:function(){},props:{storeFoodList:{type:Object,default:null}},watch:{storeFoodList:{handler:function(t,i){console.log(t),this.getEvaluateList()},deep:!0}},methods:{lookImg:function(t,i){uni.previewImage({current:i,urls:t})},getEvaluateList:function(){var t=this;o.default._post_form("&p=Goods&do=getComment&sid=".concat(this.storeFoodList.sid,"&page=",1),{},function(i){t.setData({evaluateList:i.data}),console.log(t.evaluateList)},!1,function(){})}}};i.default=s},ba6a:function(t,i,e){var n=e("7bfa");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=e("4f06").default;o("6c1e0321",n,!0,{sourceMap:!1,shadowMode:!1})},dae3:function(t,i,e){"use strict";e.r(i);var n=e("4960"),o=e("7263");for(var a in o)"default"!==a&&function(t){e.d(i,t,function(){return o[t]})}(a);e("759a"),e("1584");var s,c=e("f0c5"),u=Object(c["a"])(o["default"],n["b"],n["c"],!1,null,"72f3c080",null,!1,n["a"],s);i["default"]=u.exports},ec06:function(t,i,e){"use strict";var n,o=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"foodComment b-f",staticStyle:{padding:"30upx","padding-bottom":"100upx"}},[e("v-uni-view",{},[e("v-uni-view",{staticClass:"header dis-flex"},[e("v-uni-view",{staticClass:"f-w",staticStyle:{flex:"0.3"}},[t._v("外卖评价")]),e("v-uni-view",{staticStyle:{flex:"0.5"}}),e("v-uni-view",{staticClass:"f-24",staticStyle:{flex:"0.2",color:"#999999","text-align":"right"}},[t._v(t._s(t.evaluateList.totalnum)+"条评论"),e("v-uni-text",{staticClass:"iconfont icon-right",staticStyle:{"font-size":"22upx"}})],1)],1),t._l(t.evaluateList.commentinfo,function(i,n){return e("v-uni-view",{key:n,staticClass:"content p-top-bom-20",staticStyle:{"border-bottom":"1upx solid #f1f1f1"}},[e("v-uni-view",{staticClass:"dis-flex"},[e("v-uni-view",{staticStyle:{flex:"0.15"}},[e("v-uni-image",{staticStyle:{width:"100upx",height:"100upx","border-radius":"50%"},attrs:{src:i.headimg,mode:"aspectFill"}})],1),e("v-uni-view",{staticStyle:{flex:"0.6",padding:"20upx 10upx"}},[e("v-uni-view",{staticClass:"f-28"},[t._v(t._s(i.nickname))]),e("v-uni-view",{staticClass:"f-24",staticStyle:{color:"#999999"}},[t._v(t._s(i.createtime))])],1),e("v-uni-view",{staticStyle:{flex:"0.25",padding:"4% 0"}},[e("tui-rate",{attrs:{current:i.star,disabled:!0,score:1,active:"#F5D145"}})],1)],1),e("v-uni-view",{staticClass:"evaluate"},[e("v-uni-view",{staticClass:"f-24",staticStyle:{padding:"20upx 0"}},[t._v(t._s(i.text))]),e("v-uni-view",{staticClass:"dis-flex",staticStyle:{"flex-wrap":"wrap"}},t._l(i.pic,function(n,o){return e("v-uni-view",{key:o,staticStyle:{flex:"1","padding-right":"10upx",width:"31%","min-width":"31%","max-width":"31%"}},[e("v-uni-image",{staticStyle:{width:"100%",height:"200upx","border-radius":"15upx"},attrs:{src:n,mode:"aspectFill"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.lookImg(i.pic,o)}}})],1)}),1),i.replytextone||i.replypicone[0]?e("v-uni-view",{staticClass:"f-24",staticStyle:{padding:"20upx 0"}},[e("v-uni-view",{},[e("v-uni-text",{staticClass:"iconfont icon-comment",staticStyle:{color:"#999999","font-size":"24upx"}}),e("v-uni-text",{staticStyle:{color:"#999999"}},[t._v("商家回复:")]),e("v-uni-text",{staticStyle:{"padding-left":"20upx"}},[t._v(t._s(i.replytextone))])],1),e("v-uni-view",{staticClass:"dis-flex",staticStyle:{"flex-wrap":"wrap"}},t._l(i.replypicone,function(t,i){return e("v-uni-view",{key:i,staticStyle:{flex:"1","padding-right":"10upx",width:"31%","min-width":"31%","max-width":"31%"}},[e("v-uni-image",{staticStyle:{width:"100%",height:"200upx","border-radius":"15upx"},attrs:{src:t,mode:"aspectFill"}})],1)}),1)],1):t._e()],1)],1)})],2)],1)},a=[];e.d(i,"b",function(){return o}),e.d(i,"c",function(){return a}),e.d(i,"a",function(){return n})}}]);