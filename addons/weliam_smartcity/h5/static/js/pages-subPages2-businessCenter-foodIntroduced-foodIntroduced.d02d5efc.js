(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-subPages2-businessCenter-foodIntroduced-foodIntroduced"],{"0125":function(t,e,i){"use strict";i.r(e);var n=i("da7a"),o=i("8301");for(var a in o)"default"!==a&&function(t){i.d(e,t,function(){return o[t]})}(a);var s,c=i("f0c5"),u=Object(c["a"])(o["default"],n["b"],n["c"],!1,null,"576fbf42",null,!1,n["a"],s);e["default"]=u.exports},"13e1":function(t,e,i){"use strict";var n=i("8c37"),o=i.n(n);o.a},"4b31":function(t,e,i){"use strict";var n=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("ac6a"),i("c5f6");var o=n(i("80bf")),a=n(i("f7c1")),s=n(i("0125")),c=n(i("d35f")),u=n(i("4f6d")),d=n(i("2a77")),r=n(i("b844")),l={components:{PopupView:a.default,foodComment:s.default,shoppingFixation:c.default,uParse:u.default,tuiNumberbox:d.default,jumpBall:r.default},data:function(){return{duration:500,interval:2e3,storeData:{},showBuyMenu:!1,numberPeople:{numberPeople:1,originalPrice:"20.00",currentPrice:"10.00",checked:!0},storeFoodList:null,lookAllShow:!0,introduce:[{key:"套餐内容:",val:"5个素菜+6个荤菜+1份珍珠米饭"},{key:"掌柜描述",val:"5个素菜+6个荤菜+1份珍珠米饭+好多能吃的+小吃+卤蛋+老干妈+肥肉刺身+凉拌生肥肉"},{key:"主料",val:"火腿肠+午餐肉+亲嘴肠"},{key:"荤素",val:"肃魂"},{key:"制作方法",val:"水煮"}],num:0,sid:0,numbers:0,show:!1,shopingList:null,element:[]}},onLoad:function(t){var e=this;e.storeData.id=t.id,this.sid=t.id,uni.$on("onShows",function(t){this.onShowss()}),this.getCommodity()},onShow:function(){this.getCommodity()},methods:{jbMsg:function(){},changeis:function(t,e){var i=this,n=this;this.shopingList.cartinfo.goodslist.map(function(a,s){a.id==e.id&&o.default._post_form("&p=citydelivery&do=addShopCart&goodid=".concat(e.goodid,"&specid=",0,"&addtype=").concat("plus"==t.type?1:0),{},function(o){if(0===o.errno){a.num=t.value;var c=o.data;c.changenum=t.value,c.changemoney=c.changemoney*t.value,c.id=e.id,0==e.num&&(n.shopingList.cartinfo.goodslist.splice(s,1),0==n.shopingList.cartinfo.goodslist.length&&(n.show=!n.show,i.getCommodity())),i.num++}},!1,function(){})})},onShowis:function(t){this.show=!this.show,this.shopingList=t},withdraw:function(){var t=this;o.default._post_form("&p=citydelivery&do=deteShopCart&sid=".concat(this.sid),{},function(e){0==e.errno&&(uni.showToast({title:"移除成功",duration:2e3}),t.num++,t.shopingList=null,t.show=!1,t.getCommodity())},!1,function(){})},empty:function(){var t=this;o.default.showError("确定移除该商店及所属商品？",function(e){e.confirm&&e&&t.withdraw()},!0)},onShows:function(){this.show=!this.show},changes:function(t){var e=this;o.default._post_form("&p=citydelivery&do=addShopCart&goodid=".concat(this.storeData.id,"&specid=").concat(this.numberPeople.id,"&addtype=").concat("plus"==t.type?1:0),{},function(i){if(0===i.errno){var n=i.data;e.num++,n.changenum=e.num,n.changemoney=n.changemoney*e.num,n.id=e.storeData.id,e.numberPeople.cartNum=t.value,uni.$emit("STOREPRICES",n)}},!1,function(){})},change:function(t,e){var i=this,n=this;o.default._post_form("&p=citydelivery&do=addShopCart&goodid=".concat(this.storeData.id,"&specid=",0,"&addtype=").concat("plus"==t.type?1:0),{},function(o){if(0===o.errno){i.numbers=t.value;var a=o.data;i.num++,a.changenum=i.num,a.changemoney=a.changemoney*i.num,a.id=i.storeData.id,setTimeout(function(){var i=uni.createSelectorQuery().in(n).select("#"+e);i.fields({size:!0,rect:!0,scrollOffset:!0},function(e){n.element.push(e),e;var i=uni.createSelectorQuery().in(n).select(".cart");i.fields({size:!0,rect:!0,scrollOffset:!0},function(e){n.element.push(e),e,"plus"==t.type&&n.$refs.jumpBall.$emit("childMethod",n.element)}).exec()}).exec()},100),uni.$emit("STOREPRICES",a)}},!1,function(){})},addShop:function(){var t=this;o.default._post_form("&p=citydelivery&do=addShopCart&goodid=".concat(this.storeData.id,"&specid=",0,"&addtype=",1),{},function(e){if(0===e.errno){var i=e.data;t.num++,i.changenum=t.num,i.changemoney=i.changemoney*t.num,i.id=t.storeData.id,uni.$emit("STOREPRICES",i)}},!1,function(){})},addShoping:function(){var t=this;o.default._post_form("&p=citydelivery&do=addShopCart&goodid=".concat(this.storeData.id,"&specid=").concat(this.numberPeople.id,"&addtype=",1),{},function(e){if(0===e.errno){var i=e.data;t.num++,i.changenum=t.num,i.changemoney=i.changemoney*t.num,i.id=t.storeData.id,t.numberPeople.cartNum=1,uni.$emit("STOREPRICES",i)}},!1,function(){})},lookAll:function(){this.lookAllShow=!this.lookAllShow},getCommodity:function(){var t=this;o.default._post_form("&p=citydelivery&do=goodsDetail&id=".concat(this.storeData.id),{},function(e){t.setData({storeFoodList:e.data}),t.numbers=Number(e.data.num),t.sid=e.data.sid,t.storeFoodList.specarray.length>0&&(t.numberPeople=t.storeFoodList.specarray[0],t.numberPeople.checked=!0)},!1,function(){})},popupOpen:function(t){this.showBuyMenu=!0},onToggleTrade:function(){this.showBuyMenu=!this.showBuyMenu},checkedLabel:function(t){this.numberPeople=t,this.storeFoodList.specarray.forEach(function(e){e.checked=!1,e.name==t.name&&(e.checked=!0)})}}};e.default=l},5966:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.footName[data-v-69f0839c]{width:70vw;overflow:hidden;\n  /*超出部分隐藏*/white-space:nowrap;\n  /*不换行*/text-overflow:ellipsis;\n  /*超出部分文字以...显示*/font-weight:600}.foot[data-v-69f0839c]{position:fixed;bottom:%?60?%;height:%?90?%;left:%?10?%;width:100%}.foot .cart[data-v-69f0839c]{width:%?180?%;height:%?90?%;line-height:%?90?%;text-align:center}.checked[data-v-69f0839c]{background-color:#fff5f5;border:%?1?% solid #f44;border-radius:%?10?%;font-size:%?24?%;color:#f44}.noChecked[data-v-69f0839c]{background-color:#fff;border:%?1?% solid #999;border-radius:%?10?%;font-size:%?24?%}.foodImg[data-v-69f0839c]{height:45vh}.swiper[data-v-69f0839c]{height:100%}.commodityDetails[data-v-69f0839c]{padding:%?30?%;margin:%?20?% 0}',""])},7263:function(t,e,i){"use strict";i.r(e);var n=i("4b31"),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);e["default"]=o.a},8301:function(t,e,i){"use strict";i.r(e);var n=i("9449"),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);e["default"]=o.a},"8c37":function(t,e,i){var n=i("5966");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f06").default;o("6b613c7e",n,!0,{sourceMap:!1,shadowMode:!1})},"8f30":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,"uni-page-body[data-v-69f0839c]{background-color:#f8f8f8}body.?%PAGE?%[data-v-69f0839c]{background-color:#f8f8f8}",""])},9449:function(t,e,i){"use strict";var n=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("80bf")),a=n(i("d8d4")),s={components:{tuiRate:a.default},data:function(){return{evaluateList:null}},mounted:function(){},props:{storeFoodList:{type:Object,default:null}},watch:{storeFoodList:{handler:function(t,e){console.log(t),this.getEvaluateList()},deep:!0}},methods:{lookImg:function(t,e){uni.previewImage({current:e,urls:t})},getEvaluateList:function(){var t=this;o.default._post_form("&p=Goods&do=getComment&sid=".concat(this.storeFoodList.sid,"&page=",1),{},function(e){t.setData({evaluateList:e.data}),console.log(t.evaluateList)},!1,function(){})}}};e.default=s},"9a6e":function(t,e,i){"use strict";var n=i("a958"),o=i.n(n);o.a},a958:function(t,e,i){var n=i("8f30");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f06").default;o("3d0a5b66",n,!0,{sourceMap:!1,shadowMode:!1})},da7a:function(t,e,i){"use strict";var n,o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"foodComment b-f",staticStyle:{padding:"30upx","padding-bottom":"100upx"}},[i("v-uni-view",{},[i("v-uni-view",{staticClass:"header dis-flex"},[i("v-uni-view",{staticClass:"f-w",staticStyle:{flex:"0.3"}},[t._v("外卖评价")]),i("v-uni-view",{staticStyle:{flex:"0.5"}}),t._e()],1),t._l(t.evaluateList.commentinfo,function(e,n){return i("v-uni-view",{key:n,staticClass:"content p-top-bom-20",staticStyle:{"border-bottom":"1upx solid #f1f1f1"}},[i("v-uni-view",{staticClass:"dis-flex"},[i("v-uni-view",{staticStyle:{flex:"0.15"}},[i("v-uni-image",{staticStyle:{width:"100upx",height:"100upx","border-radius":"50%"},attrs:{src:e.headimg,mode:"aspectFill"}})],1),i("v-uni-view",{staticStyle:{flex:"0.6",padding:"20upx 10upx"}},[i("v-uni-view",{staticClass:"f-28"},[t._v(t._s(e.nickname))]),i("v-uni-view",{staticClass:"f-24",staticStyle:{color:"#999999"}},[t._v(t._s(e.createtime))])],1),i("v-uni-view",{staticStyle:{flex:"0.25",padding:"4% 0"}},[i("tui-rate",{attrs:{current:e.star,disabled:!0,score:1,active:"#F5D145"}})],1)],1),i("v-uni-view",{staticClass:"evaluate"},[i("v-uni-view",{staticClass:"f-24",staticStyle:{padding:"20upx 0"}},[t._v(t._s(e.text))]),i("v-uni-view",{staticClass:"dis-flex",staticStyle:{"flex-wrap":"wrap"}},t._l(e.pic,function(n,o){return i("v-uni-view",{key:o,staticStyle:{flex:"1","padding-right":"10upx",width:"31%","min-width":"31%","max-width":"31%"}},[i("v-uni-image",{staticStyle:{width:"100%",height:"200upx","border-radius":"15upx"},attrs:{src:n,mode:"aspectFill"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.lookImg(e.pic,o)}}})],1)}),1),e.replytextone||e.replypicone[0]?i("v-uni-view",{staticClass:"f-24",staticStyle:{padding:"20upx 0"}},[i("v-uni-view",{},[i("v-uni-text",{staticClass:"iconfont icon-comment",staticStyle:{color:"#999999","font-size":"24upx"}}),i("v-uni-text",{staticStyle:{color:"#999999"}},[t._v("商家回复:")]),i("v-uni-text",{staticStyle:{"padding-left":"20upx"}},[t._v(t._s(e.replytextone))])],1),i("v-uni-view",{staticClass:"dis-flex",staticStyle:{"flex-wrap":"wrap"}},t._l(e.replypicone,function(t,e){return i("v-uni-view",{key:e,staticStyle:{flex:"1","padding-right":"10upx",width:"31%","min-width":"31%","max-width":"31%"}},[i("v-uni-image",{staticStyle:{width:"100%",height:"200upx","border-radius":"15upx"},attrs:{src:t,mode:"aspectFill"}})],1)}),1)],1):t._e()],1)],1)})],2)],1)},a=[];i.d(e,"b",function(){return o}),i.d(e,"c",function(){return a}),i.d(e,"a",function(){return n})},dae3:function(t,e,i){"use strict";i.r(e);var n=i("f91d"),o=i("7263");for(var a in o)"default"!==a&&function(t){i.d(e,t,function(){return o[t]})}(a);i("13e1"),i("9a6e");var s,c=i("f0c5"),u=Object(c["a"])(o["default"],n["b"],n["c"],!1,null,"69f0839c",null,!1,n["a"],s);e["default"]=u.exports},f91d:function(t,e,i){"use strict";var n,o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"foodIntroduced"},[i("v-uni-view",{staticClass:"foodImg"},[i("v-uni-swiper",{staticClass:"swiper",attrs:{"indicator-dots":!0,autoplay:!0,interval:t.interval,duration:t.duration}},t._l(t.storeFoodList.thumbs,function(t,e){return i("v-uni-swiper-item",{key:e},[i("v-uni-image",{staticStyle:{width:"100%",height:"45vh"},attrs:{src:t,mode:"aspectFill"}})],1)}),1)],1),i("v-uni-view",{staticClass:"foodName b-f",staticStyle:{padding:"30upx"}},[i("v-uni-view",{staticClass:"nameText",staticStyle:{"padding-bottom":"20upx"}},[t._v(t._s(t.storeFoodList.goodsname))]),i("v-uni-view",{staticClass:"dis-flex"},[i("v-uni-view",{staticStyle:{flex:"3"}},[i("v-uni-view",{staticStyle:{"padding-bottom":"20upx"}},[i("v-uni-text",{staticClass:"f-20 c-ff4444"},[t._v("¥")]),i("v-uni-text",{staticClass:"f-36 c-ff4444 f-w"},[t._v(t._s(t.storeFoodList.price))]),Number(t.storeFoodList.oldprice)>0?i("v-uni-text",{staticClass:"f-22",staticStyle:{"text-decoration":"line-through",color:"#999999","padding-left":"10upx"}},[t._v("¥"+t._s(t.storeFoodList.oldprice))]):t._e()],1),i("v-uni-view",{staticClass:"f-22",staticStyle:{color:"#999999"}},[i("v-uni-text",[t._v("已售"+t._s(t.storeFoodList.salenum))])],1)],1),i("v-uni-view",{staticStyle:{flex:"1"}},[t.storeFoodList.specarray.length>0?i("v-uni-view",{staticStyle:{padding:"10upx 20upx","border-radius":"10upx","background-color":"#FF4444",color:"#FFFFFF","font-size":"24upx","text-align":"center"},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.popupOpen(t.titem)}}},[t._v("选规格")]):t._e(),0==t.storeFoodList.specarray.length?i("v-uni-view",{staticStyle:{flex:"3","padding-top":"30upx",height:"100%"}},[i("jumpBall",{ref:"jumpBall",on:{msg:function(e){arguments[0]=e=t.$handleEvent(e),t.jbMsg.apply(void 0,arguments)}}}),i("tui-numberbox",{staticStyle:{float:"right"},attrs:{value:t.numbers,id:"goshop",width:60,min:0},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.change(e,"goshop")}}})],1):t._e()],1)],1)],1),i("v-uni-view",{staticClass:"commodityDetails b-f"},[i("v-uni-view",{staticClass:"f-w",staticStyle:{"padding-bottom":"30upx"}},[t._v("商品详情")]),t.storeFoodList.detail?i("v-uni-view",{staticStyle:{position:"relative"}},[i("u-parse",{attrs:{content:t.storeFoodList.detail}}),t._e()],1):t._e()],1),i("v-uni-view",{},[i("foodComment",{attrs:{storeFoodList:t.storeFoodList}})],1),i("shoppingFixation",{attrs:{sid:t.sid,num:t.num},on:{onShows:function(e){arguments[0]=e=t.$handleEvent(e),t.onShowis.apply(void 0,arguments)}}}),i("popup-view",{attrs:{show:t.showBuyMenu,type:"center"},on:{clickmask:function(e){arguments[0]=e=t.$handleEvent(e),t.onToggleTrade.apply(void 0,arguments)}}},[i("v-uni-view",{staticStyle:{"background-color":"#FFFFFF","border-radius":"15upx"}},[i("v-uni-view",{staticClass:"footName f-28",staticStyle:{padding:"20upx 20upx 0"}},[t._v(t._s(t.storeFoodList.goodsname))]),i("v-uni-view",{staticClass:"p-top-40 f-24",staticStyle:{color:"#999999",padding:"40upx 20upx 0upx"}},[t._v("规格")]),i("v-uni-view",{staticClass:"dis-flex",staticStyle:{padding:"0 20upx 30upx","flex-wrap":"wrap"}},t._l(t.storeFoodList.specarray,function(e,n){return i("v-uni-view",{key:n,class:e.checked?"checked":"noChecked",staticStyle:{flex:"0.01",padding:"10upx 30upx",margin:"20upx 10upx 20upx 0","text-align":"center",width:"100upx","min-width":"100upx"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.checkedLabel(e)}}},[t._v(t._s(e.name))])}),1),i("v-uni-view",{staticStyle:{"background-color":"#F8F8F8",padding:"10upx 20upx"}},[i("v-uni-text",{staticClass:"f-26",staticStyle:{color:"#999999"}},[t._v("已选规格:")]),i("v-uni-text",{staticClass:"f-26"},[t._v("("+t._s(t.numberPeople.name)+")")])],1),i("v-uni-view",{staticClass:"dis-flex",staticStyle:{padding:"0 20upx"}},[i("v-uni-view",{staticStyle:{flex:"7",padding:"30upx 0"}},[i("v-uni-text",{staticClass:"f-30 f-w",staticStyle:{color:"#FF4444"}},[t._v("¥"+t._s(t.numberPeople.price))]),i("v-uni-text",{staticClass:"f-24",staticStyle:{"text-decoration":"line-through",color:"#999999","padding-left":"10upx"}},[t._v("¥"+t._s(t.numberPeople.oldprice))])],1),i("v-uni-view",{staticStyle:{flex:"3","padding-top":"30upx"}},[0==t.numberPeople.cartNum?i("v-uni-button",{staticStyle:{"font-size":"20upx"},attrs:{type:"warn",size:"mini"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.addShoping.apply(void 0,arguments)}}},[t._v("加入购物车")]):t._e(),t.numberPeople.cartNum>0?i("tui-numberbox",{attrs:{value:t.numberPeople.cartNum,width:60,min:0},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.changes.apply(void 0,arguments)}}}):t._e()],1)],1)],1)],1),i("popup-view",{staticStyle:{"margin-bottom":"100upx"},attrs:{show:t.show,type:"bottom",bottom:"7%"},on:{clickmask:function(e){arguments[0]=e=t.$handleEvent(e),t.onShows.apply(void 0,arguments)}}},[t.shopingList?i("v-uni-view",{staticStyle:{width:"93vw","border-radius":"15upx 15upx 0 0","background-color":"#f7f7f7",padding:"30upx",height:"50vh",overflow:"auto"}},[i("v-uni-view",{staticClass:"dis-flex f-24",staticStyle:{padding:"0 30upx 30upx"}},[i("v-uni-view",{staticClass:"flex-box "},[t._v("已选商品")]),i("v-uni-view",{staticClass:"flex-box t-r",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.empty.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"iconfont icon-delete",staticStyle:{"font-size":"24upx"}}),i("v-uni-text",[t._v("清空")])],1)],1),t._l(t.shopingList.cartinfo.goodslist,function(e,n){return t.shopingList.cartinfo.goodslist[n].num>0?i("v-uni-view",{key:n,staticClass:"b-f",staticStyle:{padding:"30upx"}},[i("v-uni-view",{staticClass:"dis-flex",staticStyle:{"justify-content":"space-between"}},[i("v-uni-view",{staticClass:"name dis-il-block f-28 f-w",staticStyle:{flex:"0.35","line-height":"40upx"}},[t._v(t._s(e.name))]),i("v-uni-view",{staticClass:"dis-flex",staticStyle:{flex:"0.8"}},[i("v-uni-view",{staticClass:"flex-box f-20 t-r",staticStyle:{"padding-right":"20upx",color:"#999999","line-height":"40upx"}},[t._v("¥"+t._s(e.oldprice))]),i("v-uni-view",{staticClass:"flex-box f-32 f-w",staticStyle:{"padding-right":"20upx",color:"#FF4444","line-height":"40upx"}},[t._v("¥"+t._s(e.price))]),i("v-uni-view",{staticClass:"flex-box"},[i("tui-numberbox",{staticStyle:{float:"right"},attrs:{value:t.shopingList.cartinfo.goodslist[n].num,width:60,min:0},on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.changeis(i,e)}}})],1)],1)],1),i("v-uni-view",{staticClass:"f-20",staticStyle:{color:"#999999"}},[i("v-uni-text",[t._v(t._s(e.specname))])],1)],1):t._e()}),t.shopingList.cartinfo.goodslist.length>0?i("v-uni-view",{staticClass:"dis-flex b-f",staticStyle:{padding:"30upx","margin-top":"20upx"}},[i("v-uni-view",{staticClass:"f-32 f-w",staticStyle:{flex:"0.65"}},[t._v("包装费")]),i("v-uni-view",{staticClass:"f-32 f-w",staticStyle:{flex:"0.55",color:"#FF4444"}},[t._v("¥"+t._s(t.shopingList.cartinfo.deliveryprice)+".00")])],1):t._e()],2):t._e(),t.shopingList?t._e():i("v-uni-view",{staticStyle:{width:"93vw","border-radius":"15upx 15upx 0 0","background-color":"#f7f7f7",padding:"30upx","text-align":"center"}},[t._v("购物车空空如也~")])],1),i("v-uni-view",{staticClass:"foot"},[i("v-uni-view",{staticClass:"cart"})],1)],1)},a=[];i.d(e,"b",function(){return o}),i.d(e,"c",function(){return a}),i.d(e,"a",function(){return n})}}]);