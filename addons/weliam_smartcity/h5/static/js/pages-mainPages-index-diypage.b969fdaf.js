(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mainPages-index-diypage"],{"0776":function(a,t,e){"use strict";var i=e("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d=i(e("a4bb"));e("ac6a");var n=i(e("5176")),o=i(e("3099")),s=i(e("9976")),r=i(e("14f2")),p=i(e("dc1e")),l=i(e("27e4")),c=i(e("65c3")),g=i(e("9e9f")),u=uni.createInnerAudioContext(),f={data:function(){return{loadlogo:!1,swiperI:1,loading:!1,loadAgain:!1,datas:{basic:[],adv:"",page:{}},play_Audio:!1,diypagesData:[],richtext:{imageProp:{mode:"widthFix"}},pageInfo:{},btngroup:{backgroundColor:"#ffffff",btnBordeRadius:"",displayMode:"",eachLineNum:"",eachPageNum:"",list:[],indicatorDots:!0,duration:300,btngroupHandleData:[],swiperHeight:""},pageType:null,pageId:null,bottomMenu:null,bannerDataList:[],shareData:{}}},components:{Loadlogo:s.default,diypages:r.default,Advert:p.default,TabBars:l.default,wxParse:c.default},computed:{},onLoad:function(a){var t=uni.getStorageSync("agencyData"),e=o.default.getClientType(),i=o.default.getBrowser(),d=this,n=a.id,s=a.type;if("chrome53.0"===i)return d.loadlogo=!0,uni.showModal({content:"微信浏览器版本过低,请使用系统浏览器",showCancel:!1}),!1;if("1"===e||"3"===e)if(t){var r={latitude:t.lat,longitude:t.lng};d.getPagesData(r,s,n,t.aid)}else jWeixin.ready(function(){jWeixin.getLocation({type:"gcj02",success:function(a){o.default.getAreaId(a,"",function(t){uni.setStorageSync("agencyData",t.data),d.getPagesData(a,s,n,t.data.aid)})}})});else d.getPagesData("",s,n),d.setmpShare(s,n);d.setData({pageType:s,pageId:n})},onShow:function(){},mounted:function(){},methods:{setShareData:function(a){var t=o.default.getClientType(),e=uni.getStorageSync("userinfo"),i=a.share_title,d=a.share_description,n=a.share_image,s=location.href,r=uni.getStorageSync("currentRegion"),p=r.title||"",l=r?r.ad_info.adcode:"",c=-1===s.indexOf("?")?s+"?head_id="+e.mid:s+"&head_id="+e.mid+"&cityname="+p+"&cityid="+l,u=encodeURIComponent(c);"1"===t&&jWeixin.ready(function(){g.default.wxShare({title:i,desc:d,link:"".concat(o.default.siteInfo.siteroot,"/app/index.php?i=").concat(o.default.siteInfo.uniacid,"&c=entry&m=weliam_smartcity&do=returnRequest&link=").concat(u,"&head_id=").concat(e.mid),imgUrl:n})})},getPagesData:function(a){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1",e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:232,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",s=this,r={aid:i,type:t,lat:a.latitude||"",lng:a.longitude||""};"1"===t&&(0,n.default)(r,{page_id:e}),o.default._post_form("&do=HomePage",r,function(a){if(0===a.errno){s.datas.adv=a.data.adv&&0!==a.data.adv.length?a.data.adv:"",s.datas.page=a.data.page?a.data.page:"",s.bottomMenu=a.data.menu,s.pageInfo=a.data.page,"1"===t&&uni.setNavigationBarTitle({title:null==s.datas.page.title?"暂无标题":s.datas.page.title}),a.data.page.music&&(u.src=a.data.page.music);var e=a.data.item,i=[];for(var n in e)i.push(e[n]);for(var o in s.diypagesData=i,s.diypagesData){if("menu"==s.diypagesData[o].id){s.diypagesData[o].btngroupData={};var r={list:[],indicatorDots:!0,duration:300,btngroupHandleData:[],swiperHeight:""};for(var p in r.backgroundColor=s.diypagesData[o].style.background,r.btnBordeRadius=s.diypagesData[o].style.navstyle,r.displayMode=s.diypagesData[o].style.showtype,r.eachLineNum=s.diypagesData[o].style.rownum,r.eachPageNum=s.diypagesData[o].style.pagenum,s.diypagesData[o].data)r.list.push(s.diypagesData[o].data[p]);0==s.diypagesData[o].style.showdot?r.indicatorDots=!1:r.indicatorDots=!0;var l="";if(l=r.list.length>r.eachPageNum?r.eachPageNum:r.list.length,r.swiperHeight=87*Math.ceil(l/r.eachLineNum)+15,r.list&&r.list.length>0)for(var c=Math.ceil(r.list.length/r.eachPageNum),g=0;g<c;g++){for(var f=[],h=g*r.eachPageNum,y=h;y<r.eachPageNum*(g+1)&&y<r.list.length;y++)f.push(r.list[y]);r.btngroupHandleData.push(f)}s.diypagesData[o].btngroupData=r}if("picturew4"==s.diypagesData[o].id){var v=[];for(var x in s.diypagesData[o].data)v.push(s.diypagesData[o].data[x]);s.diypagesData[o].data=v}if("picturew5"==s.diypagesData[o].id){var b=[];for(var m in s.diypagesData[o].data)b.push(s.diypagesData[o].data[m]);s.diypagesData[o].data=b}if("pictures"==s.diypagesData[o].id){var w=[];for(var D in s.diypagesData[o].data)w.push(s.diypagesData[o].data[D]);s.diypagesData[o].data=w}if("shop"==s.diypagesData[o].id){var k=[];for(var _ in s.diypagesData[o].data){var P=[];for(var j in s.diypagesData[o].data[_].goods)""!==s.diypagesData[o].data[_].goods[j]&&("active"==j?(s.diypagesData[o].data[_].goods[j].css="qiang",s.diypagesData[o].data[_].goods[j].tag="抢"):"coupon"==j?(s.diypagesData[o].data[_].goods[j].css="hui",s.diypagesData[o].data[_].goods[j].tag="券"):"fightgroup"==j?(s.diypagesData[o].data[_].goods[j].css="pin",s.diypagesData[o].data[_].goods[j].tag="拼"):"groupon"==j?(s.diypagesData[o].data[_].goods[j].css="tuan",s.diypagesData[o].data[_].goods[j].tag="团"):"halfcard"==j?(s.diypagesData[o].data[_].goods[j].css="ka",s.diypagesData[o].data[_].goods[j].tag="卡"):"packages"==j&&(s.diypagesData[o].data[_].goods[j].css="li",s.diypagesData[o].data[_].goods[j].tag="礼"),P.push(s.diypagesData[o].data[_].goods[j]));s.diypagesData[o].data[_].goods=P,k.push(s.diypagesData[o].data[_])}s.diypagesData[o].shopArr=k}"banner"===s.diypagesData[o].id&&function(){var a=s.diypagesData[o].data,t=[],e=[];(0,d.default)(a).forEach(function(i){a[i].imgHeight=0,t.push(a[i]),e.push(t)}),s.bannerDataList=e}()}s.datas.basic=s.diypagesData}},!1,function(){s.loadAgain=!0,s.loadlogo=!0})},playAudio:function(){var a=this,t=!a.play_Audio;a.pageInfo.music;t&&(u.play(),u.onPlay(function(){console.log("开始播放")})),t||(u.pause(),u.onPause(function(){console.log("暂停播放")})),a.play_Audio=t},setmpShare:function(a){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",e=this;o.default._post_form("&do=Shareinfo",{type:a,id:t},function(a){e.shareData=a.data})}},onPullDownRefresh:function(){uni.stopPullDownRefresh()},onReachBottom:function(){var a=this;a.loading=!0,setTimeout(function(){a.loading=!1},4e3)},onShareAppMessage:function(a){var t=this,e=t.shareData,i=uni.getStorageSync("userinfo"),d={id:t.pageId||"",type:t.pageType||""};return{title:e.title,desc:e.desc?e.desc:"",imageUrl:e.img,path:"pages/mainPages/index/diypage?head_id="+i.mid+"&"+o.default.urlEncode(d)}}};t.default=f},"2ca4":function(a,t,e){var i=e("bd77");"string"===typeof i&&(i=[[a.i,i,""]]),i.locals&&(a.exports=i.locals);var d=e("4f06").default;d("e2d7b5b0",i,!0,{sourceMap:!1,shadowMode:!1})},5435:function(a,t,e){"use strict";var i=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-uni-view",{staticClass:"container"},[a.loadlogo?a._e():e("loadlogo"),a.loadlogo?e("v-uni-view",{staticClass:"page-index",class:a.bottomMenu?"bottomPadding":"",style:"background-color: "+a.datas.page.background},[a.datas.adv?e("Advert",{staticClass:"advert",attrs:{advertData:a.datas.adv}}):a._e(),e("diypages",{attrs:{diypagesData:a.diypagesData,pageData:a.datas.page,btngroupData:a.btngroup,bannerDataList:a.bannerDataList}}),e("v-uni-view",{staticClass:"page-footer"},[e("TabBars",{attrs:{tabBarAct:0,TabBarsData:a.datas.page.menu,TabBarsType:a.datas.page.type,pageType:a.pageType}})],1),a.pageInfo.music?e("v-uni-view",{staticClass:"audio-main",on:{click:function(t){t=a.$handleEvent(t),a.playAudio(t)}}},[e("v-uni-view",{staticClass:"audio-bg",class:{"stop-audio":!a.play_Audio}},[e("v-uni-view",{staticClass:"audio-gif",style:{"background-image":"url("+a.imageRoot+"musicgif.gif)"}},[e("v-uni-view",{staticClass:"audio-png",style:{"background-image":"url("+a.imageRoot+"music.png)"}})],1)],1)],1):a._e()],1):a._e()],1)},d=[];e.d(t,"a",function(){return i}),e.d(t,"b",function(){return d})},"6ff0":function(a,t,e){"use strict";e.r(t);var i=e("5435"),d=e("e8bc");for(var n in d)"default"!==n&&function(a){e.d(t,a,function(){return d[a]})}(n);e("89cd");var o=e("2877"),s=Object(o["a"])(d["default"],i["a"],i["b"],!1,null,"1c16043c",null);t["default"]=s.exports},"89cd":function(a,t,e){"use strict";var i=e("2ca4"),d=e.n(i);d.a},bd77:function(a,t,e){t=a.exports=e("2350")(!1),t.push([a.i,".container[data-v-1c16043c]{background-color:#ffd93f}.page-index[data-v-1c16043c]{width:100vw;overflow:hidden;background-color:#fff;position:relative}.index-right-bar[data-v-1c16043c]{width:80px;height:80px;padding:16px;position:fixed;right:30px;bottom:60px;z-index:99}.right-bar-i[data-v-1c16043c]{width:100%;height:100%;padding:6px}.right-bar-i-t[data-v-1c16043c]{height:40px;text-align:center;margin-top:0;padding-top:6px}.right-bar-i-t .i[data-v-1c16043c]{width:44px;height:44px;display:inline-block}.right-bar-i-t .i .image[data-v-1c16043c]{width:100%;height:100%;display:block}.right-bar-i-c[data-v-1c16043c]{height:32px;line-height:32px;font-size:20px;margin-top:0}.index-h[data-v-1c16043c]{height:80px;line-height:80px;padding:10px 30px 20px 30px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;background-color:#ffd93f;position:relative}.index-h-l[data-v-1c16043c]{color:#000;font-size:36px;font-style:italic}.index-h-r-d[data-v-1c16043c]{width:180px;height:56px;line-height:56px;color:grey;font-size:28px;text-align:center;margin-top:12px;background-color:#fff0b2;border-radius:40px}.index-h-r-d .i[data-v-1c16043c]{color:#333;font-size:32px;margin-right:10px;vertical-align:-2px}@-webkit-keyframes move_wave-data-v-1c16043c{0%{-webkit-transform:translateX(0) translateZ(0) scaleY(1);transform:translateX(0) translateZ(0) scaleY(1)}to{-webkit-transform:translateX(-66.66666%) translateZ(0) scaleY(1);transform:translateX(-66.66666%) translateZ(0) scaleY(1)}}@keyframes move_wave-data-v-1c16043c{0%{-webkit-transform:translateX(0) translateZ(0) scaleY(1);transform:translateX(0) translateZ(0) scaleY(1)}to{-webkit-transform:translateX(-66.66666%) translateZ(0) scaleY(1);transform:translateX(-66.66666%) translateZ(0) scaleY(1)}}.index-wave[data-v-1c16043c]{width:100%;height:60px;position:absolute;top:-72px;left:0;overflow:hidden}.index-wave-d[data-v-1c16043c]{width:300%;height:100%;-webkit-animation:move_wave-data-v-1c16043c 4s linear infinite;animation:move_wave-data-v-1c16043c 4s linear infinite;-webkit-animation-delay:0s;animation-delay:0s;display:-webkit-flex;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start}.index-wave-i[data-v-1c16043c]{width:100%;height:100%;position:relative}.index-wave-i .image[data-v-1c16043c]{width:100%;height:100%}.index-t1[data-v-1c16043c]{margin-top:40px;padding:0 30px;display:-webkit-flex;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;position:relative;z-index:1}.index-t1-l[data-v-1c16043c]{padding-right:30px;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-flex;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-justify-content:space-around;-ms-flex-pack:distribute;justify-content:space-around}.index-t1-l-i[data-v-1c16043c]{width:140px}.index-t1-l-i-t[data-v-1c16043c]{width:100px;height:100px;padding:0 20px}.index-t1-l-i-t .image[data-v-1c16043c]{width:100px;height:100px}.index-t1-l-i-b[data-v-1c16043c]{height:42px;line-height:42px;text-align:center;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap}.index-t1-r[data-v-1c16043c]{width:140px;border-left:1.2px solid #f6f6f6}.index-t1-r .image[data-v-1c16043c]{width:110px;height:110px;margin:10px 0 0 30px}.bottomPadding[data-v-1c16043c]{padding-bottom:%?100?%}",""])},e8bc:function(a,t,e){"use strict";e.r(t);var i=e("0776"),d=e.n(i);for(var n in i)"default"!==n&&function(a){e.d(t,a,function(){return i[a]})}(n);t["default"]=d.a}}]);