(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-subPages-businesscard-formcard-formcard"],{"1db5":function(e,t,a){"use strict";a("c5f6"),a("28a5"),a("3b2b"),a("a481"),e.exports={error:"",check:function(e,t){for(var a=0;a<t.length;a++){if(!t[a].checkType)return!0;if(!t[a].name)return!0;if(!t[a].errorMsg)return!0;if(!e[t[a].name]||""==e[t[a].name])return this.error=t[a].errorMsg,!1;switch("string"==typeof e[t[a].name]&&(e[t[a].name]=e[t[a].name].replace(/\s/g,"")),t[a].checkType){case"string":var n=new RegExp("^.{"+t[a].checkRule+"}$");if(!n.test(e[t[a].name]))return this.error=t[a].errorMsg,!1;break;case"int":var i=t[a].checkRule.split(",");t.length<2?(i[0]=Number(i[0])-1,i[1]=""):(i[0]=Number(i[0])-1,i[1]=Number(i[1])-1);n=new RegExp("^(-[1-9]|[1-9])[0-9]{"+i[0]+","+i[1]+"}$");if(!n.test(e[t[a].name]))return this.error=t[a].errorMsg,!1;break;case"between":if(!this.isNumber(e[t[a].name]))return this.error=t[a].errorMsg,!1;var r=t[a].checkRule.split(",");if(r[0]=Number(r[0]),r[1]=Number(r[1]),e[t[a].name]>r[1]||e[t[a].name]<r[0])return this.error=t[a].errorMsg,!1;break;case"betweenD":n=/^-?\d+$/;if(!n.test(e[t[a].name]))return this.error=t[a].errorMsg,!1;r=t[a].checkRule.split(",");if(r[0]=Number(r[0]),r[1]=Number(r[1]),e[t[a].name]>r[1]||e[t[a].name]<r[0])return this.error=t[a].errorMsg,!1;break;case"betweenF":n=/^-?[0-9][0-9]?.+[0-9]+$/;if(!n.test(e[t[a].name]))return this.error=t[a].errorMsg,!1;r=t[a].checkRule.split(",");if(r[0]=Number(r[0]),r[1]=Number(r[1]),e[t[a].name]>r[1]||e[t[a].name]<r[0])return this.error=t[a].errorMsg,!1;break;case"same":if(e[t[a].name]!=t[a].checkRule)return this.error=t[a].errorMsg,!1;break;case"notsame":if(e[t[a].name]==t[a].checkRule)return this.error=t[a].errorMsg,!1;break;case"email":n=/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/;if(!n.test(e[t[a].name]))return this.error=t[a].errorMsg,!1;break;case"phoneno":n=/^1[0-9]{10,10}$/;if(!n.test(e[t[a].name]))return this.error=t[a].errorMsg,!1;break;case"zipcode":n=/^[0-9]{6}$/;if(!n.test(e[t[a].name]))return this.error=t[a].errorMsg,!1;break;case"reg":n=new RegExp(t[a].checkRule);if(!n.test(e[t[a].name]))return this.error=t[a].errorMsg,!1;break;case"in":if(-1==t[a].checkRule.indexOf(e[t[a].name]))return this.error=t[a].errorMsg,!1;break;case"notnull":if(null==e[t[a].name]||e[t[a].name].length<1)return this.error=t[a].errorMsg,!1;break;case"samewith":if(e[t[a].name]!=e[t[a].checkRule])return this.error=t[a].errorMsg,!1;break;case"numbers":n=new RegExp("^[0-9]{"+t[a].checkRule+"}$");if(!n.test(e[t[a].name]))return this.error=t[a].errorMsg,!1;break}}return!0},isNumber:function(e){return e=Number(e),NaN!=e}}},"3f52":function(e,t,a){"use strict";a.r(t);var n=a("7dd3"),i=a.n(n);for(var r in n)"default"!==r&&function(e){a.d(t,e,function(){return n[e]})}(r);t["default"]=i.a},4586:function(e,t,a){t=e.exports=a("2350")(!1),t.push([e.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */uni-page-body[data-v-52e864a5]{background-color:#f8f8f8}.header-Icon[data-v-52e864a5]{position:absolute;left:%?80?%;top:0;font-size:%?26?%}.header-title[data-v-52e864a5]{width:%?505?%;text-align:center;margin:%?30?% auto %?100?%}.formData-box[data-v-52e864a5]{padding:0 %?30?%}.userData-box .user-avatar[data-v-52e864a5]{position:relative;width:%?140?%;height:%?140?%;background-size:%?140?% %?140?%;background-repeat:no-repeat;border-radius:50%;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);top:%?-60?%}.user-name-inputBox[data-v-52e864a5]{padding-bottom:%?40?%;margin:0 %?30?%;border-bottom:1px solid #eee}.user-name-inputBox .user-name-input[data-v-52e864a5]{margin:0 auto;width:%?200?%;text-align:center}.user-contact-inputBox[data-v-52e864a5]{padding:%?30?% 0}.user-contact-inputBox .user-contact-input[data-v-52e864a5]{margin:0 auto;width:%?180?%;text-align:center}.enterData-content[data-v-52e864a5]{margin:0 %?30?%}.enterData-content .enterData-input-box[data-v-52e864a5]{padding:%?30?% 0}.enterData-textarea uni-textarea[data-v-52e864a5]{height:%?220?%}.location[data-v-52e864a5]{position:absolute;right:0;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.locationIconClass[data-v-52e864a5]{font-size:%?32?%}.rightIconClass[data-v-52e864a5]{font-size:%?24?%;position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);right:0}.iframe-wid-hgt[data-v-52e864a5]{width:100vw}.switchStyle[data-v-52e864a5]{height:%?60?%}.switchStyle[data-v-52e864a5] .uni-switch-input{width:%?82?%!important;height:%?40?%!important}.switchStyle[data-v-52e864a5] .uni-switch-input:before{width:%?80?%!important;height:%?36?%!important}.switchStyle[data-v-52e864a5] .uni-switch-input:after{width:%?40?%!important;height:%?36?%!important}.labeStyle:last-child .labeStyle-btm[data-v-52e864a5]{margin-bottom:0}.submit-btn[data-v-52e864a5]{background-color:#f44;margin:%?60?% 0;border-radius:%?10?%;height:%?80?%;line-height:%?80?%}body.?%PAGE?%[data-v-52e864a5]{background-color:#f8f8f8}',""])},"57af":function(e,t,a){var n=a("79c4");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("4f06").default;i("7c1761fe",n,!0,{sourceMap:!1,shadowMode:!1})},"70d6":function(e,t,a){"use strict";a.r(t);var n=a("8be0"),i=a("dfb5");for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);a("df84");var s=a("2877"),o=Object(s["a"])(i["default"],n["a"],n["b"],!1,null,"f9fde768",null);t["default"]=o.exports},"774a":function(e,t,a){var n=a("4586");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("4f06").default;i("17a072fe",n,!0,{sourceMap:!1,shadowMode:!1})},"79c4":function(e,t,a){t=e.exports=a("2350")(!1),t.push([e.i,".loadlogo-container[data-v-f9fde768]{width:100%;height:100%;background-color:#fff;position:fixed;z-index:999}.loadlogo[data-v-f9fde768]{width:80px;height:80px;\r\n\t/* margin: -60px 0 0 -60px; */position:fixed;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.loadlogo .image[data-v-f9fde768]{width:100%;height:100%}",""])},"7dd3":function(e,t,a){"use strict";var n=a("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("cebc")),r=n(a("80bf")),s=n(a("70d6")),o=a("1db5"),c={data:function(){return{loadlogo:!1,phoneHeight:null,isOpenLaction:!1,meals:[],catesList:[],typeIndex:[0,0],onelevel:"",twolevel:"",onelevelName:"",twolevelName:"",lat:"",lng:"",address:"",avatarLogo:""}},methods:{getCardPage:function(){var e=this;r.default._post_form("&p=citycard&do=createCityCardPage",{},function(t){if(0===t.errno){var a=t.data.cates;if(a){for(var n=[],i=[],r=0;r<a.length;r++)n.push(a[r]);for(var s=0;s<a[0]["childrens"]["length"];s++)i.push(a[0]["childrens"][s]);e.catesList.push(n),e.catesList.push(i)}e.setData(t.data)}},!1,function(){e.loadlogo=!0})},getLocation:function(){var e=this;e.isOpenLaction=!0},locationListener:function(){var e=this;e.SystemInfo(),window.addEventListener("message",function(t){var a=t.data;a&&"locationPicker"==a.module&&(console.log("location",a),e.address=a.poiname,e.lat=a.latlng.lat,_thislng=a.latlng.lng,e.isOpenLaction=!1)},!1)},SystemInfo:function(){uni.getSystemInfo({success:function(e){this.phoneHeight=e.windowHeight+"px"}})},radioChange:function(e){},sbformData:function(e){var t=this,a=e.detail.value;a=(0,i.default)({},a,{show_addr:a.show_addr?"1":"0",show_mobile:a.show_mobile?"1":"0",show_wechat:a.show_wechat?"1":"0",lat:t.lat,lng:t.lng,one_class:t.onelevel,two_class:t.twolevel,logo:t.avatarLogo});var n=[{name:"name",checkType:"string",checkRule:"1,4",errorMsg:"姓名应为1-4个字符"},{name:"mobile",checkType:"phoneno",errorMsg:"请输入正确手机号"},{name:"wechat",checkType:"notnull",errorMsg:"请输入微信号"},{name:"company",checkType:"notnull",errorMsg:"公司名字不能为空"},{name:"branch",checkType:"notnull",errorMsg:"部门内容不能为空"},{name:"position",checkType:"notnull",errorMsg:"职位内容不能为空"},{name:"desc",checkType:"notnull",errorMsg:"简介内容不能为空"},{name:"address",checkType:"notnull",errorMsg:"请输入地址或直接定位"},{name:"meal_id",checkType:"notnull",errorMsg:"请选择入驻套餐"},{name:"one_class",checkType:"notnull",errorMsg:"行业内容不能为空"}],s=o.check(a,n);s?(uni.showLoading(),r.default._post_form("&p=citycard&do=createCityCardApi",a,function(e){if(0===e.errno){var t=e.data;1===t.paystatus?r.default.navigationTo({url:"pages/mainPages/payment/payment?orderid=".concat(t.orderid,"&plugin=citycard")}):r.default.navigationTo({url:"pages/subPages/businesscard/carddetail/carddetail?cardid=".concat(e.data.cardid),navType:"rediRect"})}},!1,function(){uni.hideLoading()})):uni.showToast({title:o.error,icon:"none"})},checkType:function(e){var t=this,a=t.catesList;a[0][e.target.value[0]]&&(t.onelevelName=a[0][e.target.value[0]].name,t.onelevel=a[0][e.target.value[0]].id),a[1][e.target.value[1]]&&(t.twolevelName=a[1][e.target.value[1]].name,t.twolevel=a[1][e.target.value[1]].id)},changeKey:function(e){for(var t=this,a=[],n=0;n<t.catesList.length;n++)for(var i=0;i<t.catesList[n]["length"];i++)if(e.target.value==i&&0==e.target.column&&t.catesList[n][i]["childrens"]){for(var r=0;r<t.catesList[n][i]["childrens"]["length"];r++)a.push(t.catesList[n][i]["childrens"][r]);t.catesList.splice(1,2,a)}},uploadImageFiles:function(e){r.default._post_form("&do=uploadFiles",e,function(e){0===e.errno&&_this.setData({avatarLogo:e.data.img})},!1,function(){uni.hideLoading()})},upImages:function(){var e=this;wxApi.choseImage(function(t){wxApi.uoloadIg(t.localIds[0],function(t){if("uploadImage:ok"===t.errMsg){uni.showLoading({});var a={upload_type:2,id:t.serverId};e.uploadImageFiles(a)}else r.default.showError("上传失败")})})}},computed:{userInfo:function(){return uni.getStorageSync("userinfo")},avatar:function(){return this.avatarLogo?this.avatarLogo:this.imageRoot+"creatCardAvatar.png"}},components:{Loadlogo:s.default},onLoad:function(e){var t=this;t.getCardPage()}};t.default=c},8439:function(e,t,a){"use strict";a.r(t);var n=a("908b"),i=a("3f52");for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);a("92f4");var s=a("2877"),o=Object(s["a"])(i["default"],n["a"],n["b"],!1,null,"52e864a5",null);t["default"]=o.exports},"8a68":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={};t.default=n},"8be0":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",[a("v-uni-view",{staticClass:"loadlogo-container"},[a("v-uni-view",{staticClass:"loadlogo"},[a("v-uni-image",{staticClass:"image",attrs:{src:"/static/images/loadlogo.svg",mode:"aspectFill"}})],1)],1)],1)},i=[];a.d(t,"a",function(){return n}),a.d(t,"b",function(){return i})},"908b":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",[e.loadlogo?e._e():a("loadlogo"),e.loadlogo?[a("v-uni-view",{staticClass:"header p-r"},[a("v-uni-view",{staticClass:"iconfont icon-info col-f4 header-Icon"}),a("v-uni-view",{staticClass:"header-title col-9 f-24"},[e._v("完善个人名片的而用户，更容易获得商业人脉，并得到平台名片榜单推荐")])],1),a("v-uni-view",{staticClass:"formData-box"},[a("v-uni-form",{on:{submit:function(t){arguments[0]=t=e.$handleEvent(t),e.sbformData.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"userData-box bor-radius-10upx b-f"},[a("v-uni-view",{staticClass:"user-avatar",style:{"background-image":"url("+e.avatar+")"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.upImages.apply(void 0,arguments)}}}),a("v-uni-view",{staticClass:"user-name-inputBox"},[a("v-uni-view",{staticClass:"f-28 col-3 t-c m-btm20"},[e._v("真实姓名")]),a("v-uni-input",{staticClass:"user-name-input f-28 col-9",attrs:{type:"text",value:"",name:"name",placeholder:"请填写姓名"}})],1),a("v-uni-view",{staticClass:"user-contact-inputBox dis-flex flex-y-center"},[a("v-uni-view",{staticClass:"user-contact-item flex-box"},[a("v-uni-view",{staticClass:"user-contact-phone f-24 col-3 t-c m-btm20"},[e._v("手机号")]),a("v-uni-input",{staticClass:"user-contact-input f-28 col-9",attrs:{type:"number",value:"",name:"mobile",placeholder:"请填写电话"}})],1),a("v-uni-view",{staticClass:"user-contact-item flex-box"},[a("v-uni-view",{staticClass:"user-contact-wx f-24 col-3 t-c m-btm20"},[e._v("微信号")]),a("v-uni-input",{staticClass:"user-contact-input f-28 col-9",attrs:{type:"text",value:"",name:"wechat",placeholder:"请填写微信号"}})],1)],1)],1),a("v-uni-view",{staticClass:"enter-title padding-box-all f-24 col-9"},[e._v("企业信息")]),a("v-uni-view",{staticClass:"enterData-box bor-radius-10upx b-f"},[a("v-uni-view",{staticClass:"enterData-content"},[a("v-uni-view",{staticClass:"enterData-input-box dis-flex flex-y-center border-line border-bottom"},[a("v-uni-view",{staticClass:"f-28 m-right70"},[e._v("公司")]),a("v-uni-input",{staticClass:"user-contact-input f-28 col-9",attrs:{type:"text",value:"",name:"company",placeholder:"请填写公司"}})],1),a("v-uni-view",{staticClass:"enterData-input-box dis-flex flex-y-center border-line border-bottom"},[a("v-uni-view",{staticClass:"f-28 m-right70"},[e._v("部门")]),a("v-uni-input",{staticClass:"user-contact-input f-28 col-9",attrs:{type:"text",value:"",name:"branch",placeholder:"请填写部门"}})],1),a("v-uni-view",{staticClass:"enterData-input-box dis-flex flex-y-center border-line border-bottom"},[a("v-uni-view",{staticClass:"f-28 m-right70"},[e._v("职位")]),a("v-uni-input",{staticClass:"user-contact-input f-28 col-9",attrs:{type:"text",value:"",name:"position",placeholder:"请填写职位"}})],1),a("v-uni-view",{staticClass:"enterData-input-box enterData-textarea border-line border-bottom"},[a("v-uni-textarea",{staticClass:"f-28 col-9",attrs:{value:"",placeholder:"",name:"desc",placeholder:"请填写一句话介绍负责业务"}})],1),a("v-uni-view",{staticClass:"enterData-input-box dis-flex flex-y-center border-line border-bottom p-r"},[a("v-uni-view",{staticClass:"f-28 m-right70"},[e._v("地址")]),a("v-uni-input",{staticClass:"user-contact-input f-28 col-9",attrs:{type:"text",value:e.address,name:"address",placeholder:"请输入详细地址"}}),a("v-uni-view",{staticClass:"location dis-flex flex-y-center",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.getLocation.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"locationIconClass iconfont icon-location col-f4 m-right10"}),a("v-uni-view",{staticClass:"f-24 col-f4"},[e._v("定位")])],1)],1),a("v-uni-picker",{staticClass:"dataPicker",attrs:{mode:"multiSelector",range:e.catesList,"range-key":"name",value:e.typeIndex},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.checkType.apply(void 0,arguments)},columnchange:function(t){arguments[0]=t=e.$handleEvent(t),e.changeKey.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"enterData-input-box dis-flex flex-y-center p-r"},[a("v-uni-view",{staticClass:"dis-flex flex-y-center "},[a("v-uni-view",{staticClass:"f-28 m-right70"},[e._v("行业")]),a("v-uni-view",{staticClass:"f-28 col-3"},[e._v(e._s(e.onelevelName)+" "+e._s(e.twolevelName))])],1),a("v-uni-view",{staticClass:"iconfont icon-right rightIconClass col-9"})],1)],1)],1)],1),a("v-uni-view",{staticClass:"enter-title padding-box-all f-24 col-9"},[e._v("隐私设置")]),a("v-uni-view",{staticClass:"enterData-box bor-radius-10upx b-f"},[a("v-uni-view",{staticClass:"enterData-content"},[a("v-uni-view",{staticClass:"enterData-input-box dis-flex flex-y-center flex-x-between border-line border-bottom"},[a("v-uni-view",{staticClass:"f-28 m-right70"},[e._v("公开手机号")]),a("v-uni-view",{staticClass:"dis-flex flex-y-center"},[a("v-uni-view",{staticClass:"col-9 f-24 m-right30"},[e._v("在名片中显示手机号")]),a("v-uni-switch",{staticClass:"switchStyle",attrs:{name:"show_mobile",color:"#FF4444"}})],1)],1),a("v-uni-view",{staticClass:"enterData-input-box dis-flex flex-y-center flex-x-between border-line border-bottom"},[a("v-uni-view",{staticClass:"f-28 m-right70"},[e._v("公开微信号")]),a("v-uni-view",{staticClass:"dis-flex flex-y-center"},[a("v-uni-view",{staticClass:"col-9 f-24 m-right30"},[e._v("在名片中显示微信号")]),a("v-uni-switch",{staticClass:"switchStyle",attrs:{name:"show_wechat",color:"#FF4444"}})],1)],1),a("v-uni-view",{staticClass:"enterData-input-box dis-flex flex-y-center flex-x-between border-line border-bottom"},[a("v-uni-view",{staticClass:"f-28 m-right70"},[e._v("公开位置信息")]),a("v-uni-view",{staticClass:"dis-flex flex-y-center"},[a("v-uni-view",{staticClass:"col-9 f-24 m-right30"},[e._v("在您的名片中公开显示")]),a("v-uni-switch",{staticClass:"switchStyle",attrs:{name:"show_addr",color:"#FF4444"}})],1)],1)],1)],1),a("v-uni-view",{staticClass:"enter-title padding-box-all f-24 col-9"},[e._v("付费入驻")]),a("v-uni-view",{staticClass:"enterData-box bor-radius-10upx b-f padding-box-all"},[a("v-uni-radio-group",{attrs:{name:"meal_id"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.radioChange.apply(void 0,arguments)}}},e._l(e.meals,function(t,n){return a("v-uni-label",{key:n,staticClass:"labeStyle"},[a("v-uni-view",{staticClass:"dis-flex flex-y-center m-btm40 labeStyle-btm"},[a("v-uni-view",{staticClass:"m-right20"},[a("v-uni-radio",{staticStyle:{transform:"scale(0.8)"},attrs:{value:t.id,color:"#FF4444"}})],1),a("v-uni-view",{staticClass:"f-28 col-3"},[e._v(e._s(t.name)+"有效期"+e._s(t.day)+"天(收费¥"+e._s(t.price)+")")])],1)],1)}),1)],1),a("v-uni-button",{staticClass:"submit-btn f-28 t-c col-f",attrs:{"form-type":"submit"}},[e._v("保存")])],1)],1)]:e._e()],2)},i=[];a.d(t,"a",function(){return n}),a.d(t,"b",function(){return i})},"92f4":function(e,t,a){"use strict";var n=a("774a"),i=a.n(n);i.a},df84:function(e,t,a){"use strict";var n=a("57af"),i=a.n(n);i.a},dfb5:function(e,t,a){"use strict";a.r(t);var n=a("8a68"),i=a.n(n);for(var r in n)"default"!==r&&function(e){a.d(t,e,function(){return n[e]})}(r);t["default"]=i.a}}]);