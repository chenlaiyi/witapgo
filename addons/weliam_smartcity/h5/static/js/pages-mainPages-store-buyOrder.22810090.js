(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mainPages-store-buyOrder"],{"009e":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".loadlogo-container[data-v-4811e7a3]{width:100%;height:100%;background-color:#fff;position:fixed;z-index:999}.loadlogo[data-v-4811e7a3]{width:80px;height:80px;\r\n\t/* margin: -60px 0 0 -60px; */position:fixed;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.loadlogo .image[data-v-4811e7a3]{width:100%;height:100%}",""])},"02d8":function(t,e,i){"use strict";i.r(e);var o=i("ea6e"),n=i.n(o);for(var a in o)"default"!==a&&function(t){i.d(e,t,function(){return o[t]})}(a);e["default"]=n.a},"0688":function(t,e,i){"use strict";var o=i("637b"),n=i.n(o);n.a},"0ad9":function(t,e,i){var o=i("a412");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var n=i("4f06").default;n("381c7895",o,!0,{sourceMap:!1,shadowMode:!1})},"273b":function(t,e,i){"use strict";i.r(e);var o=i("6f78"),n=i.n(o);for(var a in o)"default"!==a&&function(t){i.d(e,t,function(){return o[t]})}(a);e["default"]=n.a},"3cb7":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".qrBottomTip[data-v-611c7200]{margin-top:%?30?%;text-align:center}.qrBottomTip>uni-text[data-v-611c7200]{font-size:%?24?%;color:#666}.qrBottomImage[data-v-611c7200]{margin:%?50?% auto 0 auto;width:%?300?%;height:%?300?%}.qrBottomImage>uni-image[data-v-611c7200]{width:%?300?%;height:%?300?%}.qrBottomTitle[data-v-611c7200]{border:%?1?% solid transparent;width:%?750?%;height:%?480?%;background:#fff}.qrBottomButton[data-v-611c7200]{margin:%?20?% auto 0 auto;width:%?700?%;height:%?80?%;text-align:center;background:#f5f5f5;border:%?1?% solid #ccc;border-radius:%?10?%}.qrBottomButton>uni-text[data-v-611c7200]{line-height:%?80?%;font-size:%?30?%;color:#333}.qrBottomFoot[data-v-611c7200]{box-shadow:%?10?% %?20?% %?20?% %?20?% #f5f5f5;border:%?1?% solid transparent;width:%?750?%;height:%?120?%;background:#fff;text-align:center}.qrBottom[data-v-611c7200]{border:%?1?% solid transparent;width:%?750?%;height:%?600?%;background:#f6f6f6}.followTitleClose[data-v-611c7200]{position:absolute;top:0;right:0;width:%?70?%;height:%?70?%}.followTitleClose>uni-image[data-v-611c7200]{width:%?70?%;height:%?70?%}.qrCenterMainPackage[data-v-611c7200]{padding:%?30?%}.qrCenterMainPackage>uni-image[data-v-611c7200]{width:%?520?%;height:%?510?%}.qrCenterMain[data-v-611c7200]{height:%?570?%;background:#fff}.qrCenterTitle[data-v-611c7200]{height:%?80?%;text-align:center}.qrCenterTitle>uni-text[data-v-611c7200]{line-height:%?80?%;font-size:%?30?%;color:#333}.qrCenter[data-v-611c7200]{overflow:hidden;border-radius:%?10?%;width:%?580?%;height:%?650?%;background:#eee}.followButton[data-v-611c7200]{margin-left:%?10?%;display:inline-block;width:%?130?%;height:%?60?%;border-radius:%?10?%;vertical-align:middle;text-align:center;background:#f44}.followButton>uni-text[data-v-611c7200]{font-size:%?28?%;font-family:PingFang SC;font-weight:500;color:#fff;line-height:%?60?%}.followTitlePackage[data-v-611c7200]{position:relative;padding:%?15?% %?30?%}.followInfomation[data-v-611c7200]{width:%?400?%;margin-left:%?20?%;vertical-align:middle;display:inline-block}.followInfomation>uni-view[data-v-611c7200]{width:%?400?%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.followInfomation>uni-view>uni-text[data-v-611c7200]{display:inline-block;font-size:%?28?%;font-family:PingFang SC;font-weight:500;color:#fff}.followText[data-v-611c7200]{font-size:%?28?%;font-family:PingFang SC;font-weight:500;color:#f44!important}.followImage[data-v-611c7200]{vertical-align:middle;display:inline-block;width:%?100?%;height:%?100?%;border-radius:%?10?%;overflow:hidden}.followImage>uni-image[data-v-611c7200]{width:%?100?%;height:%?100?%}.follow[data-v-611c7200]{font-size:0}.followTitle[data-v-611c7200]{z-index:200;position:fixed;top:0;left:0;width:%?750?%;height:%?130?%;background:#000}",""])},4013:function(t,e,i){"use strict";i.r(e);var o=i("a5c8"),n=i.n(o);for(var a in o)"default"!==a&&function(t){i.d(e,t,function(){return o[t]})}(a);e["default"]=n.a},"637b":function(t,e,i){var o=i("3cb7");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var n=i("4f06").default;n("641f8776",o,!0,{sourceMap:!1,shadowMode:!1})},"6d52":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".cantClick[data-v-2c6d8c0e]{pointer-events:none!important}.dotLeft[data-v-2c6d8c0e]{right:%?47?%;position:relative;bottom:%?14?%;display:inline-block;width:%?30?%;height:%?30?%;border-radius:50%;background:#f0edf4}.dotRight[data-v-2c6d8c0e]{left:%?47?%;position:relative;bottom:%?14?%;display:inline-block;width:%?30?%;height:%?30?%;border-radius:50%;background:#f0edf4}.nwrap[data-v-2c6d8c0e]{white-space:nowrap}.switchOn>uni-view[data-v-2c6d8c0e]{width:%?28?%;height:%?28?%;background:#f44;box-shadow:%?0?% %?2?% %?6?% %?0?% rgba(255,68,68,.35);border-radius:50%}.grayLine[data-v-2c6d8c0e]{border:%?2?% solid #ccc!important}.switchOff>uni-view[data-v-2c6d8c0e]{width:%?28?%;height:%?28?%;background:#ccc;box-shadow:%?0?% %?2?% %?6?% %?0?% #ccc;border-radius:50%}.switch[data-v-2c6d8c0e]{width:%?80?%;height:%?40?%;border:%?2?% solid #f44;border-radius:%?20?%}.switch>uni-view[data-v-2c6d8c0e]{padding:%?6?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.useName[data-v-2c6d8c0e]{color:#f44;font-size:%?24?%}.infoMb[data-v-2c6d8c0e]{width:%?550?%;margin-left:%?20?%;display:inline-block;vertical-align:top}.infoMb>uni-view[data-v-2c6d8c0e]{vertical-align:middle;display:inline-block}.infoMb>uni-view>uni-view:first-child>span[data-v-2c6d8c0e]{font-size:%?28?%;font-weight:700;color:#333}.infoMb>uni-view>uni-view:nth-child(2)>span[data-v-2c6d8c0e]{display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:%?520?%;font-size:%?24?%;color:#999}.infoMb>uni-image[data-v-2c6d8c0e]{margin-top:%?40?%;float:right;vertical-align:middle;width:%?25?%;height:%?30?%}.logoMb[data-v-2c6d8c0e]{vertical-align:top;display:inline-block}.logoMb>uni-image[data-v-2c6d8c0e]{height:%?100?%;width:%?100?%}.shopShow[data-v-2c6d8c0e]{background:#fff;width:%?750?%}uni-page-body[data-v-2c6d8c0e]{background-color:#f0edf4}.buyOrder[data-v-2c6d8c0e]{background-color:#f0edf4}.checkStoreMbPackage[data-v-2c6d8c0e]{border-bottom:%?1?% solid grey;padding:%?30?%}.input-box[data-v-2c6d8c0e]{padding:%?20?%;border:1px solid #cfced3;box-shadow:0 0 %?10?% %?4?% #cfced3;position:relative;z-index:2;margin-top:%?4?%}.input-box .consumption-box-input[data-v-2c6d8c0e]{background-color:#f4f4f6;height:%?100?%;padding:0 %?20?%;box-shadow:0 0 %?10?% #f4f4f6}.input-box .couponPrice-box[data-v-2c6d8c0e]{padding:0 %?10?%;margin:%?30?% 0}.mitigate-pocket[data-v-2c6d8c0e]{box-shadow:0 0 5px #cfced3}.mitigate-pocket .mitigate-pocket-fgx[data-v-2c6d8c0e]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin:auto;width:%?630?%;height:%?2?%;border-bottom:1px dashed #eee}.mitigate-pocket[data-v-2c6d8c0e]:before{width:%?30?%;height:%?30?%;border-radius:50%;background-color:#f0edf4;position:relative}.mitigate-pocket[data-v-2c6d8c0e]:after{position:relative;width:%?30?%;height:%?30?%;border-radius:50%;background-color:#f0edf4}.mitigate[data-v-2c6d8c0e]{padding:%?40?% %?30?% %?40?% %?40?%}.mitigate .mitigate-price[data-v-2c6d8c0e]{color:#cd8553}.store-title[data-v-2c6d8c0e]{color:#cd8553;background-color:#fef9ed;height:%?70?%;line-height:%?70?%;margin:0 %?2?%}.buy-label[data-v-2c6d8c0e]{margin:%?10?% 0 %?20?%;padding:0 %?10?%;letter-spacing:%?2?%}.submit-btn[data-v-2c6d8c0e]{background-color:#1bbc9a;height:%?90?%;line-height:%?90?%}.hoverButton[data-v-2c6d8c0e]{opacity:.2;background-color:#000}body.?%PAGE?%[data-v-2c6d8c0e]{background-color:#f0edf4}",""])},"6f78":function(t,e,i){"use strict";var o=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(i("3099")),a=(o(i("9e9f")),o(i("b696"))),c={components:{PopManager:a.default},props:{shareId:{type:String,default:""},followShow:{type:Boolean,default:!1},followType:{type:String,default:""},followTitleShow:{type:Boolean,default:!1}},data:function(){return{type:null,platformInfor:{},followInfo:{status:0}}},mounted:function(){var t=this;"0"==t.followType?t.type="center":t.type="bottom",t.platformInfor=uni.getStorageSync("platformInfor"),t.init()},methods:{closePop:function(){var t=this;t.$emit("closeFollowPop")},closeFollowTitle:function(){var t=this;t.$emit("closeFollowTitle")},init:function(){var t=this;t.getFollow()},getFollow:function(){var t=this,e={type:t.followType,id:t.shareId||""};n.default._post_form("&do=Follow",e,function(e){console.info(e.data),t.followInfo=e.data,console.info(t.followInfo.gzimage)})},openQrShow:function(){var t=this;t.$emit("clickmask")}}};e.default=c},8075:function(t,e,i){"use strict";var o=i("0ad9"),n=i.n(o);n.a},"84be":function(t,e,i){"use strict";var o,n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"page"},[i("v-uni-view",{staticClass:"pop",class:["pop--"+t.type,{"pop--show":t.show}]},[t.overlay?i("v-uni-view",{staticClass:"pop__mask",class:{"pop__mask--hide":!t.showOverlay},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleMaskClick.apply(void 0,arguments)}}}):t._e(),i("v-uni-view",{staticClass:"pop__container"},[t._t("default")],2)],1)],1)},a=[];i.d(e,"b",function(){return n}),i.d(e,"c",function(){return a}),i.d(e,"a",function(){return o})},9431:function(t,e,i){var o=i("009e");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var n=i("4f06").default;n("696d8a53",o,!0,{sourceMap:!1,shadowMode:!1})},9976:function(t,e,i){"use strict";i.r(e);var o=i("b3c4"),n=i("02d8");for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);i("ea1a");var c,s=i("f0c5"),l=Object(s["a"])(n["default"],o["b"],o["c"],!1,null,"4811e7a3",null,!1,o["a"],c);e["default"]=l.exports},a412:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".pop[data-v-570ac637]{visibility:hidden}.pop--show[data-v-570ac637]{visibility:visible}.pop__mask[data-v-570ac637]{position:fixed;top:0;left:0;right:0;bottom:0;z-index:998;background:rgba(0,0,0,.5);display:none}.pop__mask--hide[data-v-570ac637]{background:0 0}.pop__container[data-v-570ac637]{position:fixed;left:50%;top:50%;-webkit-transform:translate3d(-50%,-50%,0);transform:translate3d(-50%,-50%,0);-webkit-transform-origin:center;transform-origin:center;-webkit-transition:all .3s ease;transition:all .3s ease;z-index:999;opacity:0}.pop--show .pop__container[data-v-570ac637]{opacity:1}.pop--show .pop__mask[data-v-570ac637]{display:block}.pop--left .pop__container[data-v-570ac637]{left:0;top:50%;-webkit-transform:translate3d(-100%,-50%,0);transform:translate3d(-100%,-50%,0)}.pop--show.pop--left .pop__container[data-v-570ac637]{-webkit-transform:translate3d(0,-50%,0);transform:translate3d(0,-50%,0)}.pop--right .pop__container[data-v-570ac637]{right:0;top:50%;left:auto;-webkit-transform:translate3d(100%,-50%,0);transform:translate3d(100%,-50%,0)}.pop--show.pop--right .pop__container[data-v-570ac637]{-webkit-transform:translate3d(0,-50%,0);transform:translate3d(0,-50%,0)}.pop--bottom .pop__container[data-v-570ac637]{top:auto;left:50%;bottom:0;-webkit-transform:translate3d(-50%,100%,0);transform:translate3d(-50%,100%,0)}.pop--show.pop--bottom .pop__container[data-v-570ac637]{-webkit-transform:translate3d(-50%,0,0);transform:translate3d(-50%,0,0)}.pop--top .pop__container[data-v-570ac637]{top:0;left:50%;-webkit-transform:translate3d(-50%,-100%,0);transform:translate3d(-50%,-100%,0)}.pop--show.pop--top .pop__container[data-v-570ac637]{-webkit-transform:translate3d(-50%,0,0);transform:translate3d(-50%,0,0)}",""])},a5c8:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={data:function(){return{}},props:{show:{type:Boolean,default:!1},overlay:{type:Boolean,default:!0},showOverlay:{type:Boolean,default:!0},type:{type:String,default:"center"},modelData:{type:Object,default:function(){}}},components:{},computed:{},mounted:function(){},methods:{handleMaskClick:function(){this.$emit("clickmask")}}};e.default=o},b3c4:function(t,e,i){"use strict";var o,n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{staticClass:"loadlogo-container"},[i("v-uni-view",{staticClass:"loadlogo"},[i("v-uni-image",{staticClass:"image",attrs:{src:"/static/images/loadlogo.svg",mode:"aspectFill"}})],1)],1)],1)},a=[];i.d(e,"b",function(){return n}),i.d(e,"c",function(){return a}),i.d(e,"a",function(){return o})},b696:function(t,e,i){"use strict";i.r(e);var o=i("84be"),n=i("4013");for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);i("8075");var c,s=i("f0c5"),l=Object(s["a"])(n["default"],o["b"],o["c"],!1,null,"570ac637",null,!1,o["a"],c);e["default"]=l.exports},bc87:function(t,e,i){"use strict";var o,n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return 1==t.loading?i("loadlogo"):i("v-uni-view",{staticClass:"buyOrder",style:{height:t.phoneHight}},[i("v-uni-view",{staticClass:"content padding-box-all"},[i("v-uni-form",["2"==t.type||"1"==t.type&&"0"==t.payonline||""==t.type?i("v-uni-view",{staticClass:"input-box b-f"},[i("v-uni-view",{staticClass:"consumption-box-input dis-flex flex-x-between flex-y-center bor-radius-10upx"},[i("v-uni-view",{staticClass:"f-30 col-3 nwrap"},[t._v("消费总金额")]),i("v-uni-view",{staticClass:"input-style"},[i("v-uni-input",{staticClass:"t-r",attrs:{type:"number",value:"",name:"consumpPrice"},model:{value:t.consumPrice,callback:function(e){t.consumPrice=e},expression:"consumPrice"}})],1)],1),[i("v-uni-view",{staticClass:"couponPrice-box dis-flex flex-y-center"},[i("v-uni-view",{staticClass:"radio m-right10",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.iScouponCheck.apply(void 0,arguments)}}},[i("v-uni-radio-group",{attrs:{name:"couponPrice"}},[i("v-uni-radio",{attrs:{value:"radio1",checked:t.iScoupon,color:"#27CE00"}})],1)],1),i("v-uni-view",{staticClass:"f-28 col-c"},[t._v("输入不参与优惠金额(如酒水、套餐)")])],1),t.iScoupon?[i("v-uni-view",{staticClass:"consumption-box-input dis-flex flex-x-between flex-y-center bor-radius-10upx"},[i("v-uni-view",{staticClass:"f-30 col-3"},[t._v("不可优惠金额")]),i("v-uni-view",{staticClass:"input-style"},[i("v-uni-input",{staticClass:"t-r",attrs:{type:"number",value:"",name:"notconsumpPrice",disabled:!t.iScoupon},model:{value:t.notconsumPrice,callback:function(e){t.notconsumPrice=e},expression:"notconsumPrice"}})],1)],1)]:t._e()]],2):t._e(),i("v-uni-view",{staticClass:"mitigate-pocket b-f p-r"},[t._l(t.useInfo.pack,function(e,o){return i("v-uni-view",{staticClass:"mitigate dis-flex flex-x-between flex-y-center"},[i("v-uni-view",{staticClass:"dis-flex flex-y-center"},[i("v-uni-view",{staticClass:"f-30 col-3 m-right10"},[t._v(t._s(e.name))]),i("v-uni-view",{staticClass:"f-24 col-c"})],1),i("v-uni-view",{staticClass:"mitigate-price f-24"},[i("v-uni-view",{staticClass:"switch",class:-1==t.packids.indexOf(e.id)?"grayLine":""},[-1!==t.packids.indexOf(e.id)?i("v-uni-view",{staticClass:"switchOn",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.checkLb(e.id)}}},[i("span"),i("v-uni-view")],1):t._e(),-1==t.packids.indexOf(e.id)?i("v-uni-view",{staticClass:"switchOff",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.checkLb(e.id)}}},[i("v-uni-view"),i("span")],1):t._e()],1)],1)],1)}),"2"==t.type||"1"==t.type&&"0"==t.payonline?i("v-uni-view",{staticClass:"mitigate-pocket-fgx"},[i("v-uni-view",{staticClass:"dotLeft"}),i("v-uni-view",{staticClass:"dotRight"})],1):t._e(),"2"==t.type||"1"==t.type&&"0"==t.payonline||""==t.type?i("v-uni-view",{staticClass:"mitigate dis-flex flex-x-between flex-y-center"},[i("v-uni-view",{staticClass:"dis-flex flex-y-center"},[i("v-uni-view",{staticClass:"f-30 col-3 m-right10"},[t._v("会员减免")]),"0"==t.useInfo.tip?i("v-uni-view",{staticClass:"f-24 col-c"},[t._v("会员特权"+t._s(t.useInfo.discount)+"折")]):i("v-uni-view",{staticClass:"f-24 col-c"},[t._v(t._s(t.useInfo.tip))])],1),i("v-uni-view",{staticClass:"mitigate-price f-24"},[t._v(t._s(t.vipCouponPrice)+"元")])],1):t._e(),i("v-uni-view",{staticClass:"out-pocket"},["2"==t.type||"1"==t.type&&"0"==t.payonline||""==t.type?i("v-uni-view",{staticClass:"mitigate dis-flex flex-x-between flex-y-center"},[i("v-uni-view",{staticClass:"dis-flex flex-y-center"},[i("v-uni-view",{staticClass:"f-30 col-3 m-right10"},[t._v("实付金额")])],1),i("v-uni-view",{staticClass:"mitigate-price f-24"},[t._v(t._s(t.buyPrice)+"元")])],1):t._e()],1)],2),i("v-uni-view",{staticClass:"store-title f-24 t-c"},[i("span",{staticClass:"useName"},[t._v(t._s(""!==t.type?"持卡人":"商户")+":"+t._s(t.useInfo.name))])]),""==t.type?i("v-uni-view",{staticClass:"buy-label f-24 col-6"},[t._v("买单仅限于到店支付,请确认金额后提交")]):t._e(),i("v-uni-button",{staticClass:"submit-btn t-c bor-radius-10upx f-28 col-f",class:"1"==t.buttonType?"":"cantClick",attrs:{formType:"submit","hover-class":"hoverButton"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.usePayOnline.apply(void 0,arguments)}}},[t._v(t._s(""==t.type?"和店员已确认,立即买单":"1"==t.type||"2"==t.type?"确认核销使用":"点击使用礼包"))])],1)],1),i("PopManager",{attrs:{show:t.shopShow,type:t.showType}},[i("v-uni-view",{staticClass:"shopShow",style:{height:t.phoneHight}},t._l(t.useInfo.shop_list,function(e,o){return i("v-uni-view",{staticClass:"checkStoreMb",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.closeShopShow(e.id)}}},[i("v-uni-view",{staticClass:"checkStoreMbPackage"},[i("v-uni-view",{staticClass:"logoMb"},[i("v-uni-image",{attrs:{src:e.logo}})],1),i("v-uni-view",{staticClass:"infoMb"},[i("v-uni-view",[i("v-uni-view",[i("span",[t._v(t._s(e.storename))])]),i("v-uni-view",[i("span",[t._v(t._s(e.address))])])],1),i("v-uni-image",{attrs:{src:"/static/images/merchant/right.svg"}})],1)],1)],1)}),1)],1),i("follow",{attrs:{followShow:t.followShow,followType:t.followType,followTitleShow:t.followTitleShow},on:{clickmask:function(e){arguments[0]=e=t.$handleEvent(e),t.openQrShow.apply(void 0,arguments)},closeFollowPop:function(e){arguments[0]=e=t.$handleEvent(e),t.closeFollowPop.apply(void 0,arguments)},closeFollowTitle:function(e){arguments[0]=e=t.$handleEvent(e),t.closeFollowTitle.apply(void 0,arguments)}}})],1)},a=[];i.d(e,"b",function(){return n}),i.d(e,"c",function(){return a}),i.d(e,"a",function(){return o})},c771:function(t,e,i){"use strict";i.r(e);var o=i("d510"),n=i("273b");for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);i("0688");var c,s=i("f0c5"),l=Object(s["a"])(n["default"],o["b"],o["c"],!1,null,"611c7200",null,!1,o["a"],c);e["default"]=l.exports},c772:function(t,e,i){"use strict";var o=i("e5f1"),n=i.n(o);n.a},d510:function(t,e,i){"use strict";var o,n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"follow"},["0"==t.followType&&1==t.followTitleShow&&"0"!=t.followInfo.status?i("v-uni-view",{staticClass:"followTitle"},[i("v-uni-view",{staticClass:"followTitlePackage"},[i("v-uni-view",{staticClass:"followImage"},[i("v-uni-image",{attrs:{src:t.platformInfor.logo}})],1),i("v-uni-view",{staticClass:"followInfomation"},[i("v-uni-view",[i("v-uni-text",[t._v("欢迎进入")]),i("v-uni-text",{staticClass:"followText"},[t._v(t._s(t.platformInfor.name))])],1),i("v-uni-view",[i("v-uni-text",[t._v("关注公众号，享专属服务")])],1)],1),i("v-uni-view",{staticClass:"followButton",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.openQrShow.apply(void 0,arguments)}}},[i("v-uni-text",[t._v("立即关注")])],1)],1),i("v-uni-view",{staticClass:"followTitleClose",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closeFollowTitle.apply(void 0,arguments)}}},[i("v-uni-image",{attrs:{src:"/static/images/merchant/followClose.png"}})],1)],1):t._e(),i("PopManager",{attrs:{show:t.followShow,type:t.type},on:{clickmask:function(e){arguments[0]=e=t.$handleEvent(e),t.closePop.apply(void 0,arguments)}}},["0"==t.followType&&"0"!=t.followInfo.status?i("v-uni-view",{staticClass:"qrCenter"},[i("v-uni-view",{staticClass:"qrCenterTitle"},[i("v-uni-text",[t._v("长按二维码，关注我们")])],1),i("v-uni-view",{staticClass:"qrCenterMain"},[i("v-uni-view",{staticClass:"qrCenterMainPackage"},[i("v-uni-image",{attrs:{src:t.followInfo.gzimage}})],1)],1)],1):t._e(),"0"!=t.followType&&"0"!=t.followInfo.status?i("v-uni-view",{staticClass:"qrBottom"},[i("v-uni-view",{staticClass:"qrBottomTitle"},[i("v-uni-view",{staticClass:"qrBottomImage"},[i("v-uni-image",{attrs:{src:t.followInfo.gzimage}})],1),i("v-uni-view",{staticClass:"qrBottomTip"},[i("v-uni-text",[t._v("长按识别，扫码关注")])],1)],1),i("v-uni-view",{staticClass:"qrBottomFoot",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closePop.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"qrBottomButton"},[i("v-uni-text",[t._v("取消")])],1)],1)],1):t._e()],1)],1)},a=[];i.d(e,"b",function(){return n}),i.d(e,"c",function(){return a}),i.d(e,"a",function(){return o})},d93e:function(t,e,i){"use strict";i.r(e);var o=i("f851"),n=i.n(o);for(var a in o)"default"!==a&&function(t){i.d(e,t,function(){return o[t]})}(a);e["default"]=n.a},d9b9:function(t,e,i){"use strict";i.r(e);var o=i("bc87"),n=i("d93e");for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);i("c772");var c,s=i("f0c5"),l=Object(s["a"])(n["default"],o["b"],o["c"],!1,null,"2c6d8c0e",null,!1,o["a"],c);e["default"]=l.exports},e5f1:function(t,e,i){var o=i("6d52");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var n=i("4f06").default;n("da9df55c",o,!0,{sourceMap:!1,shadowMode:!1})},ea1a:function(t,e,i){"use strict";var o=i("9431"),n=i.n(o);n.a},ea6e:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={};e.default=o},f851:function(t,e,i){"use strict";var o=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("c5f6");var n=o(i("bd86")),a=o(i("b696")),c=o(i("3099")),s=o(i("9976")),l=o(i("a81a")),r=o(i("c771")),u={data:function(){var t;return t={tipsText:"",e:null,followTitleShow:!0,followShow:!1,followType:"payonline",sid:null,iScoupon:!1,buyData:{},loadlogo:!0,vipCouponPrice:"0.00",consumPrice:"",notconsumPrice:"",buyPrice:"0.00",type:""},(0,n.default)(t,"sid",""),(0,n.default)(t,"pack_id",""),(0,n.default)(t,"useInfo",{}),(0,n.default)(t,"shopShow",!1),(0,n.default)(t,"showType","bottom"),(0,n.default)(t,"phoneHight",0),(0,n.default)(t,"sid",""),(0,n.default)(t,"packids",[]),(0,n.default)(t,"payonline",null),(0,n.default)(t,"loading",!0),(0,n.default)(t,"buttonType",1),t},onLoad:function(t){var e=this;uni.getSystemInfo({success:function(t){e.phoneHight=t.windowHeight+"px"}}),e.e=t,e.setData({type:t.type||"",mid:t.mid||"",sid:t.sid||""})},components:{loading:s.default,PopManager:a.default,loadlogo:s.default,follow:r.default},onShow:function(){var t=this;t.type=t.e.type||"",t.mid=t.mid||"",t.sid=t.sid||"",t.pack_id=t.e.pack_id||"";t.type,t.mid,t.sid,t.pack_id;console.info("e",t.e),t.type?("1"==t.type&&(t.getUseInfo(t.type,t.mid,t.sid,"",function(){console.info(t.useInfo),"1"==t.useInfo.is_shop&&(t.shopShow=!0)}),uni.setNavigationBarTitle({title:"特权使用"})),"2"==t.type&&(t.sid=t.e.sid||"",t.getUseInfo(t.type,t.mid,t.sid,"",function(){}),uni.setNavigationBarTitle({title:"在线买单"})),"3"==t.type&&(t.pack_id=t.e.pack_id||"",t.getUseInfo(t.type,t.mid,"",t.pack_id,function(){}),uni.setNavigationBarTitle({title:"礼包使用"}))):(t.payonline=1,t.getPayOnlineInfo(t.sid))},watch:{notconsumPrice:{handler:function(){var t=this;t.useInfo.discount=Number(t.useInfo.discount),t.consumPrice=Number(t.consumPrice),t.notconsumPrice=Number(t.notconsumPrice),t.buyPrice=Number(t.buyPrice),t.vipCouponPrice=Number(t.vipCouponPrice),t.buyPrice=l.default.subtractionFloat(t.consumPrice,t.notconsumPrice,100)*(t.useInfo.discount/10)+t.notconsumPrice,0!=t.buyPrice?t.buyPrice=t.buyPrice.toFixed(2):t.buyPrice=t.buyPrice,t.vipCouponPrice=l.default.subtractionFloat(t.consumPrice,t.buyPrice,100),0!=t.vipCouponPrice?t.vipCouponPrice=t.vipCouponPrice.toFixed(2):t.vipCouponPrice=t.vipCouponPrice}},iScoupon:{handler:function(){var t=this;t.notconsumPrice=""}},consumPrice:{handler:function(){var t=this;t.iScoupon?(t.useInfo.discount=Number(t.useInfo.discount),t.consumPrice=Number(t.consumPrice),t.notconsumPrice=Number(t.notconsumPrice),t.buyPrice=Number(t.buyPrice),t.vipCouponPrice=Number(t.vipCouponPrice),l.default.subtractionFloat(t.consumPrice,t.notconsumPrice,100)*(t.useInfo.discount/10)+t.notconsumPrice!=0?t.buyPrice=(l.default.subtractionFloat(t.consumPrice,t.notconsumPrice,100)*(t.useInfo.discount/10)+t.notconsumPrice).toFixed(2):t.buyPrice=l.default.subtractionFloat(t.consumPrice,t.notconsumPrice,100)*(t.useInfo.discount/10)+t.notconsumPrice,0!=l.default.subtractionFloat(t.consumPrice,t.buyPrice,100)?t.vipCouponPrice=l.default.subtractionFloat(t.consumPrice,t.buyPrice,100).toFixed(2):t.vipCouponPrice=l.default.subtractionFloat(t.consumPrice,t.buyPrice,100)):(t.useInfo.discount=Number(t.useInfo.discount),t.consumPrice=Number(t.consumPrice),t.notconsumPrice=Number(t.notconsumPrice),t.buyPrice=Number(t.buyPrice),t.vipCouponPrice=Number(t.vipCouponPrice),t.consumPrice*(t.useInfo.discount/10)!=0?t.buyPrice=(t.consumPrice*(t.useInfo.discount/10)).toFixed(2):t.buyPrice=t.consumPrice*(t.useInfo.discount/10),0!=l.default.subtractionFloat(t.consumPrice,t.buyPrice,100)?t.vipCouponPrice=l.default.subtractionFloat(t.consumPrice,t.buyPrice,100).toFixed(2):t.vipCouponPrice=l.default.subtractionFloat(t.consumPrice,t.buyPrice,100))}}},methods:{closeFollowTitle:function(){var t=this;t.followTitleShow=!1},closeFollowPop:function(){var t=this;t.followShow=!1},openQrShow:function(){var t=this;t.followShow=!0},iScouponCheck:function(){var t=this;t.iScoupon=!t.iScoupon,t.iScoupon||(t.notconsumPrice="")},checkLb:function(t){var e=this;if(-1==e.packids.indexOf(t))e.packids.push(t);else for(var i=0;i<e.packids.length;i++)e.packids[i]==t&&e.packids.splice(i,1)},closeShopShow:function(t){var e=this;e.sid=t,e.pack_id="",e.shopShow=!1,e.getUseInfo(e.type,e.mid,e.sid,e.pack_id,function(){})},getPayOnlineInfo:function(t){var e=this,i={sid:t};c.default._post_form("&p=halfcard&do=getPayOnlineInfo",i,function(t){e.loading=!1,e.useInfo=t.data,e.loadlogo=!1},function(t){e.loadlogo=!1,"非核销员"==t.message&&c.default.navigationTo({url:"pages/mainPages/index/index"})})},usePrivileged:function(){},usePayOnline:function(){var t=this;t.sid,t.consumPrice,t.notconsumPrice;if(t.buttonType=2,"1"==t.payonline){var e={type:t.type,id:t.sid};c.default._post_form("&do=Follow",e,function(e){if("0"==e.data.status){var i={sid:t.sid,money:t.consumPrice,no_money:t.notconsumPrice};c.default._post_form("&p=halfcard&do=usePayOnline",i,function(t){c.default.navigationTo({url:"pages/mainPages/payment/payment?orderid="+t.data+"&plugin=halfcard"})},function(e){t.buttonType=1,"非核销员"==e.message&&c.default.navigationTo({url:"pages/mainPages/index/index"})})}else t.buttonType=1,t.followShow=!0})}else{var i={mid:t.mid,packids:t.packids,money:t.consumPrice,no_money:t.notconsumPrice,card_id:t.useInfo.card_id};t.buttonType=2,c.default._post_form("&p=halfcard&do=usePrivileged",i,function(t){uni.showToast({icon:"none",title:"消费成功",duration:2e3,success:function(){setTimeout(function(){c.default.navigationTo({url:"pages/mainPages/index/index"})},2e3)}})},function(e){t.buttonType=1,"非核销员"==e.message&&c.default.navigationTo({url:"pages/mainPages/index/index"})})}},getUseInfo:function(t,e,i,o,n){var a=this,s={type:a.type||t,sid:a.sid||i,pack_id:a.pack_id||o,mid:a.mid||e};c.default._post_form("&p=halfcard&do=useInfo",s,function(t){a.loading=!1,a.useInfo=t.data,a.payonline=t.data.payonline,a.loadlogo=!1,n&&n()},function(t){c.default.navigationTo({url:"pages/mainPages/userCenter/userCenter"})})}},computed:{}};e.default=u}}]);