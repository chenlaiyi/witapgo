(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mainPages-city-selectAddress"],{"09c5":function(t,a,i){"use strict";var n=i("288e");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var e=n(i("75fc")),s=n(i("3099")),c=n(i("9e9f")),o={components:{},data:function(){return{city_name:"",city_id:"",city_lat:"",city_lng:"",isCurentAdres:"",skip_addressData:null,LocaTion_addressData:null,isPage:!1,searchText:"",navgateTourl:"",agencyData:""}},computed:{addressData:function(){if(this.LocaTion_addressData||this.skip_addressData)return this.LocaTion_addressData&&this.LocaTion_addressData["ad_info"]["city_code"]===this.skip_addressData["ad_info"]["city_code"]?this.LocaTion_addressData:this.skip_addressData}},onLoad:function(t){uni.showLoading({title:"定位中..."});var a=this,i=t.lat,n=t.lng,e=t.city,s=t.id,o=t.isCurrentAddress,r=t.url,d=t.loca,l=i||"",u=n||"",f=e||t.name,v=s||"",g=o||"0",y=uni.getStorageSync("agencyData"),h=r||"";a.setData({city_lat:l,city_lng:u,city_name:f,city_id:v,isCurentAdres:g,navgateTourl:h,agencyData:y}),"now"===d?c.default.wxRegister(a.againCurrentlat):a.getCurrentlat(l,u,v)},methods:{getCurrentlat:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0,n=this,e={};e=t&&a?{lat:t,lng:a,area_code:"1"}:{citycode:i,area_code:"1"},s.default._post_form("&do=cityLocation",e,function(t){n.setData({skip_addressData:t.data,isPage:!0})},!1,function(){uni.hideLoading()})},wxApiCallback:function(){var t=this;jWeixin.ready(function(){jWeixin.getLocation({type:"gcj02",success:function(a){t.getCurrentcity(a.latitude,a.longitude)}})})},againCurrentlat:function(){var t=this;uni.showLoading({title:"定位中..."}),jWeixin.ready(function(){jWeixin.getLocation({type:"gcj02",success:function(a){t.getCurrentcity(a.latitude,a.longitude)}})})},getCurrentcity:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=(arguments.length>2&&void 0!==arguments[2]&&arguments[2],this),n={lat:t,lng:a,area_code:"1"};s.default._post_form("&do=cityLocation",n,function(t){var a=t.data;i.setData({LocaTion_addressData:a})},!1,function(){uni.hideLoading()})},citySearch:function(t){var a=this;""!==t&&s.default._post_form("&do=citySearch",{city_name:a.addressData["ad_info"]["city"],keyword:t},function(t){a.addressData["pois"]=t.data},!1,function(){})},navBack:function(){uni.navigateBack()},cityTaptime:function(t){var a=this,i=(a.currentCity,a.agencyData),n=(new Date).getTime();i.areaid!==t.ad_info.adcode&&uni.setStorageSync("cityTimestamp",n)},navGate:function(t){var a=getCurrentPages(),i=uni.getStorageSync("locationArray"),n=a.length>1?"reLaunch":"rediRect",c=this,o=[];if(s.default.getAreaId(t.location,t.title,"",function(a){c.cityTaptime(t),s.default.navigationTo({url:"pages/mainPages/index/index",navType:n}),uni.setStorageSync("agencyData",a.data)}),i){var r=0!==i.filter(function(a){return(a.ad_info?a.ad_info.city:a.name)===t.ad_info.city}).length;if(r)return;o.push.apply(o,[t].concat((0,e.default)(i))),uni.setStorageSync("locationArray",o)}else o.push(t),uni.setStorageSync("locationArray",o)}},watch:{searchText:function(t,a){this.citySearch(t)}}};a.default=o},"32c3":function(t,a,i){"use strict";var n=i("a7c3"),e=i.n(n);e.a},a7c3:function(t,a,i){var n=i("e98d");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var e=i("4f06").default;e("52cf4d27",n,!0,{sourceMap:!1,shadowMode:!1})},ad62:function(t,a,i){"use strict";var n,e=function(){var t=this,a=t.$createElement,i=t._self._c||a;return t.isPage?i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{staticClass:"history-main dis-flex flex-y-center p-left-right-30"},[i("v-uni-view",{staticClass:"city onelist-hidden dis-flex flex-y-center",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.navBack.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"location-icon iconfont icon-locationfill"}),t.addressData?i("v-uni-view",{staticClass:"history-btn col-3 f-28"},[t._v(t._s(t.addressData["ad_info"]["city"]))]):t._e(),i("v-uni-view",{staticClass:"select-up-icon iconfont icon-unfold"})],1),i("v-uni-view",{staticClass:"history-input dis-flex flex-y-center p-left-right-30 p-r"},[i("v-uni-view",{staticClass:"history-icon iconfont icon-search"}),i("v-uni-input",{staticClass:"f-24",attrs:{type:"text",value:"",placeholder:"请输入当前位置"},model:{value:t.searchText,callback:function(a){t.searchText=a},expression:"searchText"}})],1)],1),i("v-uni-view",{staticClass:"current-address-main dis-flex flex-x-between"},[t.addressData?i("v-uni-view",{staticClass:"current-address f-28 col-3"},[t._v(t._s(t.addressData["formatted_addresses"]["recommend"]))]):t._e(),i("v-uni-view",{staticClass:"again-lot dis-flex"},[i("v-uni-view",{staticClass:"again-icon iconfont icon-focus"}),i("v-uni-view",{staticClass:"again-lot-title f-28",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.againCurrentlat.apply(void 0,arguments)}}},[t._v("重新定位")])],1)],1),i("v-uni-view",{staticClass:"nearby-main"},[i("v-uni-view",{staticClass:"nearby-address dis-flex flex-y-center m-left-right-30"},[i("v-uni-view",{staticClass:"nearby-icon iconfont icon-dibiao"}),i("v-uni-view",{staticClass:"f-28 col-9"},[t._v("附近地址")])],1),i("v-uni-view",{staticClass:"address-list"},t._l(t.addressData["pois"],function(a,n){return t.addressData&&t.addressData["pois"]["length"]>0?i("v-uni-view",{key:n,staticClass:"list-item",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.navGate(a)}}},[i("v-uni-view",{staticClass:"list-title col-3 f-30 m-btm20"},[t._v(t._s(a.title))]),i("v-uni-view",{staticClass:"list-title col-9 f-24"},[t._v(t._s(a.address))])],1):t._e()}),1)],1)],1):t._e()},s=[];i.d(a,"b",function(){return e}),i.d(a,"c",function(){return s}),i.d(a,"a",function(){return n})},c09c:function(t,a,i){"use strict";i.r(a);var n=i("ad62"),e=i("c75c");for(var s in e)"default"!==s&&function(t){i.d(a,t,function(){return e[t]})}(s);i("32c3");var c,o=i("f0c5"),r=Object(o["a"])(e["default"],n["b"],n["c"],!1,null,"55515bc8",null,!1,n["a"],c);a["default"]=r.exports},c75c:function(t,a,i){"use strict";i.r(a);var n=i("09c5"),e=i.n(n);for(var s in n)"default"!==s&&function(t){i.d(a,t,function(){return n[t]})}(s);a["default"]=e.a},e98d:function(t,a,i){a=t.exports=i("2350")(!1),a.push([t.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.history-main[data-v-55515bc8]{height:%?120?%}.history-main .city[data-v-55515bc8]{width:%?170?%;margin-right:%?26?%}.history-main .history-input[data-v-55515bc8]{-webkit-box-flex:1;-webkit-flex:1;flex:1;background:#f6f6f6;border-radius:%?38?%;height:%?80?%}.history-main .history-input .history-icon[data-v-55515bc8]{font-size:%?30?%;margin-right:%?20?%;color:#959595}.history-main .history-btn[data-v-55515bc8]{margin:0 %?12?%}.history-main .select-up-icon[data-v-55515bc8]{font-size:%?24?%}.current-address-main[data-v-55515bc8]{border-bottom:1px solid #f0f0f0;padding:%?40?% %?30?%}.current-address-main .again-lot .again-icon[data-v-55515bc8]{margin-right:%?8?%;color:#fe504f;font-size:%?28?%}.current-address-main .again-lot .again-lot-title[data-v-55515bc8]{color:#fe504f}.nearby-address[data-v-55515bc8]{padding:%?40?% 0;border-bottom:1px solid #f0f0f0}.nearby-address .nearby-icon[data-v-55515bc8]{color:#333;font-size:%?28?%;margin-right:%?14?%}.address-list .list-item[data-v-55515bc8]{padding:%?40?% 0;margin:0 %?68?%;border-bottom:1px solid #f0f0f0}',""])}}]);