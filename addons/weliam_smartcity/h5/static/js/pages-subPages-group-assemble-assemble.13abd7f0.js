(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-subPages-group-assemble-assemble"],{"095b":function(t,n,i){var e=i("c989");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var a=i("4f06").default;a("57367b97",e,!0,{sourceMap:!1,shadowMode:!1})},1389:function(t,n,i){"use strict";var e=i("288e");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e(i("e814"));i("c5f6");var s=e(i("3099")),o=(e(i("9e9f")),e(i("b696"))),d=e(i("da04")),u={components:{PopManager:o.default,GoodsBuyMenu:d.default},data:function(){return{group_id:"",id:null,orderid:null,groupDetail:{},days:0,hours:0,minutes:0,seconds:0,show:!1,top:"top",bottom:"bottom",show1:!1,goodsDetail:{},goods_id:null,goodsType:null,goods_num:1,goods_sku_id:"",dataInfo:{},specData:[],group_buy_type:null}},onLoad:function(t){this.id=t.id,void 0!==t.orderid&&(this.orderid=t.orderid),void 0==t.orderid&&(this.orderid=""),this.init()},methods:{init:function(){var t=this;t.getGroupDetail1(),t.getGoodsDetail()},goodsSubmit:function(t){var n=this,i=t.btnType,e=t.goods_num,a=t.goods_sku_id;n.goods_num=e,n.goods_sku_id=a,"confirm"===i&&n.submit()},initGoodsDetailData:function(t){var n=this;return t["comment"]&&!!t["comment"]["length"]>0&&t.comment.map(function(t){return t.createtime=n.$util.formatTime(t.createtime,"rule","-"),t.star=Number(t.star),t}),t.is_vip=Number(t.is_vip),t},onToggleTrade:function(){console.info(1111111),this.$refs.goodsBuyMenu.onToggleTrade()},showM:function(){var t=this;t.getGoodsDetail(),t.show1=!0},showImg:function(){var t=this;t.show=!0},getGoodsDetail:function(t,n){var i=this,e={id:i.id,type:3};s.default._post_form("&p=goods&do=getGoodsDetail",e,function(t){var n=i.initGoodsDetailData(t.data),e=n.spec?n.spec.list:null;i.setData({dataInfo:n,specData:e}),console.info(i.dataInfo),console.info(i.specData)},!1,function(){i.loadlogo=!1})},submit:function(){console.info(333333333);var t=this,n=t.dataInfo,i=Number(n.buy_limit)||"",e=n.user_limit_num||"";if(i>0&&e<=0)return console.info(555555555),void s.default.showError("购买数量已达上限");console.info(t.dataInfo),console.info(t.goods_id),console.info(t.goods_num),console.info(t.goods_sku_id),s.default.navigationTo({url:"pages/mainPages/submitOrder/submitOrder?goods_id="+t.dataInfo.id+"&goods_num="+t.goods_num+"&specid="+(t.goods_sku_id||"")+"&plugin="+t.dataInfo.type+"&buystatus=1&group_id="+t.group_id,success:function(){t.onToggleTrade()}})},getGroupDetail1:function(){var t=this,n={order_id:t.orderid,group_id:t.group_id};s.default._post_form("&p=wlfightgroup&do=groupDetail",n,function(n){t.groupDetail=n.data,t.group_id=n.data.group_id;var i=(new Date).getTime(),e=1e3*Number(n.data.failtime),s=(0,a.default)((e-i)/1e3),o=setInterval(function(){s--,t.days=(0,a.default)(s/86400),t.hours=(0,a.default)(s%86400/3600),t.minutes=(0,a.default)(s%3600/60),t.seconds=(0,a.default)(s%60),(0==s||s<0)&&(clearInterval(o),t.days="00",t.hours="00",t.minutes="00",t.seconds="00")},1e3)})},goOrder:function(){s.default.navigationTo({url:"pages/mainPages/orderList/orderList"})}}};n.default=u},"29e7":function(t,n,i){"use strict";i.r(n);var e=i("cfc6"),a=i("a1ed");for(var s in a)"default"!==s&&function(t){i.d(n,t,function(){return a[t]})}(s);i("e064");var o=i("2877"),d=Object(o["a"])(a["default"],e["a"],e["b"],!1,null,"78dd1724",null);n["default"]=d.exports},"2a244":function(t,n,i){"use strict";var e=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("v-uni-view",[i("popup-view",{attrs:{show:t.showBuyMenu,type:"bottom"},on:{clickmask:function(n){n=t.$handleEvent(n),t.onToggleTrade(n)}}},[i("v-uni-view",{staticClass:"goods-buy-menu",style:{height:t.buyMeunHeight}},[i("v-uni-view",{staticClass:"iconfont icon-roundclose",on:{click:function(n){n=t.$handleEvent(n),t.onToggleTrade(n)}}}),i("v-uni-view",{staticClass:"trade-main"},[i("v-uni-view",{staticClass:"buy-info dis-flex flex-y-center"},[i("v-uni-view",{staticClass:"buy-images",on:{click:function(n){n=t.$handleEvent(n),t.previewSkuImage(n)}}},[i("v-uni-image",{attrs:{src:t.image_path}})],1),i("v-uni-view",{staticClass:"buy-content"},[i("v-uni-view",{staticClass:"buy-money price-font-family dis-flex flex-y-line"},[i("v-uni-text",{staticClass:"money-label"},[t._v("¥")]),t._v(t._s(t.goods_price)),"1"===t.goodsDetail.vipstatus?i("v-uni-view",{staticClass:"dis-flex flex-y-center member-coupon-view"},[i("v-uni-view",{staticClass:"member-price-label f-22"},[t._v("会员")]),i("v-uni-view",{staticClass:"f-22 col-f onelist-hidden b-0 coupon-price-2"},[t._v("价格"),i("v-uni-text",{staticClass:"member-coupon-price"},[t._v(t._s(t.sku_coupon_price))]),t._v("元")],1)],1):t._e()],1),i("v-uni-view",{staticClass:"buy-stock"},[t._v("库存"+t._s(t.stock_num)+"件")]),t.specData&&t.specData.length>0?i("v-uni-view",{staticClass:"buy-spec"},[t._v("选择 "+t._s(t.selectSpec))]):t._e()],1)],1),i("v-uni-scroll-view",{staticClass:"buy-spec-list",style:{height:"calc("+t.buyMeunHeight+" - 370rpx)"},attrs:{"scroll-y":""}},[t.specData&&t.specData.length>0?[t._l(t.specData,function(n,e){return[i("v-uni-view",{key:e+"_0",staticClass:"buy-spec-item"},[i("v-uni-view",{staticClass:"spec-item-title"},[t._v(t._s(n.title))]),n.item.length>0?i("v-uni-view",{staticClass:"spec-items dis-flex flex-dir-row"},[t._l(n.item,function(n,a){return[i("v-uni-view",{key:a+"_0",staticClass:"spec-item",class:{active:n.checked,disabled:n.disabled},attrs:{"data-attr-idx":e,"data-item-idx":a,"data-item-check":n.checked,"data-item-disabled":n.disabled},on:{click:function(n){n=t.$handleEvent(n),t.modelTap(n)}}},[t._v(t._s(n.title))])]})],2):t._e()],1)]})]:t._e(),i("v-uni-view",{staticClass:"buy-number dis-flex flex-y-center flex-x-between"},[i("v-uni-view",{staticClass:"buyNumber f-28"},[i("v-uni-text",[t._v("购买数量")])],1),i("v-uni-view",{staticClass:"selectNumber dis-flex flex-y-center"},[i("v-uni-button",{staticClass:"default",class:[t.goods_num>1?"":" default-active"],attrs:{type:"default"},on:{click:function(n){n=t.$handleEvent(n),t.down(n)}}},[t._v("-")]),i("v-uni-input",{attrs:{type:"number",value:t.goods_num,disabled:""}}),i("v-uni-button",{staticClass:"default",class:{"default-active":t.goods_num>=t.stock_num||t.buy_limit>0&&t.goods_num>=t.user_limit_num},attrs:{disabled:t.goods_num>=t.stock_num||t.isMaxBuyLimit,type:"default"},on:{click:function(n){n=t.$handleEvent(n),t.up(n)}}},[t._v("+")])],1)],1)],2),i("v-uni-view",{staticClass:"buy-button-box dis-flex flex-y-center"},[t.isSelectSpec?["3"===t.goodsDetail["type"]&&"2"===t.groupBuyType?[i("v-uni-button",{staticClass:"buy-button join-btn",attrs:{disabled:0==t.stock_num||t.isMaxBuyLimit},on:{click:function(n){n=t.$handleEvent(n),t.btnClick("confirm")}}},[t._v(t._s(0==t.stock_num?"暂无库存":"去参团"))])]:[i("v-uni-button",{staticClass:"buy-button",attrs:{disabled:0==t.stock_num},on:{click:function(n){n=t.$handleEvent(n),t.btnClick("confirm")}}},[t._v(t._s(0==t.stock_num?"暂无库存":"确定"))])]]:[i("v-uni-button",{staticClass:"buy-button",attrs:{disabled:""}},[t._v("请选择商品规格")])]],2)],1)],1)],1)],1)},a=[];i.d(n,"a",function(){return e}),i.d(n,"b",function(){return a})},"4c9f":function(t,n){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAAh1BMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////9qkf8RAAAALHRSTlMA8fP6u+q1r355Ojcp5beojoRqVzEj4NTEop6TcVAsDwrbzL9kGgP1YUZAPBsYUD8AAAEqSURBVEjH7dPXjoNADEBR0yHUAAFCaKnb/P/ft1ECCwxjk+dV7iPS0eDRGN7N6+oqPPlGdo4u6UsgLQ0cK6rbGtiFKJTFvKhQUrFjxAGlKfRIe6TakGfQyf8tRiZfJq7IVkqIiXzeQjS4UvD6be0t4gZalRA2QG8cgSSE2AJAgY9OArHlIgKAAJ9pArGG76Y2gse/6NinCuSIzxLw1HGOqUBFIMOO1NCbXgRIEn843b0b7W9yE2lyxKG7adRe6MiQM06NN0zOkWi+HF/OZA7ikuPlQuk470MgKU5zZS/bAqF8vritjmLJyk4qC6F0IKYinwOLLrxQQVLOklpGrhojDiDNpYUFRD/UOSGQNQaxm0xtuQRZAnzfwkPx7RusttnmSp8Rfnbw7h/3C2mHnygOXCx0AAAAAElFTkSuQmCC"},5987:function(t,n){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAANlBMVEUAAACYmJiZmZmfn5+ZmZmampqZmZmYmJiZmZmXl5eZmZmXl5eZmZmZmZmYmJiZmZmYmJiZmZlFpFyMAAAAEXRSTlMAP/AQgDCg0OBgUCBwwJCwv4uapBMAAAKaSURBVHja7dzrbuQgDAVgcwmEkJvf/2W3UbdaKcxME9Aqxjrf71bqUQI2xCoBAAAAAAAAAAAAAAAAAMAt2Uz+r2QG6lGe/G75bA+zoY5M68jvbXOmHuTV8m9iciSc2fkSG0Q/FrPzdXKjuI3v8STSbPmuUeAe5gLXWEmYHLnOJmv/GizXipIq/mC5npWT5MihIYn7lGNZFu/9usRPSWRUFBffd1UD/WPmtz8YRaz4wC+NiQrZW34p0POmTzFKsxVa5F8vEH+7kXl8wQcu2Yk+SZZLOz0rcynmmu060aN2LkRXtdGN9CRTuZUOVth632rL9CDrkWQuTHRNevWrj/F8ttBVK59t9BjLZ7mlADl6yNDUasxy3q21/oEcopiOa2z7S5KUfWtobJgcn9EzZj6JrVXI0CNCa21OQlb72NqKZxldimtfqzKCGD4JnQaZ208Ui4ggnk9yp0GKL1PUaZAvg0k+LCPzYek4yA9nJu/n9g18pj45IZW9mRFzIGm0Cul+m43FOblPiZWs9Z1PZHwmab/Gj9QlZ5W8WRuf2D4331XW3W+1xDoeSOpgmKMyx9jjA0ks6iq+2tTDlNAFSezEwD1J8jTKDSvrWCCB5X2ZruA2qYMo97iIHJIMo5IcFjkkQQ5ZvnP0f0Z3UUc9p51LtsP+alXS705KcjjLhdjj5eim4zxIRkkO2pXkSDousIiihv3qi9Fwz3AIGi7iDlbHAqFJQaNIh6D1Q3p/J5BvTsuIhpEzxd/GK3mzKCiZYqJFxsR4u1HJ5ktKppiIur+P+6FiRkNTEKOljBgtZQRBpBm0BCE1QQAAAAAAfmPOem1/Wco/p0AQBBEKQaRBEGkQRBoEkQZBpEEQaRAEAAAAAAAAAAAAAADg//oDgW7FK3JPYnMAAAAASUVORK5CYII="},"6a8f":function(t,n,i){"use strict";var e=i("ae99"),a=i.n(e);a.a},"8eaf":function(t,n,i){"use strict";i.r(n);var e=i("de03"),a=i.n(e);for(var s in e)"default"!==s&&function(t){i.d(n,t,function(){return e[t]})}(s);n["default"]=a.a},a1ed:function(t,n,i){"use strict";i.r(n);var e=i("1389"),a=i.n(e);for(var s in e)"default"!==s&&function(t){i.d(n,t,function(){return e[t]})}(s);n["default"]=a.a},ae99:function(t,n,i){var e=i("ea34");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var a=i("4f06").default;a("1c963070",e,!0,{sourceMap:!1,shadowMode:!1})},c989:function(t,n,i){n=t.exports=i("2350")(!1),n.push([t.i,".successStatus[data-v-78dd1724]{color:#fa3f2b!important}.assemble[data-v-78dd1724]{font-size:0;overflow-x:hidden}uni-page-body[data-v-78dd1724]{background:#f8f8f8}.assembleImg[data-v-78dd1724]{width:%?750?%;height:%?258?%}.assembleImg>img[data-v-78dd1724]{z-index:1;width:%?750?%;height:%?258?%}.storeInfo[data-v-78dd1724]{margin:%?45?% auto 0 auto;width:%?690?%;background:#fff;border-radius:%?10?%}.assemblePackage[data-v-78dd1724]{position:absolute;top:0;width:%?750?%;border:1px solid rgba(0,0,0,0)}.storeInfoPackage[data-v-78dd1724]{padding:%?30?%}.storeInfoPackage>uni-view[data-v-78dd1724]{display:inline-block;vertical-align:top}.storeInfoImg[data-v-78dd1724]{width:%?170?%;height:%?170?%;border-radius:%?10?%;overflow:hidden}.storeInfoImg>img[data-v-78dd1724]{width:%?170?%;height:%?170?%}.ptStoreInfo[data-v-78dd1724]{margin-left:%?30?%;width:%?425?%}.ptStoreInfoTitle[data-v-78dd1724]{height:%?76?%}.ptStoreInfoTitle>span[data-v-78dd1724]{vertical-align:middle;font-size:%?28?%;color:#000}.ptStoreInfoTitle>uni-view[data-v-78dd1724]{display:inline-block;vertical-align:middle;width:%?122?%;height:%?30?%;border:%?1?% solid #f44;border-radius:%?4?%;overflow:hidden}.ptStoreInfoTitle>uni-view>uni-view[data-v-78dd1724]:first-child{width:%?30?%;height:%?30?%;background:#f44}.ptStoreInfoTitle>uni-view>uni-view:first-child>img[data-v-78dd1724]{width:%?30?%;height:%?30?%}.ptStoreInfoTitle>uni-view>uni-view[data-v-78dd1724]:nth-child(2){width:%?82?%;height:%?30?%;text-align:center}.ptStoreInfoTitle>uni-view>uni-view:nth-child(2)>span[data-v-78dd1724]{line-height:%?30?%;font-size:%?18?%;color:#f44}.ptStoreInfoTitle>uni-view>uni-view[data-v-78dd1724]{display:inline-block;vertical-align:middle}.ptStoreInfoBody[data-v-78dd1724]{margin-top:%?20?%}.ptStoreInfoBody>span[data-v-78dd1724]{font-size:%?24?%;font-weight:700;color:#fe504f}.ptStoreInfoFoot[data-v-78dd1724]{margin-top:%?10?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}.ptStoreInfoFoot>span[data-v-78dd1724]{font-size:%?24?%;font-weight:700;color:#999}.members[data-v-78dd1724]{margin:%?20?% auto 0 auto;width:%?690?%;background:#fff;border-radius:%?10?%}.membersImgMb[data-v-78dd1724]{display:inline-block;margin-top:%?20?%;width:20%;text-align:center}.membersImgMb>uni-view[data-v-78dd1724]{margin:auto;width:%?77?%;height:%?77?%;border-radius:50%;overflow:hidden}.membersImgMb>uni-view>img[data-v-78dd1724]{width:%?77?%;height:%?77?%}.membersImgMb1[data-v-78dd1724]{display:inline-block;margin-top:%?20?%;width:20%;text-align:center}.membersImgMb1>uni-view[data-v-78dd1724]{border:%?1?% dashed #ccc;margin:auto;width:%?77?%;height:%?77?%;border-radius:50%;overflow:hidden}.membersImgMb1>uni-view>img[data-v-78dd1724]{width:%?77?%;height:%?77?%}.membersTitle[data-v-78dd1724]{padding:0 %?30?%;margin-top:%?30?%;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.membersPackage[data-v-78dd1724]{border:1px solid rgba(0,0,0,0)}.membersBody[data-v-78dd1724]{margin-top:%?50?%;text-align:center}.membersBody>span[data-v-78dd1724]{font-size:%?28?%;font-weight:800;color:#333}.membersBody>span>span[data-v-78dd1724]{font-size:%?36?%;color:#f44}.membersBody>uni-view[data-v-78dd1724]{margin-top:%?50?%;margin:%?50?% 0 0 0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}.membersBody>uni-view>span[data-v-78dd1724]{vertical-align:top;font-size:%?24?%;color:#333}.line[data-v-78dd1724]{margin-top:%?17?%;vertical-align:top;width:%?153?%;height:%?1?%;background:#eee}.joinSubmit[data-v-78dd1724]{margin:%?50?% auto 0 auto;width:%?630?%;height:%?80?%;background:#fa3f2b;border-radius:%?40?%;text-align:center}.joinSubmit>span[data-v-78dd1724]{line-height:%?80?%;font-size:%?28?%;color:#fff}.membersFoot[data-v-78dd1724]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding:%?40?% %?50?%}.membersFoot>span[data-v-78dd1724]{font-size:%?24?%;color:#999}.joinRecord[data-v-78dd1724]{margin:%?20?% auto 0 auto;width:%?688?%;background:#fff;border-radius:%?10?%}.joinRecordPackage[data-v-78dd1724]{padding:%?20?% %?30?%}.joinRecordTitle[data-v-78dd1724]{text-align:center}.joinRecordTitle>span[data-v-78dd1724]{vertical-align:middle;font-size:%?30?%;font-weight:700;color:#fa3f2b}.joinRecordTitle>uni-view[data-v-78dd1724]{margin:0 %?20?%;display:inline-block;vertical-align:middle}.joinRecordTitle>uni-view>uni-view[data-v-78dd1724]{display:inline-block;vertical-align:middle}.smallLine[data-v-78dd1724]{margin-right:%?5?%;width:%?5?%;height:%?11?%;background:rgba(250,63,43,.5);border-radius:%?2?%;-webkit-transform:rotate(30deg);-ms-transform:rotate(30deg);transform:rotate(30deg)}.bigLine[data-v-78dd1724]{margin-top:%?3?%;width:%?7?%;height:%?16?%;background:#fa3f2b;border-radius:%?2?%;-webkit-transform:rotate(30deg);-ms-transform:rotate(30deg);transform:rotate(30deg)}.joinRecordBody[data-v-78dd1724]{margin-top:%?40?%}.jlMb[data-v-78dd1724]{margin-top:%?30?%;padding:0 %?30?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}.jlMb>uni-view[data-v-78dd1724]{vertical-align:middle;display:inline-block}.jlMbLeft[data-v-78dd1724]{vertical-align:middle}.jlMbLeft>uni-view[data-v-78dd1724]{display:inline-block;vertical-align:middle;width:%?60?%;height:%?60?%;border-radius:50%;overflow:hidden}.jlMbLeft>uni-view>img[data-v-78dd1724]{width:%?60?%;height:%?60?%}.jlMbLeft>span[data-v-78dd1724]{vertical-align:middle;margin-left:%?15?%;font-size:%?28?%;font-weight:700;color:#333}.jlMbRight[data-v-78dd1724]{vertical-align:middle}.jlMbRight>span[data-v-78dd1724]{line-height:%?60?%;font-size:%?24?%;font-weight:700;color:#999}.assembleStatus[data-v-78dd1724]{margin-top:%?50?%;text-align:center}.assembleStatus>uni-view>img[data-v-78dd1724]{vertical-align:middle;width:%?45?%;height:%?45?%}.assembleStatus>uni-view>span[data-v-78dd1724]{font-size:%?36?%;vertical-align:middle;font-weight:700;color:#fff}.full[data-v-78dd1724]{width:%?750?%;height:%?80?%}.popImg[data-v-78dd1724]{width:%?750?%}body.?%PAGE?%[data-v-78dd1724]{background:#f8f8f8}",""])},cd0a:function(t,n){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAAolBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8ELnaCAAAANXRSTlMA8carjWxY+N7Vu6WQYFUmDe3mlFxJMhXq4tnLv7SemohRIwHyz4J9ZllCQBsCtpyPg3MiEc5NW5cAAAFhSURBVEjH7ZRpc4IwEIYDAgLWC8UTQaReVXvv//9rDWVCwubAmX7qjM+nsDvPTJJ3A3nwd67TLFmNLd/uucO7hFnWBU4nbhV2HUDYF7NxAgVPJmMCSl71xgdo6OmMN9CyVht9MJCqjDkYeVEoG7MSycaQ9fa5cG9JXOc0lZS6RWdky9Yb2mCz4MsnEYPzqqVDl1N+Gv11benngBker0+QkgLnXDqVMQOOjRQbBDxaOJaJDy3gBEjxATul8QwCS6QsoMGxoLW8CyJjs9K50ZoLRsVXvRAPRBZIWWMjPmEHZ9lDxg5ggKZ7jxRh32FpWFA578L5kPLFjYImWOXRpw0HtHMZss71N/oKRxhLq8DKpX7n87Mwb6NPtjwQiYD1GgHy/EeyMgMjLlHgmAybKAn1xhJtq/2PsUIGHhuZiBsymcoI58REHGBh7JI23Ia0PHyTO8gnSRBZVrSy0/6NPPgv/AB5trSpWWTrfgAAAABJRU5ErkJggg=="},cfc6:function(t,n,i){"use strict";var e=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-uni-view",{staticClass:"assemble"},[e("v-uni-view",{staticClass:"assembleImg"},[e("img",{attrs:{src:i("8958")}})]),e("v-uni-view",{staticClass:"assemblePackage"},[1!==t.groupDetail.status?e("v-uni-view",{staticClass:"assembleStatus"},[2==t.groupDetail.status?e("v-uni-view",[e("img",{attrs:{src:i("4c9f")}}),e("span",[t._v("拼团成功")])]):t._e(),3==t.groupDetail.status?e("v-uni-view",[e("img",{attrs:{src:i("cd0a")}}),e("span",[t._v("拼团失败")])]):t._e()],1):t._e(),e("v-uni-view",{staticClass:"storeInfo"},[e("v-uni-view",{staticClass:"storeInfoPackage"},[e("v-uni-view",{staticClass:"storeInfoImg"},[e("img",{attrs:{src:t.groupDetail.goods.logo}})]),e("v-uni-view",{staticClass:"ptStoreInfo"},[e("v-uni-view",{staticClass:"ptStoreInfoTitle"},[e("v-uni-view",[e("v-uni-view",[e("img",{attrs:{src:""}})]),e("v-uni-view",[e("span",[t._v(t._s(t.groupDetail.goods.peoplenum)+"人团")])])],1),e("span",[t._v(t._s(t.groupDetail.goods.name))])],1),e("v-uni-view",{staticClass:"ptStoreInfoBody"},[e("span",[t._v("¥"+t._s(t.groupDetail.goods.price))])]),e("v-uni-view",{staticClass:"ptStoreInfoFoot"},[e("span",[t._v("¥"+t._s(t.groupDetail.goods.aloneprice))]),e("span",[t._v("已拼"+t._s(t.groupDetail.goods.realsalenum)+"件")])])],1)],1)],1),e("v-uni-view",{staticClass:"members"},[e("v-uni-view",{staticClass:"membersPackage"},[e("v-uni-view",{staticClass:"membersTitle"},[t._l(t.groupDetail.user,function(t,n){return e("v-uni-view",{staticClass:"membersImgMb"},[e("v-uni-view",[e("img",{attrs:{src:t.avatar}})])],1)}),2!=t.groupDetail.status?e("v-uni-view",{staticClass:"membersImgMb1"},[e("v-uni-view",[e("img",{attrs:{src:i("5987")}})])],1):t._e()],2),1==t.groupDetail.status?e("v-uni-view",{staticClass:"membersBody"},[e("span",[e("span",[t._v(t._s(t.groupDetail.neednum))]),t._v("人成团，还差"),e("span",[t._v(t._s(t.groupDetail.lacknum))]),t._v("人！")]),e("v-uni-view",[e("v-uni-view",{staticClass:"line"}),e("span",[t._v("剩余："+t._s(t.days)+" 天 "+t._s(t.hours)+" 时 "+t._s(t.minutes)+" 分 "+t._s(t.seconds)+" 秒")]),e("v-uni-view",{staticClass:"line"})],1)],1):t._e(),1==t.groupDetail.is_participate&&1==t.groupDetail.status?e("v-uni-view",{staticClass:"joinSubmit",on:{click:function(n){n=t.$handleEvent(n),t.showImg(n)}}},[e("span",[t._v("邀请好友拼团")])]):t._e(),0==t.groupDetail.is_participate&&1==t.groupDetail.status?e("v-uni-view",{staticClass:"joinSubmit",on:{click:function(n){n=t.$handleEvent(n),t.onToggleTrade(n)}}},[e("span",[t._v("我要参团")])]):t._e(),3!=t.groupDetail.status&&2!=t.groupDetail.status||1!=t.groupDetail.is_participate?t._e():e("v-uni-view",{staticClass:"joinSubmit",on:{click:function(n){n=t.$handleEvent(n),t.goOrder(n)}}},[e("span",[t._v("查看我的订单")])]),e("v-uni-view",{staticClass:"membersFoot"},[e("span",{class:[t.groupDetail.status<=3?"successStatus":""]},[t._v("下单开团/参团")]),e("span",{class:[t.groupDetail.status<=3?"successStatus":""]},[t._v(">")]),e("span",{class:[t.groupDetail.status<=3?"successStatus":""]},[t._v("邀请好友参加")]),e("span",{class:[t.groupDetail.status<=3?"successStatus":""]},[t._v(">")]),e("span",{class:[2==t.groupDetail.status?"successStatus":""]},[t._v("人满拼团成功")])])],1)],1),e("v-uni-view",{staticClass:"joinRecord"},[e("v-uni-view",{staticClass:"joinRecordPackage"},[e("v-uni-view",{staticClass:"joinRecordTitle"},[e("v-uni-view",[e("v-uni-view",{staticClass:"smallLine"}),e("v-uni-view",{staticClass:"bigLine"})],1),e("span",[t._v("拼团记录")]),e("v-uni-view",[e("v-uni-view",{staticClass:"smallLine"}),e("v-uni-view",{staticClass:"bigLine"})],1)],1),e("v-uni-view",{staticClass:"joinRecordBody"},t._l(t.groupDetail.user,function(n,i){return e("v-uni-view",{staticClass:"jlMb"},[e("v-uni-view",{staticClass:"jlMbLeft"},[e("v-uni-view",[e("img",{attrs:{src:n.avatar}})]),e("span",[t._v(t._s(n.nickname))])],1),e("v-uni-view",{staticClass:"jlMbRight"},[e("span",[t._v(t._s(n.createtime))])])],1)}),1)],1)],1),e("v-uni-view",{staticClass:"full"}),e("v-uni-view",{on:{click:function(n){n=t.$handleEvent(n),t.show=!1}}},[e("PopManager",{attrs:{show:t.show,type:t.top}},[e("img",{staticClass:"popImg",attrs:{src:i("1e33")}})])],1),e("GoodsBuyMenu",{ref:"goodsBuyMenu",attrs:{goodsDetail:t.dataInfo,goodsSpec:t.specData,groupBuyType:t.group_buy_type},on:{submit:function(n){n=t.$handleEvent(n),t.goodsSubmit(n)}}})],1)],1)},a=[];i.d(n,"a",function(){return e}),i.d(n,"b",function(){return a})},da04:function(t,n,i){"use strict";i.r(n);var e=i("2a244"),a=i("8eaf");for(var s in a)"default"!==s&&function(t){i.d(n,t,function(){return a[t]})}(s);i("6a8f");var o=i("2877"),d=Object(o["a"])(a["default"],e["a"],e["b"],!1,null,"ca069f42",null);n["default"]=d.exports},de03:function(t,n,i){"use strict";var e=i("288e");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e(i("5176"));i("7514"),i("6762"),i("2fdb");var s=e(i("a745")),o=e(i("75fc"));i("c5f6");e(i("3099"));var d=e(i("b696")),u={data:function(){return{showBuyMenu:!1,goods_price:"",goods_num:1,stock_num:0,buy_limit:0,user_limit_num:0,goods_sku_id:"",goods_spec_arr:[],sku_coupon_price:0,specData:[],image_path:null,skuItem:null,activityData:null}},props:{goodsSpec:{type:Array,default:function(){return null}},goodsDetail:{type:Object,default:function(){return null}},specDisabled:{type:Boolean,default:!1},groupBuyType:{type:String,default:""}},components:{PopupView:d.default},computed:{selectSpec:function(){var t=this.specData,n=[];return t&&t.length>0&&t.map(function(t){t.item.map(function(t){t.checked&&n.push(t.title)})}),n.join(" · ")},isSelectSpec:function(){if(this.goodsDetail)return!Number(this.goodsDetail.optionstatus>0)||this.goods_spec_arr.filter(function(t){return!!t}).length===this.specData.length},buyMeunHeight:function(){if(this.goodsDetail&&this.specData["list"])return Number(this.goodsDetail.optionstatus)>0?this.specData&&this.specData["list"]["length"]>1?"65vh":"50vh":"40vh"},hasGroups:function(){return this.goodsActivity&&this.goodsActivity.group_id},groupsType:function(){return"3"===this.goodsDetail.type&&"2"===this.groupBuyType},isShowJoinGroups:function(){return this.activityData&&1===this.activityData.is_show_groups&&this.activityData.groupsNumber>0},isMaxBuyLimit:function(){if(this.activityData){var t=this.limit_buy,n=this.surplus_quantity,i=this.activityData.buyNumber;if("string"===typeof i)return 10===t&&this.goods_num+Number(i)>=n}}},watch:{goodsSpec:function(t){var n;t&&t.length>0&&(n=this.specData).splice.apply(n,[0,t.length].concat((0,o.default)(t)))},goodsDetail:function(t){t&&this.initBuyMeunData(t)},groupBuyType:function(t){t&&this.updateSpecGoods()}},mounted:function(){},methods:{initBuyMeunData:function(t){var n=this,i={};if(i.goods_sku_id=t["spec"]?t["spec"]["info"][0]["id"]:"",i.goods_price=t["spec"]?n.groupsType?t["spec"]["info"][0]["price"]:t["spec"]["info"][0]["vipprice"]:t["price"],i.sku_coupon_price=t["spec"]?t["spec"]["info"][0]["vipprice"]:t["vipprice"],i.stock_num=t.stk,i.buy_limit=Number(t.buy_limit),i.user_limit_num=t.user_limit_num,i.image_path="5"===t.type?t.logo:t.thumbs[0],Number(t.optionstatus)>0&&t["spec"]["list"][0]["item"]["thumb"]&&(i.image_path=t["spec"]["list"][0]["item"]["thumb"]),Number(t.optionstatus)>0){var e=n.initManySpecData(this.specData),a=e.map(function(t){var n="";return t.item.map(function(t){t.checked&&(n=t.id)}),n});if(a.length>0){var s=t.spec.info.filter(function(t){return t.specs===a.join("_")});i.stock_num=s.length>0?s[0].stock:t.stk}i.specData=e}this.setData(i)},initManySpecData:function(t){for(var n in t)for(var i in t[n].item)i<1&&(t[n].item[0].checked=!0,this.goods_spec_arr.splice(n,1,t[n].item[0].id));return t},modelTap:function(t){var n=this,i=Number(t.currentTarget.dataset.attrIdx),e=Number(t.currentTarget.dataset.itemIdx),a=t.currentTarget.dataset.itemDisabled,s=t.currentTarget.dataset.itemCheck,o=null;n.specDisabled&&a||(o=n.specData[i].item.map(function(t,o){if(n.specDisabled?a||(t.checked=!s&&e===o,e===o&&n.goods_spec_arr.splice(i,1,t.signid)):t.checked=e===o,t.checked){var d=t.thumb?t.thumb:n.goodsDetail.thumbs[0];n.setData({image_path:d})}return e===o&&(n.goods_spec_arr.splice(i,1,t.checked?t.id:null),n.specDisabled&&n.filterDisabledSpec(t,i)),t}),n.$set(n.specData[i],"item",o),n.updateSpecGoods())},filterDisabledSpec:function(t,n){var i=this,e=i.goodsDetail.sku,a=i.specData,o=a.length,d=[];if((0,s.default)(a)&&(0,s.default)(e)){if(e.map(function(n){var i=n.is_use,e=(n.title,n.spec_sku_id),a=void 0===e?"":e;1!==o||i?!i&&a.includes(t.signid)&&d.push(a):d.push(a)}),1===o)return;a.map(function(t,e){var a=t.spec_item_list;e!==n&&a.map(function(t){var n=i.goods_spec_arr.map(function(t){return t});n[e]=t.signid,n=n.filter(function(t){return!!t}).join("_"),t.disabled=d.includes(n)})})}},updateSpecGoods:function(){var t=this.goods_spec_arr.join("_"),n=this.goodsDetail.spec?this.goodsDetail.spec.info:[],i=this.goodsDetail,e=(i.is_vip,i.discount_price,i.type),a=null;if(a=n.find(function(n){return n.specs==t}),"object"===typeof a)this.skuItem=a,this.setData({goods_sku_id:a.id,goods_price:"1"===this.groupBuyType?a.vipprice:a.price,stock_num:a.stock,goods_num:1,sku_coupon_price:a.vipprice});else if(void 0===a||""===a){this.skuItem?this.skuItem:n[0];"3"===e?(this.goods_price="2"===this.groupBuyType?this.goodsDetail["price"]:this.goodsDetail["aloneprice"],this.stock_num=this.stock_num):(this.goods_price=n[0].price,this.stock_num=n[0].stock)}},up:function(){var t=this.stock_num,n=this.buy_limit,i=this.user_limit_num;n>0&&this.goods_num>=i?uni.showToast({icon:"none",title:0===i?"购买数量已达上限":"您最多可购买".concat(i,"件商品")}):this.goods_num<t&&++this.goods_num},down:function(){this.goods_num>1&&--this.goods_num},btnClick:function(t){var n=this.goods_num,i=this.goods_sku_id,e="3"===this.goodsDetail.type&&"2"===this.groupBuyType?"1":"2",s={btnType:t,goods_num:n,goods_sku_id:i};"3"===this.goodsDetail.type&&(0,a.default)(s,{buystatus:e}),this.$emit("submit",s)},onToggleTrade:function(){this.showBuyMenu=!this.showBuyMenu}}};n.default=u},e064:function(t,n,i){"use strict";var e=i("095b"),a=i.n(e);a.a},ea34:function(t,n,i){n=t.exports=i("2350")(!1),n.push([t.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* 购买菜单 */.goods-buy-menu[data-v-ca069f42]{width:100vw;height:65vh;background:#fff;border-radius:%?12?% %?12?% 0 0;position:relative}.goods-buy-menu .icon-roundclose[data-v-ca069f42]{position:absolute;top:%?20?%;right:%?20?%;font-size:%?42?%;height:1em;width:1em;color:#999}.trade-main[data-v-ca069f42]{padding:%?20?%}.buy-info .buy-images uni-image[data-v-ca069f42]{width:%?180?%;height:%?180?%;display:block;border-radius:%?12?%}.buy-content[data-v-ca069f42]{margin-left:%?30?%;font-size:%?24?%}.buy-money[data-v-ca069f42]{font-size:%?40?%;color:#fe504f}.buy-money uni-text[data-v-ca069f42]{font-size:%?24?%}.buy-stock[data-v-ca069f42]{margin-top:%?20?%;color:#999}.buy-spec[data-v-ca069f42]{margin-top:%?24?%}.buy-spec-list[data-v-ca069f42]{margin-top:%?30?%;height:calc(65vh - %?336?%)}.buy-spec-item[data-v-ca069f42]{padding-bottom:%?30?%}.spec-item-title[data-v-ca069f42]{font-size:%?28?%;line-height:2em;margin-top:%?12?%}.spec-items[data-v-ca069f42]{-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.spec-items .spec-item[data-v-ca069f42]{font-size:%?26?%;white-space:nowrap;background:#f5f5f5;padding:%?12?% %?20?%;border-radius:%?12?%;color:#333;margin:%?20?% %?20?% 0 0;border:%?1?% solid rgba(0,0,0,0)}.spec-items .spec-item.active[data-v-ca069f42]{background:rgba(254,80,78,.3);color:#fe504f;border:%?1?% solid #fe504f}.spec-items .spec-item.disabled[data-v-ca069f42]{background:#f5f5f5;color:#d0d0d0}.buy-number[data-v-ca069f42]{margin:%?20?% 0}.buy-button-box[data-v-ca069f42]{position:absolute;left:0;right:0;bottom:0;height:%?140?%;background:#fff}.buy-button-box .buy-button[data-v-ca069f42]{color:#fff;border-radius:%?50?%;width:90%;margin:%?16?% 5% 0;background:#fe504f;font-size:%?28?%;line-height:2.8em}.buy-button-box .buy-button.join-btn[data-v-ca069f42]{background:#ffd940;color:#333}.member-price-label[data-v-ca069f42]{color:#333;height:0;line-height:%?30?%;border-width:%?0?% %?10?% %?30?% 0;border-style:none solid solid;border-color:rgba(0,0,0,0) #000 #efd68f;position:relative;left:%?10?%;padding-left:%?6?%;border-radius:%?4?% 0 0 %?4?%;margin-left:%?-10?%}.member-coupon-price[data-v-ca069f42]{color:#efd68f}.coupon-price-2[data-v-ca069f42]{padding:0 %?10?%;height:%?30?%;line-height:%?30?%;border-radius:0 %?4?% %?4?% 0}.member-coupon-view[data-v-ca069f42]{position:relative;margin-left:%?12?%;top:%?-6?%}.selectNumber uni-input[data-v-ca069f42]{text-align:center;width:%?100?%}",""])}}]);