(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-subPages-group-assemble-assemble"],{"36bf":function(t,i,e){"use strict";e.r(i);var a=e("944d"),o=e("8a71");for(var n in o)"default"!==n&&function(t){e.d(i,t,function(){return o[t]})}(n);e("7688");var s,d=e("f0c5"),r=Object(d["a"])(o["default"],a["b"],a["c"],!1,null,"7682c839",null,!1,a["a"],s);i["default"]=r.exports},7688:function(t,i,e){"use strict";var a=e("7e01"),o=e.n(a);o.a},"7e01":function(t,i,e){var a=e("ba56");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=e("4f06").default;o("fba36e58",a,!0,{sourceMap:!1,shadowMode:!1})},"8a71":function(t,i,e){"use strict";e.r(i);var a=e("d001"),o=e.n(a);for(var n in a)"default"!==n&&function(t){e.d(i,t,function(){return a[t]})}(n);i["default"]=o.a},"944d":function(t,i,e){"use strict";var a,o=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"assemble"},[e("v-uni-view",{staticClass:"assembleImg",style:{"background-image":"url("+t.imageSrc+")",height:t.phoneHight}},[e("v-uni-view",{staticClass:"assemblePackage"},[1!==t.groupDetail.status?e("v-uni-view",{staticClass:"assembleStatus"},[2==t.groupDetail.status?e("v-uni-view",[e("v-uni-image",{attrs:{src:"/static/images/merchant/zty.png"}}),e("span",[t._v("拼团成功")])],1):t._e(),3==t.groupDetail.status?e("v-uni-view",[e("v-uni-image",{attrs:{src:"/static/images/merchant/ztn.png"}}),e("span",[t._v("拼团失败")])],1):t._e()],1):t._e(),e("v-uni-view",{staticClass:"storeInfo",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.goGoods.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"storeInfoPackage"},[e("v-uni-view",{staticClass:"storeInfoImg"},[e("v-uni-image",{attrs:{src:t.groupDetail.goods.logo}})],1),e("v-uni-view",{staticClass:"ptStoreInfo"},[e("v-uni-view",{staticClass:"ptStoreInfoTitle"},[e("v-uni-view",[e("v-uni-view",[e("v-uni-image",{attrs:{src:"/static/images/merchant/ptt.png"}})],1),e("v-uni-view",[e("span",[t._v(t._s(t.groupDetail.goods.peoplenum)+"人团")])])],1),e("span",[t._v(t._s(t.groupDetail.goods.name))])],1),e("v-uni-view",{staticClass:"ptStoreInfoBody"},[e("span",[t._v("¥"+t._s(t.groupDetail.goods.price))])]),e("v-uni-view",{staticClass:"ptStoreInfoFoot"},[e("span",[t._v("¥"+t._s(t.groupDetail.goods.aloneprice))]),e("span",[t._v("已拼"+t._s(t.groupDetail.goods.realsalenum)+"件")])])],1)],1)],1),e("v-uni-view",{staticClass:"members"},[e("v-uni-view",{staticClass:"membersPackage"},[e("v-uni-view",{staticClass:"membersTitle"},[t._l(t.groupDetail.user,function(t,i){return e("v-uni-view",{staticClass:"membersImgMb"},[e("v-uni-view",[e("v-uni-image",{attrs:{src:t.avatar}})],1)],1)}),2!=t.groupDetail.status?e("v-uni-view",{staticClass:"membersImgMb1"},[e("v-uni-view",[e("v-uni-image",{attrs:{src:"/static/images/merchant/wh.png"}})],1)],1):t._e()],2),1==t.groupDetail.status?e("v-uni-view",{staticClass:"membersBody"},[e("span",[e("span",[t._v(t._s(t.groupDetail.neednum))]),t._v("人成团，还差"),e("span",[t._v(t._s(t.groupDetail.lacknum))]),t._v("人！")]),e("v-uni-view",[e("v-uni-view",{staticClass:"line"}),e("span",[t._v("剩余："+t._s(t.days)+" 天 "+t._s(t.hours)+" 时 "+t._s(t.minutes)+" 分 "+t._s(t.seconds)+" 秒")]),e("v-uni-view",{staticClass:"line"})],1)],1):t._e(),1==t.groupDetail.is_participate&&1==t.groupDetail.status?e("v-uni-view",{staticClass:"joinSubmit",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.showImg.apply(void 0,arguments)}}},[e("span",[t._v("邀请好友拼团")])]):t._e(),0==t.groupDetail.is_participate&&1==t.groupDetail.status?e("v-uni-view",{staticClass:"joinSubmit",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.onToggleTrade.apply(void 0,arguments)}}},[e("span",[t._v("我要参团")])]):t._e(),3!=t.groupDetail.status&&2!=t.groupDetail.status||1!=t.groupDetail.is_participate?t._e():e("v-uni-view",{staticClass:"joinSubmit",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.goOrder.apply(void 0,arguments)}}},[e("span",[t._v("查看我的订单")])]),e("v-uni-view",{staticClass:"membersFoot"},[e("span",{class:[t.groupDetail.status<=3?"successStatus":""]},[t._v("下单开团/参团")]),e("span",{class:[t.groupDetail.status<=3?"successStatus":""]},[t._v(">")]),e("span",{class:[t.groupDetail.status<=3?"successStatus":""]},[t._v("邀请好友参加")]),e("span",{class:[t.groupDetail.status<=3?"successStatus":""]},[t._v(">")]),e("span",{class:[2==t.groupDetail.status?"successStatus":""]},[t._v("人满拼团成功")])])],1)],1),e("v-uni-view",{staticClass:"joinRecord"},[e("v-uni-view",{staticClass:"joinRecordPackage"},[e("v-uni-view",{staticClass:"joinRecordTitle"},[e("v-uni-view",[e("v-uni-view",{staticClass:"smallLine"}),e("v-uni-view",{staticClass:"bigLine"})],1),e("span",[t._v("拼团记录")]),e("v-uni-view",[e("v-uni-view",{staticClass:"smallLine"}),e("v-uni-view",{staticClass:"bigLine"})],1)],1),e("v-uni-view",{staticClass:"joinRecordBody"},t._l(t.groupDetail.user,function(i,a){return e("v-uni-view",{staticClass:"jlMb"},[e("v-uni-view",{staticClass:"jlMbLeft"},[e("v-uni-view",[e("v-uni-image",{attrs:{src:i.avatar}})],1),e("span",[t._v(t._s(i.nickname))])],1),e("v-uni-view",{staticClass:"jlMbRight"},[e("span",[t._v(t._s(i.createtime))])])],1)}),1)],1)],1),e("v-uni-view",{staticClass:"full"}),e("v-uni-view",{on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.show=!1}}},[e("PopManager",{attrs:{show:t.show,type:t.top}},[e("v-uni-image",{staticClass:"popImg",attrs:{src:t.imageRoot+"share.png"}})],1)],1),e("GoodsBuyMenu",{ref:"goodsBuyMenu",attrs:{goodsDetail:t.dataInfo,goodsSpec:t.specData,groupBuyType:t.group_buy_type},on:{submit:function(i){arguments[0]=i=t.$handleEvent(i),t.goodsSubmit.apply(void 0,arguments)}}})],1)],1)],1)},n=[];e.d(i,"b",function(){return o}),e.d(i,"c",function(){return n}),e.d(i,"a",function(){return a})},ba56:function(t,i,e){i=t.exports=e("2350")(!1),i.push([t.i,".successStatus[data-v-7682c839]{color:#fa3f2b!important}.assemble[data-v-7682c839]{overflow-y:scroll;overflow-x:hidden}uni-page-body[data-v-7682c839]{background:#f8f8f8}.assembleImg[data-v-7682c839]{background-color:#f8f8f8;width:%?750?%;background-size:%?750?% auto;background-repeat:no-repeat}.storeInfo[data-v-7682c839]{z-index:2;margin:%?45?% auto 0 auto;width:%?690?%;background:#fff;border-radius:%?10?%}.assemblePackage[data-v-7682c839]{width:%?750?%;border:1px solid transparent}.storeInfoPackage[data-v-7682c839]{padding:%?30?%}.storeInfoPackage > uni-view[data-v-7682c839]{display:inline-block;vertical-align:top}.storeInfoImg[data-v-7682c839]{width:%?170?%;height:%?170?%;border-radius:%?10?%;overflow:hidden}.storeInfoImg > uni-image[data-v-7682c839]{width:%?170?%;height:%?170?%}.ptStoreInfo[data-v-7682c839]{margin-left:%?30?%;width:%?425?%}.ptStoreInfoTitle[data-v-7682c839]{height:%?76?%}.ptStoreInfoTitle > span[data-v-7682c839]{vertical-align:middle;font-size:%?28?%;color:#000}.ptStoreInfoTitle > uni-view[data-v-7682c839]{font-size:0;display:inline-block;vertical-align:middle;width:%?122?%;height:%?30?%;border:%?1?% solid #f44;border-radius:%?4?%;overflow:hidden}.ptStoreInfoTitle > uni-view > uni-view[data-v-7682c839]:nth-child(1){width:%?30?%;height:%?30?%;background:#f44}.ptStoreInfoTitle > uni-view > uni-view:nth-child(1) > uni-image[data-v-7682c839]{width:%?30?%;height:%?30?%}.ptStoreInfoTitle > uni-view > uni-view[data-v-7682c839]:nth-child(2){width:%?82?%;height:%?30?%;text-align:center}.ptStoreInfoTitle > uni-view > uni-view:nth-child(2) > span[data-v-7682c839]{line-height:%?30?%;font-size:%?18?%;color:#f44}.ptStoreInfoTitle > uni-view > uni-view[data-v-7682c839]{display:inline-block;vertical-align:middle}.ptStoreInfoBody[data-v-7682c839]{margin-top:%?20?%}.ptStoreInfoBody > span[data-v-7682c839]{font-size:%?24?%;font-weight:700;color:#fe504f}.ptStoreInfoFoot[data-v-7682c839]{margin-top:%?10?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.ptStoreInfoFoot > span[data-v-7682c839]{font-size:%?24?%;font-weight:700;color:#999}.members[data-v-7682c839]{margin:%?20?% auto 0 auto;width:%?690?%;background:#fff;border-radius:%?10?%}.membersImgMb[data-v-7682c839]{display:inline-block;margin-top:%?20?%;width:20%;text-align:center}.membersImgMb > uni-view[data-v-7682c839]{margin:auto;width:%?77?%;height:%?77?%;border-radius:50%;overflow:hidden}.membersImgMb > uni-view > uni-image[data-v-7682c839]{width:%?77?%;height:%?77?%}.membersImgMb1[data-v-7682c839]{display:inline-block;margin-top:%?20?%;width:20%;text-align:center}.membersImgMb1 > uni-view[data-v-7682c839]{border:%?1?% dashed #ccc;margin:auto;width:%?77?%;height:%?77?%;border-radius:50%;overflow:hidden}.membersImgMb1 > uni-view > uni-image[data-v-7682c839]{width:%?77?%;height:%?77?%}.membersTitle[data-v-7682c839]{padding:0 %?30?%;margin-top:%?30?%;-webkit-flex-wrap:wrap;flex-wrap:wrap}.membersPackage[data-v-7682c839]{border:1px solid transparent}.membersBody[data-v-7682c839]{margin-top:%?50?%;text-align:center}.membersBody > span[data-v-7682c839]{font-size:%?28?%;font-weight:800;color:#333}.membersBody > span > span[data-v-7682c839]{font-size:%?36?%;color:#f44}.membersBody > uni-view[data-v-7682c839]{margin-top:%?50?%;margin:%?50?% 0 0 0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.membersBody > uni-view > span[data-v-7682c839]{vertical-align:top;font-size:%?24?%;color:#333}.line[data-v-7682c839]{margin-top:%?17?%;vertical-align:top;width:%?153?%;height:%?1?%;background:#eee}.joinSubmit[data-v-7682c839]{margin:%?50?% auto 0 auto;width:%?630?%;height:%?80?%;background:#fa3f2b;border-radius:%?40?%;text-align:center}.joinSubmit > span[data-v-7682c839]{line-height:%?80?%;font-size:%?28?%;color:#fff}.membersFoot[data-v-7682c839]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;padding:%?40?% %?50?%}.membersFoot > span[data-v-7682c839]{font-size:%?24?%;color:#999}.joinRecord[data-v-7682c839]{margin:%?20?% auto 0 auto;width:%?688?%;background:#fff;border-radius:%?10?%}.joinRecordPackage[data-v-7682c839]{padding:%?20?% %?30?%}.joinRecordTitle[data-v-7682c839]{text-align:center}.joinRecordTitle > span[data-v-7682c839]{vertical-align:middle;font-size:%?30?%;font-weight:700;color:#fa3f2b}.joinRecordTitle > uni-view[data-v-7682c839]{margin:0 %?20?%;display:inline-block;vertical-align:middle}.joinRecordTitle > uni-view > uni-view[data-v-7682c839]{display:inline-block;vertical-align:middle}.smallLine[data-v-7682c839]{margin-right:%?5?%;width:%?5?%;height:%?11?%;background:rgba(250,63,43,.5);border-radius:%?2?%;-webkit-transform:rotate(30deg);transform:rotate(30deg)}.bigLine[data-v-7682c839]{margin-top:%?3?%;width:%?7?%;height:%?16?%;background:#fa3f2b;border-radius:%?2?%;-webkit-transform:rotate(30deg);transform:rotate(30deg)}.joinRecordBody[data-v-7682c839]{margin-top:%?40?%}.jlMb[data-v-7682c839]{margin-top:%?30?%;padding:0 %?30?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.jlMb > uni-view[data-v-7682c839]{vertical-align:middle;display:inline-block}.jlMbLeft[data-v-7682c839]{vertical-align:middle}.jlMbLeft > uni-view[data-v-7682c839]{display:inline-block;vertical-align:middle;width:%?60?%;height:%?60?%;border-radius:50%;overflow:hidden}.jlMbLeft > uni-view > uni-image[data-v-7682c839]{width:%?60?%;height:%?60?%}.jlMbLeft > span[data-v-7682c839]{vertical-align:middle;margin-left:%?15?%;font-size:%?28?%;font-weight:700;color:#333}.jlMbRight[data-v-7682c839]{vertical-align:middle}.jlMbRight > span[data-v-7682c839]{line-height:%?60?%;font-size:%?24?%;font-weight:700;color:#999}.assembleStatus[data-v-7682c839]{z-index:2;margin-top:%?115?%;text-align:center}.assembleStatus > uni-view > uni-image[data-v-7682c839]{vertical-align:middle;width:%?45?%;height:%?45?%}.assembleStatus > uni-view > span[data-v-7682c839]{font-size:%?36?%;vertical-align:middle;font-weight:700;color:#fff}.full[data-v-7682c839]{width:%?750?%;height:%?80?%}.popImg[data-v-7682c839]{width:%?750?%}body.?%PAGE?%[data-v-7682c839]{background:#f8f8f8}",""])},d001:function(t,i,e){"use strict";var a=e("288e");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var o=a(e("e814"));e("c5f6");var n=a(e("80bf")),s=(a(e("9401")),a(e("f7c1"))),d=a(e("de61")),r={components:{PopManager:s.default,GoodsBuyMenu:d.default},computed:{imageSrc:function(){return this.imageRoot+"assemBack.png"}},data:function(){return{phoneHight:null,group_id:"",id:null,orderid:null,groupDetail:{},days:0,hours:0,minutes:0,seconds:0,show:!1,top:"top",bottom:"bottom",show1:!1,goodsDetail:{},goods_id:null,goodsType:null,goods_num:1,goods_sku_id:"",dataInfo:{},specData:[],group_buy_type:null}},onLoad:function(t){this.id=t.id;var i=this;uni.getSystemInfo({success:function(t){i.phoneHight=t.windowHeight+"px"}}),void 0!==t.orderid&&(this.orderid=t.orderid),void 0==t.orderid&&(this.orderid=""),void 0!==t.group_id&&(this.group_id=t.group_id),void 0==t.group_id&&(this.group_id=""),this.init()},methods:{goGoods:function(){var t=this;n.default.navigationTo({url:"pages/mainPages/goods/index?type=3&id="+t.id})},init:function(){var t=this;t.getGroupDetail1(),t.getGoodsDetail()},goodsSubmit:function(t){var i=this,e=t.btnType,a=t.goods_num,o=t.goods_sku_id;i.goods_num=a,i.goods_sku_id=o,"confirm"===e&&i.submit()},initGoodsDetailData:function(t){var i=this;return t["comment"]&&!!t["comment"]["length"]>0&&t.comment.map(function(t){return t.createtime=i.$util.formatTime(t.createtime,"rule","-"),t.star=Number(t.star),t}),t.is_vip=Number(t.is_vip),t},onToggleTrade:function(){this.$refs.goodsBuyMenu.onToggleTrade()},showM:function(){var t=this;t.getGoodsDetail(),t.show1=!0},showImg:function(){var t=this;t.show=!0},getGoodsDetail:function(t,i){var e=this,a={id:e.id,type:3};n.default._post_form("&p=goods&do=getGoodsDetail",a,function(t){var i=e.initGoodsDetailData(t.data),a=i.spec?i.spec.list:null;e.setData({dataInfo:i,specData:a}),console.info(e.dataInfo),console.info(e.specData)},!1,function(){e.loadlogo=!1})},submit:function(){console.info(333333333);var t=this,i=t.dataInfo,e=Number(i.buy_limit)||"",a=i.user_limit_num||"";if(e>0&&a<=0)return console.info(555555555),void n.default.showError("购买数量已达上限");console.info(t.dataInfo),console.info(t.goods_id),console.info(t.goods_num),console.info(t.goods_sku_id),n.default.navigationTo({url:"pages/subPages/submitOrder/submitOrder?goods_id="+t.dataInfo.id+"&goods_num="+t.goods_num+"&specid="+(t.goods_sku_id||"")+"&plugin="+t.dataInfo.type+"&buystatus=1&group_id="+t.group_id,success:function(){t.onToggleTrade()}})},getGroupDetail1:function(){var t=this,i={order_id:t.orderid,group_id:t.group_id};n.default._post_form("&p=wlfightgroup&do=groupDetail",i,function(i){i.data.goods.name.length>22&&(i.data.goods.name=i.data.goods.name.slice(0,22)+"..."),t.groupDetail=i.data,t.group_id=i.data.group_id;var e=(new Date).getTime(),a=1e3*Number(i.data.failtime),n=(0,o.default)((a-e)/1e3),s=setInterval(function(){n--,t.days=(0,o.default)(n/86400),t.hours=(0,o.default)(n%86400/3600),t.minutes=(0,o.default)(n%3600/60),t.seconds=(0,o.default)(n%60),(0==n||n<0)&&(clearInterval(s),t.days="00",t.hours="00",t.minutes="00",t.seconds="00")},1e3)})},goOrder:function(){n.default.navigationTo({url:"pages/subPages/orderList/orderList"})}}};i.default=r}}]);