(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-subPages-receivingAddress-addReceivingAddress-addReceivingAddress"],{"0258":function(e,t,a){"use strict";a.r(t);var i=a("53a6"),s=a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);t["default"]=s.a},"53a6":function(e,t,a){"use strict";var i=a("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;i(a("4140")),i(a("9a9c"));var s={props:{userAddress:{type:Object,default:{}},show:""},data:function(){return{cityList:[],citylist:[],cityIndex:[0,0,0],returnData:{distidName:"",provinceidName:"",areaidName:"",provinceid:"",cityid:"",countyid:""}}},mounted:function(){this.cityList=uni.getStorageSync("cityList"),this.init()},watch:{userAddress:{handler:function(){var e=this;if(void 0==e.userAddress.provinceidName||""==e.userAddress.provinceidName){for(var t=0;t<e.cityList.length;t++)if(e.userAddress.provinceid==e.cityList[t].id){e.returnData.provinceidName=e.cityList[t].name;for(var a=0;a<e.cityList[t].area.length;a++)if(e.userAddress.cityid==e.cityList[t].area[a].id){e.returnData.areaidName=e.cityList[t].area[a].name;for(var i=0;i<e.cityList[t].area[a].dist.length;i++)e.userAddress.countyid==e.cityList[t].area[a].dist[i].id&&(e.returnData.distidName=e.cityList[t].area[a].dist[i].name)}}}else{e.returnData.provinceidName=e.userAddress.provinceidName,e.returnData.areaidName=e.userAddress.areaidName,e.returnData.distidName=e.userAddress.distidName;for(var s=0;s<e.cityList.length;s++)if(e.userAddress.provinceidName==e.cityList[s].name){e.returnData.provinceid=e.cityList[s].id;for(var r=0;r<e.cityList[s].area.length;r++)if(e.userAddress.areaidName==e.cityList[s].area[r].name){e.returnData.cityid=e.cityList[s].area[r].id;for(var d=0;d<e.cityList[s].area[r].dist.length;d++)e.userAddress.countyid==e.cityList[s].area[r].dist[d].id&&(e.returnData.countyid=e.cityList[s].area[r].dist[d].id)}}}},deep:!0}},methods:{init:function(){for(var e=this,t=[],a=[],i=[],s=0;s<e.cityList.length;s++)t.push(e.cityList[s]);e.citylist.push(t);for(var r=0;r<e.cityList[0].area.length;r++)a.push(e.cityList[0].area[r]);e.citylist.push(a);for(var d=0;d<e.cityList[0].area[0].dist.length;d++)i.push(e.cityList[0].area[0].dist[d]);e.citylist.push(i)},changeCity:function(e){var t=this,a=[],i=[];if(0==e.target.column){for(var s=0;s<t.cityList.length;s++)if(e.target.value==s)for(var r=0;r<t.cityList[s].area.length;r++)a.push(t.cityList[s].area[r]);t.citylist.splice(1,2,a),t.citylist.splice(2,3,a[0].dist)}if(1==e.target.column){for(var d=0;d<t.citylist[1].length;d++)if(e.target.value==d)for(var n=0;n<t.citylist[1][d].dist.length;n++)i.push(t.citylist[1][d].dist[n]);t.citylist.splice(2,3,i)}},checkCity:function(e){var t=this;t.returnData.provinceidName=t.citylist[0][e.target.value[0]].name,t.returnData.areaidName=t.citylist[1][e.target.value[1]].name,t.returnData.distidName=t.citylist[2][e.target.value[2]].name,t.returnData.provinceid=t.citylist[0][e.target.value[0]].id,t.returnData.cityid=t.citylist[1][e.target.value[1]].id,t.returnData.countyid=t.citylist[2][e.target.value[2]].id,t.$emit("returnData",t.returnData)}}};t.default=s},"65ac":function(e,t,a){"use strict";a.r(t);var i=a("b3cd"),s=a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);t["default"]=s.a},"6d6a":function(e,t,a){"use strict";a.r(t);var i=a("daee"),s=a("65ac");for(var r in s)"default"!==r&&function(e){a.d(t,e,function(){return s[e]})}(r);a("9e7e");var d,n=a("f0c5"),u=Object(n["a"])(s["default"],i["b"],i["c"],!1,null,"3023a3a4",null,!1,i["a"],d);t["default"]=u.exports},"754a":function(e,t,a){var i=a("ae44");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var s=a("4f06").default;s("787a6b22",i,!0,{sourceMap:!1,shadowMode:!1})},7731:function(e,t,a){"use strict";var i,s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"checkCity"},[a("v-uni-picker",{staticClass:"dataPicker",attrs:{mode:"multiSelector",range:e.citylist,value:e.cityIndex,"range-key":"name"},on:{columnchange:function(t){arguments[0]=t=e.$handleEvent(t),e.changeCity.apply(void 0,arguments)},change:function(t){arguments[0]=t=e.$handleEvent(t),e.checkCity.apply(void 0,arguments)}}},[""!==e.returnData.provinceidName?a("v-uni-view",{staticClass:"uni-input"},[e._v(e._s(e.returnData.provinceidName)+" "+e._s(e.returnData.areaidName)+" "+e._s(e.returnData.distidName))]):a("v-uni-view",{staticClass:"uni-input1"},[e._v("选择省市  区县")])],1)],1)},r=[];a.d(t,"b",function(){return s}),a.d(t,"c",function(){return r}),a.d(t,"a",function(){return i})},8879:function(e,t,a){"use strict";var i=a("afe1"),s=a.n(i);s.a},"9e7e":function(e,t,a){"use strict";var i=a("754a"),s=a.n(i);s.a},a11c:function(e,t,a){"use strict";a.r(t);var i=a("7731"),s=a("0258");for(var r in s)"default"!==r&&function(e){a.d(t,e,function(){return s[e]})}(r);a("8879");var d,n=a("f0c5"),u=Object(n["a"])(s["default"],i["b"],i["c"],!1,null,"2612e536",null,!1,i["a"],d);t["default"]=u.exports},ae44:function(e,t,a){t=e.exports=a("2350")(!1),t.push([e.i,".show[data-v-3023a3a4]{width:%?750?%;height:%?400?%;font-size:%?28?%}uni-page-body[data-v-3023a3a4]{background:#f0f0f0}.addReceivingAddress[data-v-3023a3a4]{font-size:0;background:#f0f0f0}.addInput[data-v-3023a3a4]{margin:%?20?% auto 0 auto;width:%?688?%;background:#fff;border-radius:%?10?%}.addInputPackage[data-v-3023a3a4]{padding:0 %?40?%}.inputDemo[data-v-3023a3a4]{height:%?80?%;border-bottom:1px solid #eee}.inputDemo>span[data-v-3023a3a4]{display:inline-block;line-height:%?80?%;vertical-align:middle;width:%?112?%;font-size:%?28?%;color:#333}.inputDemo>uni-input[data-v-3023a3a4]{font-size:%?24?%;color:#333;height:%?80?%;vertical-align:middle;width:%?300?%;display:inline-block;margin-left:%?60?%}uni-input[data-v-3023a3a4]::-webkit-input-placeholder{font-size:%?24?%;color:#999}uni-input[data-v-3023a3a4]::placeholder{font-size:%?24?%;color:#999}.inputDemo1[data-v-3023a3a4]{overflow:hidden;height:%?114?%}.inputDemo1>span[data-v-3023a3a4]{vertical-align:top;display:inline-block;line-height:%?80?%;width:%?112?%;font-size:%?28?%;color:#333}.inputDemo1>uni-textarea[data-v-3023a3a4]{margin-top:%?25?%;vertical-align:top;font-size:%?24?%;color:#333;height:%?70?%;vertical-align:middle;width:%?400?%;display:inline-block;margin-left:%?60?%}.setStatus[data-v-3023a3a4]{margin:%?15?% auto 0 auto;width:%?688?%;height:%?83?%;background:#fff;border-radius:%?10?%}.setStatus>span[data-v-3023a3a4]{vertical-align:middle;margin-left:%?17?%;line-height:%?83?%;font-size:%?24?%;color:#333}.check[data-v-3023a3a4]{margin-left:%?45?%;display:inline-block;vertical-align:middle;width:%?31?%;height:%?31?%;border:2px solid #ccc;border-radius:50%}.getWechatAddressButton[data-v-3023a3a4]{margin:%?35?% auto 0 auto;width:%?688?%;height:%?80?%;background:#00ba19;border-radius:%?40?%;text-align:center}.getWechatAddressButton>span[data-v-3023a3a4]{line-height:%?80?%;font-size:%?28?%;color:#fff}.saveButton[data-v-3023a3a4]{margin:%?20?% auto 0 auto;width:%?688?%;height:%?80?%;background:#f44;border-radius:%?40?%;text-align:center}.saveButton>span[data-v-3023a3a4]{line-height:%?80?%;font-size:%?28?%;color:#fff}.checked[data-v-3023a3a4]{margin-left:%?45?%;display:inline-block;vertical-align:middle;border:%?2?% solid #f44;width:%?31?%;height:%?31?%;background:#f44;border-radius:50%}.checked>uni-image[data-v-3023a3a4]{margin:%?3?% 0 0 %?4?%;width:%?25?%;height:%?25?%}body.?%PAGE?%[data-v-3023a3a4]{background:#f0f0f0}",""])},afe1:function(e,t,a){var i=a("c634");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var s=a("4f06").default;s("1f77c822",i,!0,{sourceMap:!1,shadowMode:!1})},b3cd:function(e,t,a){"use strict";var i=a("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(a("cebc")),r=i(a("4140")),d=i(a("9a9c")),n=i(a("a11c")),u={components:{checkCity:n.default},data:function(){return{resShow:{},phoneHight:null,userAddress:{id:"",name:"",tel:"",detailed_address:"",provinceidName:"",areaidName:"",distidName:"",status:0}}},onLoad:function(e){var t=this;d.default.wxRegister(),void 0!==e.id&&(this.userAddress.id=e.id,this.init()),uni.getSystemInfo({success:function(e){t.phoneHight=e.windowHeight+"px"}})},methods:{returnData:function(e){console.log(e);var t=this;t.userAddress=(0,s.default)({},t.userAddress,e)},init:function(){var e=this;e.addAddress()},saveAddress:function(){var e=this;if(""!=e.userAddress.name&&void 0!=e.userAddress.name)if(""!=e.userAddress.tel&&void 0!=e.userAddress.tel)if(""!=e.userAddress.provinceid&&void 0!=e.userAddress.provinceid)if(""!=e.userAddress.detailed_address&&void 0!=e.userAddress.detailed_address){var t=e.userAddress;r.default._post_form("&p=member&do=saveAddress",t,function(e){uni.navigateBack()})}else uni.showToast({icon:"none",title:"详细地址不能为空",duration:2e3});else uni.showToast({icon:"none",title:"请选择省市",duration:2e3});else uni.showToast({icon:"none",title:"收货人电话不能为空",duration:2e3});else uni.showToast({icon:"none",title:"收货人不能为空",duration:2e3})},getWxAddress:function(){var e=this,t=uni.getStorageSync("cityList");d.default.wxOpenAddress(function(a){e.userAddress.name=a.userName,e.userAddress.tel=a.telNumber,e.userAddress.detailed_address=a.detailInfo,e.userAddress.provinceidName=a.provinceName,e.userAddress.areaidName=a.cityName,e.userAddress.distidName=a.countryName;for(var i=0;i<t.length;i++)if(e.userAddress.provinceidName==t[i].name){e.userAddress.provinceid=t[i].id;for(var s=0;s<t[i].area.length;s++)if(e.userAddress.areaidName==t[i].area[s].name){e.userAddress.cityid=t[i].area[s].id;for(var r=0;r<t[i].area[s].dist.length;r++)e.userAddress.distidName==t[i].area[s].dist[r].name&&(e.userAddress.countyid=t[i].area[s].dist[r].id)}}e.userAddress.provinceid})},addAddress:function(){var e=this,t={id:e.userAddress.id};r.default._post_form("&p=member&do=addAddress",t,function(t){e.userAddress=(0,s.default)({},e.userAddress,t.data)})},changeAddressStatus:function(e){var t=this;t.userAddress.status=e}}};t.default=u},c634:function(e,t,a){t=e.exports=a("2350")(!1),t.push([e.i,".checkCity[data-v-2612e536]{vertical-align:middle;height:100%;margin-left:%?60?%;display:inline-block;width:70%}.uni-input[data-v-2612e536]{line-height:%?80?%;vertical-align:middle;width:100%;height:%?80?%;display:inline-block;font-size:%?24?%;font-family:SourceHanSansCN-Regular;color:#333}.uni-input1[data-v-2612e536]{line-height:%?80?%;color:#999;vertical-align:middle;width:100%;height:%?80?%;display:inline-block;font-size:%?24?%;font-family:SourceHanSansCN-Regular}",""])},daee:function(e,t,a){"use strict";var i,s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-scroll-view",{staticClass:"addReceivingAddress",style:{height:e.phoneHight},attrs:{"scroll-y":!0,"scroll-x":!1}},[a("v-uni-view",{staticClass:"addInput"},[a("v-uni-view",{staticClass:"addInputPackage"},[a("v-uni-view",{staticClass:"inputDemo"},[a("span",[e._v("收货人")]),a("v-uni-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.userAddress.name,callback:function(t){e.$set(e.userAddress,"name",t)},expression:"userAddress.name"}})],1),a("v-uni-view",{staticClass:"inputDemo"},[a("span",[e._v("手机号码")]),a("v-uni-input",{attrs:{placeholder:"请输入手机号码"},model:{value:e.userAddress.tel,callback:function(t){e.$set(e.userAddress,"tel",t)},expression:"userAddress.tel"}})],1),a("v-uni-view",{staticClass:"inputDemo"},[a("span",[e._v("省市")]),a("checkCity",{attrs:{userAddress:e.userAddress},on:{returnData:function(t){arguments[0]=t=e.$handleEvent(t),e.returnData.apply(void 0,arguments)}}})],1),a("v-uni-view",{staticClass:"inputDemo1"},[a("span",[e._v("详细地址")]),a("v-uni-textarea",{attrs:{placeholder:"如：道路、门牌号、小区、楼栋号、单元等",maxlength:"50"},model:{value:e.userAddress.detailed_address,callback:function(t){e.$set(e.userAddress,"detailed_address",t)},expression:"userAddress.detailed_address"}})],1)],1)],1),a("v-uni-view",{staticClass:"setStatus"},[1==e.userAddress.status?a("v-uni-view",{staticClass:"checked",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.changeAddressStatus(0)}}},[a("v-uni-image",{attrs:{src:"/static/images/merchant/payCheck.svg"}})],1):a("v-uni-view",{staticClass:"check",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.changeAddressStatus(1)}}}),a("span",[e._v("设为默认地址")])],1),a("v-uni-view",{staticClass:"getWechatAddressButton",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.getWxAddress.apply(void 0,arguments)}}},[a("span",[e._v("一键获取微信地址")])]),a("v-uni-view",{staticClass:"saveButton",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.saveAddress.apply(void 0,arguments)}}},[a("span",[e._v("保存")])])],1)},r=[];a.d(t,"b",function(){return s}),a.d(t,"c",function(){return r}),a.d(t,"a",function(){return i})}}]);