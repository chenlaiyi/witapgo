(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mainPages-payment-payment"],{"2a5d":function(a,t,i){"use strict";i.r(t);var e=i("f2a9"),n=i("5896");for(var s in n)"default"!==s&&function(a){i.d(t,a,function(){return n[a]})}(s);i("7061");var c=i("2877"),o=Object(c["a"])(n["default"],e["a"],e["b"],!1,null,"a7b38b0c",null);t["default"]=o.exports},"312d":function(a,t,i){t=a.exports=i("2350")(!1),t.push([a.i,"uni-page-body[data-v-a7b38b0c]{background:#fff!important;overflow-x:hidden}.payment[data-v-a7b38b0c]{font-size:0}.paymentPackage[data-v-a7b38b0c]{border:1px solid rgba(0,0,0,0)}.surplusTime[data-v-a7b38b0c]{margin-top:%?99?%;text-align:center}.surplusTime>span[data-v-a7b38b0c]{font-size:%?24?%;color:#999}.price[data-v-a7b38b0c]{margin-top:%?29?%;text-align:center}.price>span[data-v-a7b38b0c]{font-size:%?48?%;font-weight:700;color:#333}.price>span>span[data-v-a7b38b0c]{font-size:%?72?%}.goodsInfo[data-v-a7b38b0c]{text-align:center;width:%?367?%;margin:%?28?% auto 0 auto}.goodsInfo>span[data-v-a7b38b0c]{font-size:%?24?%;color:#999}.paymentTypePackage[data-v-a7b38b0c]{margin-top:%?60?%;padding:0 %?30?%}.paymentTypeList[data-v-a7b38b0c]{margin-top:%?39?%}.paymentTypeList>uni-view[data-v-a7b38b0c]{display:inline-block}.imgPackage[data-v-a7b38b0c]{vertical-align:top;width:%?45?%;height:%?50?%}.imgPackage>uni-image[data-v-a7b38b0c]{width:%?45?%;height:%?50?%}.inputPackage[data-v-a7b38b0c]{vertical-align:top;margin-left:%?38?%;width:%?600?%;border-bottom:1px solid #eee}.inputPackage1[data-v-a7b38b0c]{vertical-align:top;margin-left:%?38?%;width:%?600?%}.inputPackageLeftTitle[data-v-a7b38b0c]{font-size:%?28?%;color:#333}.inputPackageMain[data-v-a7b38b0c]{width:%?600?%;padding-bottom:%?40?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}.inputPackageMain>uni-view[data-v-a7b38b0c]{vertical-align:middle;display:inline-block}.inputPackageLeftBody[data-v-a7b38b0c]{margin-top:%?9?%;font-size:%?24?%;color:#999}.paySubmitPackage[data-v-a7b38b0c]{position:absolute;bottom:%?20?%}.paySubmit[data-v-a7b38b0c]{margin-left:%?60?%;width:%?630?%;height:%?80?%;background:#f44;border-radius:%?10?%;text-align:center}.paySubmit>span[data-v-a7b38b0c]{font-size:%?28?%;color:#fff;line-height:%?80?%}.inputPackageRight[data-v-a7b38b0c]{margin-top:%?20?%;width:%?40?%;height:%?40?%;border:%?1?% solid #ccc;border-radius:50%}.inputPackageRightCheck[data-v-a7b38b0c]{margin-top:%?20?%;width:%?40?%;height:%?40?%;background:#f44;border-radius:50%;text-align:center;overflow:hidden}.inputPackageRightCheck>uni-image[data-v-a7b38b0c]{margin-top:%?11?%;width:%?28?%;height:%?23?%}body.?%PAGE?%[data-v-a7b38b0c]{background:#fff!important}",""])},5896:function(a,t,i){"use strict";i.r(t);var e=i("80bf"),n=i.n(e);for(var s in e)"default"!==s&&function(a){i.d(t,a,function(){return e[a]})}(s);t["default"]=n.a},7061:function(a,t,i){"use strict";var e=i("76c1"),n=i.n(e);n.a},"76c1":function(a,t,i){var e=i("312d");"string"===typeof e&&(e=[[a.i,e,""]]),e.locals&&(a.exports=e.locals);var n=i("4f06").default;n("64304217",e,!0,{sourceMap:!1,shadowMode:!1})},"80bf":function(a,t,i){"use strict";var e=i("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=e(i("3099")),s=(e(i("9e9f")),{data:function(){return{time:"",type:1,orderid:"",payInfo:{},plugin:""}},onLoad:function(a){this.orderid=a.orderid,this.plugin=a.plugin,this.init()},methods:{init:function(){var a=this;a.getOrderInfo()},checkPay:function(a){var t=this;t.type=a},getOrderInfo:function(){var a=this,t={orderid:a.orderid||1645,plugin:a.plugin||"wlfightgroup"};n.default._post_form("&p=pay&do=getOrderInfo",t,function(t){if(a.payInfo=t.data,0==t.data.credit?0==t.data.wechat?a.type=3:a.type=2:a.type=1,void 0!==t.data.sytime&&0!=t.data.sytime)var i=setInterval(function(){a.payInfo.sytime--,a.time=a.payInfo.sytime;var t=Math.floor(a.time%3600);a.time=Math.floor(a.time/3600)+":"+Math.floor(t/60)+":"+a.time%60,0==a.payInfo.sytime&&clearInterval(i)},1e3);0==t.data.sytime&&(a.time="00:00:00")})},goPay:function(){var a=this,t=a.payInfo,i=a.type,e=1===i?"余额":2===i?"微信":"支付宝",s=n.default.getClientType(),c={order_no:t.tid,name:t.goodname,pay_type:i};1===i?uni.showModal({title:"温馨提示",content:"确认使用".concat(e,"方式付款"),success:function(e){e.confirm&&(uni.showLoading({title:"正在处理..."}),n.default._post_form("&p=pay&do=requestPay",c,function(e){1===i&&(1===e.data.status?n.default.showSuccess("支付成功",function(){n.default.navigationTo({url:"pages/mainPages/paySuccess/paySuccess?tid="+t.tid+"&plugin="+a.plugin,navType:"rediRect"})}):n.default.showError("支付失败",function(){n.default.navigationTo({url:"pages/mainPages/orderList/orderList?type=0"})}))},!1,function(){uni.hideLoading()}))}}):(uni.showLoading({title:"正在处理..."}),n.default._post_form("&p=pay&do=requestPay",c,function(t){2===i&&a.wechatPayment(t.data,s),3===i&&a.aliPayment(t.data)},!1,function(){uni.hideLoading()}))},aliPayment:function(a){console.log(a);var t=new this.$util.Base64,i=t.encode(a);n.default.navigationTo({url:"pages/mainPages/payment/pay?goto="+i})},wechatPayment:function(a,t){console.log(a,t);var i=this,e=a;"2"===t?location.href=e:"1"===t&&WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:e.appId,timeStamp:e.timeStamp,nonceStr:e.nonceStr,package:e.package,signType:e.signType,paySign:e.paySign},function(a){"get_brand_wcpay_request:ok"==a.err_msg?n.default.navigationTo({url:"pages/mainPages/paySuccess/paySuccess?tid="+i.payInfo.tid,navType:"rediRect"}):n.default.showError("支付失败",function(){n.default.navigationTo({url:"pages/mainPages/orderList/orderList?type=0",navType:"reLaunch"})})})}}});t.default=s},f2a9:function(a,t,i){"use strict";var e=function(){var a=this,t=a.$createElement,i=a._self._c||t;return i("v-uni-view",{staticClass:"payment"},[i("v-uni-view",{staticClass:"paymentPackage"},[0!==a.payInfo.sytime?i("v-uni-view",{staticClass:"surplusTime"},[i("span",[a._v("支付剩余时间 "+a._s(a.time))])]):a._e(),i("v-uni-view",{staticClass:"price"},[i("span",[a._v("￥"),i("span",[a._v(a._s(a.payInfo.price))])])]),i("v-uni-view",{staticClass:"goodsInfo"},[i("span",[a._v(a._s(a.payInfo.goodname))])]),i("v-uni-view",{staticClass:"paymentTypePackage"},[1==a.payInfo.credit?i("v-uni-view",{staticClass:"paymentTypeList",on:{click:function(t){t=a.$handleEvent(t),a.checkPay(1)}}},[i("v-uni-view",{staticClass:"imgPackage"},[i("v-uni-image",{attrs:{src:"/static/images/merchant/balancePay.svg"}})],1),i("v-uni-view",{staticClass:"inputPackage"},[i("v-uni-view",{staticClass:"inputPackageMain"},[i("v-uni-view",{staticClass:"inputPackageLeft"},[i("v-uni-view",{staticClass:"inputPackageLeftTitle"},[a._v("余额支付")]),i("v-uni-view",{staticClass:"inputPackageLeftBody"},[a._v("账户余额：￥"+a._s(a.payInfo.balance))])],1),1==a.type?i("v-uni-view",{staticClass:"inputPackageRightCheck"},[i("v-uni-image",{attrs:{src:"/static/images/merchant/payCheck.svg"}})],1):a._e(),1!==a.type?i("v-uni-view",{staticClass:"inputPackageRight"}):a._e()],1)],1)],1):a._e(),1==a.payInfo.wechat?i("v-uni-view",{staticClass:"paymentTypeList",on:{click:function(t){t=a.$handleEvent(t),a.checkPay(2)}}},[i("v-uni-view",{staticClass:"imgPackage"},[i("v-uni-image",{attrs:{src:"/static/images/merchant/wechatPay.svg"}})],1),i("v-uni-view",{staticClass:"inputPackage"},[i("v-uni-view",{staticClass:"inputPackageMain"},[i("v-uni-view",{staticClass:"inputPackageLeft"},[i("v-uni-view",{staticClass:"inputPackageLeftTitle"},[a._v("微信支付")]),i("v-uni-view",{staticClass:"inputPackageLeftBody"},[a._v("微信支付，安全快捷")])],1),2==a.type?i("v-uni-view",{staticClass:"inputPackageRightCheck"},[i("v-uni-image",{attrs:{src:"/static/images/merchant/payCheck.svg"}})],1):a._e(),2!==a.type?i("v-uni-view",{staticClass:"inputPackageRight"}):a._e()],1)],1)],1):a._e(),1==a.payInfo.alipay?i("v-uni-view",{staticClass:"paymentTypeList",on:{click:function(t){t=a.$handleEvent(t),a.checkPay(3)}}},[i("v-uni-view",{staticClass:"imgPackage"},[i("v-uni-image",{attrs:{src:"/static/images/merchant/payPal.svg"}})],1),i("v-uni-view",{staticClass:"inputPackage1"},[i("v-uni-view",{staticClass:"inputPackageMain"},[i("v-uni-view",{staticClass:"inputPackageLeft"},[i("v-uni-view",{staticClass:"inputPackageLeftTitle"},[a._v("支付宝支付")]),i("v-uni-view",{staticClass:"inputPackageLeftBody"},[a._v("简单、安全、快速")])],1),3==a.type?i("v-uni-view",{staticClass:"inputPackageRightCheck"},[i("v-uni-image",{attrs:{src:"/static/images/merchant/payCheck.svg"}})],1):a._e(),3!==a.type?i("v-uni-view",{staticClass:"inputPackageRight"}):a._e()],1)],1)],1):a._e()],1),i("v-uni-view",{staticClass:"paySubmitPackage"},[i("v-uni-view",{staticClass:"paySubmit",on:{click:function(t){t=a.$handleEvent(t),a.goPay(t)}}},[i("span",[a._v("确认支付")])])],1)],1)],1)},n=[];i.d(t,"a",function(){return e}),i.d(t,"b",function(){return n})}}]);