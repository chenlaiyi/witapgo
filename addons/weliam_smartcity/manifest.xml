<?xml version="1.0" encoding="utf-8"?>

<manifest xmlns="http://www.we7.cc" versionCode="0.8,1.0">

	<application setting="false">
		<name><![CDATA[智慧城市同城V4]]></name>
		<identifie><![CDATA[weliam_smartcity]]></identifie>
		<version><![CDATA[1.4.6]]></version>
		<type><![CDATA[biz]]></type>
		<ability><![CDATA[智慧城市同城V4]]></ability>
		<description><![CDATA[智慧城市同城V4]]></description>
		<author><![CDATA[朋克源码www.pekym.cn]]></author>
		<url><![CDATA[http://www.pekym.cn/]]></url>
	</application>

	<platform>
		<subscribes>
			<message type="subscribe" />
		</subscribes>

		<handles>
			<message type="text" />
			<message type="image" />
			<message type="voice" />
			<message type="location" />
			<message type="subscribe" />
			<message type="qr" />
			<message type="trace" />
			<message type="click" />
		</handles>

		<rule embed="false" />
		<card embed="false" />
		
		<supports>
		</supports>
        <plugins>
			<item name="weliam_smartcity_plugin_wxapp"/>
			<item name="weliam_smartcity_plugin_salesman"/>
			<item name="weliam_smartcity_plugin_diypage"/>
			<item name="weliam_smartcity_plugin_distribution"/>
			<item name="weliam_smartcity_plugin_citycard"/>
			<item name="weliam_smartcity_plugin_attestation"/>
			<item name="weliam_smartcity_plugin_bargain"/></plugins> 
        <plugin-main name="" />

	</platform>

	<bindings>

	</bindings>

	<permissions>
	</permissions>

	<install><![CDATA[
CREATE TABLE IF NOT EXISTS `ims_wlmerchant_activity_category` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL,
  `name` varchar(125) NOT NULL COMMENT '名称',
  `logo` varchar(255) NOT NULL COMMENT '图标',
  `sort` int(11) NOT NULL COMMENT '排序',
  `status` int(11) NOT NULL COMMENT '状态',
  `createtime` int(11) NOT NULL COMMENT '创建时间',
  PRIMARY KEY (`id`),
  KEY `idx_sort` (`sort`),
  KEY `idx_uniacid_aid_status` (`uniacid`,`aid`,`status`),
  KEY `idx_createtime` (`createtime`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_activity_record` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL,
  `status` int(11) NOT NULL COMMENT '状态 1待使用 2已核销',
  `sid` int(11) NOT NULL COMMENT '商户id',
  `activityid` int(11) NOT NULL COMMENT '活动id',
  `mid` int(11) NOT NULL COMMENT '用户id',
  `checkcode` varchar(145) NOT NULL COMMENT '验证码',
  `usetimes` int(11) NOT NULL COMMENT '剩余使用次数',
  `usedtime` text NOT NULL COMMENT '核销记录',
  `createtime` int(11) NOT NULL COMMENT '创建时间',
  `orderid` int(11) DEFAULT NULL COMMENT '订单id',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_activity_spec` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL COMMENT '公众号id',
  `activityid` int(11) NOT NULL COMMENT '活动id',
  `name` varchar(32) NOT NULL COMMENT '规格名',
  `price` decimal(10,2) NOT NULL COMMENT '价格',
  `minnum` int(11) NOT NULL COMMENT '最小人数',
  `maxnum` int(11) NOT NULL COMMENT '最大人数',
  `onedismoney` decimal(10,2) NOT NULL COMMENT '一级佣金',
  `twodismoney` decimal(10,2) NOT NULL COMMENT '二级佣金',
  `settlementmoney` decimal(10,2) NOT NULL COMMENT '结算佣金',
  `vipsettlementmoney` decimal(10,2) NOT NULL COMMENT '会员结算佣金',
  `viparray` text NOT NULL COMMENT '会员减免数组',
  `disarray` text NOT NULL COMMENT '分销佣金数组',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_activitylist` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL,
  `sid` int(11) NOT NULL COMMENT '商户id',
  `cateid` int(11) NOT NULL COMMENT '分类id',
  `status` int(11) NOT NULL COMMENT '状态 0下架中 1未开始报名 2报名中  3已结束 4被驳回 5待审核',
  `title` varchar(145) NOT NULL COMMENT '活动标题',
  `thumb` varchar(145) NOT NULL COMMENT '图片',
  `activestarttime` int(11) NOT NULL COMMENT '活动开始时间',
  `activeendtime` int(11) NOT NULL COMMENT '活动结束时间',
  `address` varchar(225) NOT NULL COMMENT '活动地址',
  `pv` int(11) NOT NULL COMMENT '活动浏览量',
  `sort` int(11) NOT NULL COMMENT '活动排序',
  `enrollstarttime` int(11) NOT NULL COMMENT '报名开始时间',
  `enrollendtime` int(11) NOT NULL COMMENT '报名结束时间',
  `maxpeoplenum` int(11) NOT NULL COMMENT '活动最大人数',
  `minpeoplenum` int(11) NOT NULL COMMENT '活动最小人数',
  `price` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '报名费',
  `vipstatus` int(11) NOT NULL COMMENT 'vip设置 0无 1特价 2特供',
  `vipprice` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT 'vip报名费',
  `settlementmoney` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '结算金额',
  `vipsettlementmoney` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT 'vip结算价',
  `isdistri` int(11) NOT NULL COMMENT '是否参与分销 1参与 0不参与',
  `onedismoney` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '一级分销',
  `twodismoney` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '二级分销',
  `threedismoney` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '三级分销',
  `threeurl` varchar(225) NOT NULL COMMENT '三方链接',
  `bgmusic` varchar(255) NOT NULL COMMENT '背景音乐',
  `enrolldetail` text NOT NULL COMMENT '报名须知',
  `detail` longtext NOT NULL COMMENT '活动详情',
  `share_title` varchar(32) NOT NULL COMMENT '分享标题',
  `share_desc` varchar(32) NOT NULL COMMENT '分享详情',
  `share_image` varchar(255) NOT NULL COMMENT '分享图片',
  `createtime` int(11) NOT NULL COMMENT '创建时间',
  `enrollnum` int(11) NOT NULL COMMENT '已经报名人数',
  `viponedismoney` decimal(10,2) NOT NULL COMMENT '一级佣金',
  `viptwodismoney` decimal(10,2) NOT NULL COMMENT '二级佣金',
  `vipthreedismoney` decimal(10,2) NOT NULL COMMENT '三级佣金',
  `addresstype` tinyint(1) NOT NULL COMMENT '0商户店内\n1其他地址',
  `lng` varchar(32) NOT NULL COMMENT '经度',
  `lat` varchar(32) NOT NULL COMMENT '纬度',
  `thumbs` text NOT NULL COMMENT '图集',
  `optionstatus` tinyint(1) NOT NULL COMMENT '是否多规格 0否 1是',
  `diyformid` int(11) NOT NULL COMMENT '自定义表单id',
  `advs` text NOT NULL COMMENT '幻灯片',
  `independent` int(11) NOT NULL COMMENT '是否独立结算 0是 1否',
  `dissettime` int(11) NOT NULL COMMENT '分销订单结算时间 0完成时结算 1支付时结算',
  `posterid` int(11) NOT NULL COMMENT '海报id',
  `onelimit` int(11) NOT NULL COMMENT '每个用户可报名数量',
  `viparray` text NOT NULL COMMENT '会员减免数组',
  `disarray` text NOT NULL COMMENT '分销商佣金数组',
  `isdistristatus` tinyint(1) NOT NULL COMMENT '分销设置方式：0 百分比 1固定金额',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid_aid_status` (`uniacid`,`id`,`status`),
  KEY `idx_sid` (`sid`),
  KEY `idx_sort` (`sort`),
  KEY `idx_createtime` (`createtime`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_address` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL,
  `mid` int(11) NOT NULL COMMENT '用户id',
  `status` int(11) NOT NULL COMMENT '状态 1默认',
  `name` varchar(125) NOT NULL COMMENT '收货人姓名',
  `tel` varchar(125) NOT NULL COMMENT '收货人电话',
  `province` varchar(45) NOT NULL COMMENT '省',
  `city` varchar(45) NOT NULL COMMENT '市',
  `county` varchar(45) NOT NULL COMMENT '县区',
  `detailed_address` text NOT NULL COMMENT '创建时间',
  `addtime` varchar(125) NOT NULL COMMENT '最后更新时间',
  `lng` varchar(32) NOT NULL COMMENT '所在位置经度',
  `lat` varchar(32) NOT NULL COMMENT '所在位置纬度',
  `housenumber` varchar(255) NOT NULL COMMENT '门牌号',
  PRIMARY KEY (`id`),
  KEY `idx_mid_uniacid` (`mid`,`uniacid`),
  KEY `idx_status` (`status`)
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_adv` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL,
  `advname` varchar(50) NOT NULL COMMENT '幻灯片名称',
  `link` varchar(255) NOT NULL COMMENT '幻灯片链接',
  `thumb` varchar(255) NOT NULL DEFAULT '' COMMENT '幻灯片图片',
  `displayorder` int(11) NOT NULL DEFAULT '0' COMMENT '排序',
  `enabled` tinyint(2) NOT NULL DEFAULT '0' COMMENT '1显示',
  `type` int(11) NOT NULL COMMENT '幻灯片类型 -1=首页，1=好店首页，2=卡卷首页，4=抢购首页，6=活动首页，7=团购首页，8=拼团首页，9=砍价首页，10=头条首页，11=名片首页',
  `cateid` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `idx_uniacid_aid_enabled` (`uniacid`,`aid`,`enabled`),
  KEY `idx_displayorder` (`displayorder`)
) ENGINE=InnoDB AUTO_INCREMENT=237 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_aftersale` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL,
  `mid` int(11) NOT NULL COMMENT '用户mid',
  `sid` int(11) NOT NULL COMMENT '商户id',
  `status` int(11) NOT NULL COMMENT '状态 1申请中 2处理中 3已驳回 4用户取消',
  `orderid` int(11) NOT NULL COMMENT '订单id',
  `orderno` varchar(145) NOT NULL COMMENT '订单号',
  `plugin` varchar(32) NOT NULL COMMENT '商品插件',
  `type` int(11) NOT NULL COMMENT '处理方式 1退款 2换货 3退货退款',
  `checkcodes` varchar(255) NOT NULL COMMENT '核销码编号',
  `reason` text NOT NULL COMMENT '申请原因',
  `detail` text NOT NULL COMMENT '详细描述',
  `reply` text NOT NULL COMMENT '店家回复',
  `thumbs` text NOT NULL COMMENT '上传图集',
  `createtime` int(11) NOT NULL COMMENT '创建时间',
  `dotime` int(11) NOT NULL COMMENT '操作时间',
  `journal` text NOT NULL COMMENT '日志',
  `num` int(11) DEFAULT NULL COMMENT '数量',
  PRIMARY KEY (`id`),
  KEY `idx_orderid` (`orderid`),
  KEY `idx_uniacid_status` (`uniacid`,`status`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_agentadmin` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL COMMENT '公众号id',
  `aid` int(11) NOT NULL COMMENT '代理id',
  `openid` varchar(100) NOT NULL,
  `mid` int(11) NOT NULL COMMENT '用户表id',
  `notice` int(11) NOT NULL COMMENT '通知权限 0无 1有',
  `manage` int(11) NOT NULL COMMENT '管理权限 0无 1有',
  `createtime` int(11) NOT NULL COMMENT '创建时间',
  `account` varchar(20) NOT NULL COMMENT '代理商员工登录账号',
  `password` varchar(32) NOT NULL COMMENT '代理商员工登录密码',
  `jurisdiction` text NOT NULL COMMENT '代理商员工的操作权限',
  `noticeauthority` text NOT NULL COMMENT '代理商员工接受通知内容权限',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_aid` (`aid`),
  KEY `idx_createtime` (`createtime`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_agentsetting` (
  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL,
  `key` varchar(64) NOT NULL COMMENT '设置项目',
  `value` longtext NOT NULL,
  PRIMARY KEY (`id`),
  KEY `idx_uniacid_aid` (`uniacid`,`aid`),
  KEY `idx_key` (`key`)
) ENGINE=InnoDB AUTO_INCREMENT=293 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_agentusers` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `uniacid` int(10) NOT NULL,
  `groupid` int(10) unsigned NOT NULL COMMENT '代理分组id',
  `agentname` varchar(64) NOT NULL COMMENT '代理名称',
  `username` varchar(32) NOT NULL COMMENT '代理账号',
  `password` varchar(64) NOT NULL COMMENT '账号密码',
  `salt` varchar(10) NOT NULL COMMENT '加密盐',
  `realname` varchar(32) NOT NULL COMMENT '联系人名称',
  `mobile` varchar(32) NOT NULL COMMENT '联系人电话',
  `status` tinyint(4) NOT NULL COMMENT '代理状态',
  `joindate` int(10) unsigned NOT NULL COMMENT '添加时间',
  `joinip` varchar(15) NOT NULL COMMENT '添加ip',
  `lastvisit` int(10) unsigned NOT NULL COMMENT '上次登录时间',
  `lastip` varchar(15) NOT NULL COMMENT '上次登录ip',
  `remark` varchar(500) NOT NULL COMMENT '备注',
  `starttime` int(10) unsigned NOT NULL COMMENT '有效期开始时间',
  `endtime` int(12) unsigned NOT NULL COMMENT '有效期结束时间',
  `type` tinyint(3) unsigned NOT NULL,
  `percent` varchar(200) NOT NULL COMMENT '提现手续费',
  `cashopenid` varchar(200) NOT NULL COMMENT '打款人openid',
  `allmoney` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '总计金额',
  `nowmoney` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '现有金额',
  `payment_type` tinyint(1) NOT NULL COMMENT '代理商收款方式(1=支付宝，2=微信，3=银行卡)',
  `bank_name` varchar(50) NOT NULL COMMENT '代理商银行卡开户行信息',
  `card_number` varchar(20) NOT NULL COMMENT '代理商银行卡账号信息\n',
  `alipay` varchar(20) NOT NULL COMMENT '代理商支付宝账号信息',
  `bank_username` varchar(20) NOT NULL COMMENT '代理商银行卡开户人的姓名',
  `wxmerchantid` int(11) NOT NULL COMMENT '微信端分账商户id',
  `wxmerchantname` varchar(500) NOT NULL COMMENT '微信端分账商户名称',
  `wxallmid` int(11) NOT NULL COMMENT '微信端分账个人用户mid',
  `appmerchantid` int(11) NOT NULL COMMENT '小程序端分账商户id',
  `appmerchantname` varchar(500) NOT NULL COMMENT '小程序端分账商户名称',
  `appallmid` int(11) NOT NULL COMMENT '小程序端分账用户mid',
  `wxsysalltype` int(11) NOT NULL COMMENT '微信端分账账号类型 1商户 2个人',
  `appsysalltype` int(11) NOT NULL COMMENT '小程序端分账账号类型 1商户 2个人',
  `wxpaysetid` int(11) NOT NULL COMMENT '微信公众号支付信息id',
  `apppaysetid` int(11) NOT NULL COMMENT '微信小程序支付信息id',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid_status` (`uniacid`,`status`),
  KEY `idx_username` (`username`),
  KEY `idx_starttime` (`starttime`)
) ENGINE=InnoDB AUTO_INCREMENT=431 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_agentusers_group` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `uniacid` int(10) unsigned NOT NULL,
  `name` varchar(50) NOT NULL COMMENT '分组名称',
  `package` varchar(5000) NOT NULL COMMENT '开启权限',
  `isdefault` int(2) unsigned NOT NULL COMMENT '是否默认',
  `enabled` int(2) unsigned NOT NULL COMMENT '是否开启',
  `createtime` int(11) unsigned NOT NULL COMMENT '创建时间',
  PRIMARY KEY (`id`),
  KEY `idx_createtime` (`createtime`)
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_apirecord` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `sendmid` int(11) NOT NULL COMMENT '发送人mid  -1指系统',
  `sendmobile` varchar(15) NOT NULL COMMENT '发送的手机号',
  `takemid` int(11) NOT NULL COMMENT '获取短信人mid',
  `takemobile` varchar(15) NOT NULL COMMENT '获取短信的手机号',
  `type` smallint(2) NOT NULL COMMENT '类型',
  `remark` varchar(32) NOT NULL COMMENT '备注',
  `createtime` int(11) NOT NULL COMMENT '创建时间',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`)
) ENGINE=InnoDB AUTO_INCREMENT=269 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_applydistributor` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL,
  `mid` int(11) NOT NULL COMMENT '申请人MID',
  `realname` text NOT NULL COMMENT '申请人姓名',
  `mobile` varchar(100) NOT NULL COMMENT '申请人电话',
  `status` int(11) NOT NULL COMMENT '申请状态 0待审核 1已通过 2被驳回',
  `createtime` varchar(145) NOT NULL COMMENT '申请时间',
  `reason` text NOT NULL COMMENT '驳回原因',
  `rank` int(11) NOT NULL COMMENT '申请层级',
  `leadid` int(11) NOT NULL DEFAULT '-1' COMMENT '邀请人id',
  PRIMARY KEY (`id`),
  KEY `idx_createtime` (`createtime`),
  KEY `idx_uniacid_status` (`uniacid`,`status`)
) ENGINE=InnoDB AUTO_INCREMENT=106 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_appointlist` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL,
  `orderid` int(11) NOT NULL COMMENT '订单id',
  `mid` int(11) NOT NULL COMMENT '用户mid',
  `sid` int(11) NOT NULL COMMENT '商户id',
  `type` int(11) NOT NULL COMMENT '类型 1抢购 2团购 3拼团 5卡券 7砍价 4家政',
  `goodid` int(11) NOT NULL COMMENT '商品id',
  `num` int(11) NOT NULL COMMENT '预约数量',
  `date` varchar(32) NOT NULL COMMENT '日期',
  `starttime` varchar(32) NOT NULL COMMENT '开始时间',
  `endtime` varchar(32) NOT NULL COMMENT '结束时间',
  `status` int(11) NOT NULL COMMENT '预约状态 0申请中 1已预约  2已驳回 3用户已取消 4商户已取消',
  `appointtime` int(11) NOT NULL COMMENT '预约时间',
  `reason` varchar(255) NOT NULL COMMENT '驳回原因',
  `sorderids` varchar(255) NOT NULL COMMENT '核销码id集',
  `orderno` varchar(32) NOT NULL COMMENT '订单编号',
  `dotime` int(11) NOT NULL COMMENT '操作时间',
  `starttimestamp` int(11) NOT NULL COMMENT '开始时间戳',
  `endtimestamp` int(11) NOT NULL COMMENT '结束时间时间戳',
  `remark` text NOT NULL COMMENT '备注',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_area` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `pid` int(11) unsigned NOT NULL COMMENT '上级地区的id\n',
  `name` varchar(50) NOT NULL COMMENT '地区名称',
  `visible` tinyint(4) unsigned NOT NULL COMMENT '状态',
  `displayorder` int(11) NOT NULL,
  `level` tinyint(3) unsigned NOT NULL COMMENT '地区级别',
  `lat` varchar(16) NOT NULL COMMENT '经度',
  `lng` varchar(16) NOT NULL COMMENT '纬度',
  `pinyin` varchar(32) NOT NULL COMMENT '拼音',
  `initial` varchar(2) NOT NULL COMMENT '首字母',
  PRIMARY KEY (`id`),
  KEY `idx_visible` (`visible`),
  KEY `idx_pid` (`pid`),
  KEY `idx_displayorder` (`displayorder`)
) ENGINE=InnoDB AUTO_INCREMENT=620200404 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_areagroup` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `name` varchar(50) NOT NULL COMMENT '地区分组名称',
  `sort` int(11) NOT NULL COMMENT '排序',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_sort` (`sort`)
) ENGINE=InnoDB AUTO_INCREMENT=17 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_attachment` (
  `id` int(20) unsigned NOT NULL AUTO_INCREMENT COMMENT 'ID',
  `uniacid` int(11) NOT NULL,
  `aid` int(10) unsigned DEFAULT '0' COMMENT '代理商id',
  `shop_id` int(10) unsigned DEFAULT '0' COMMENT '商户id',
  `group_id` int(10) DEFAULT '0' COMMENT '文件分组id',
  `name` varchar(255) DEFAULT NULL COMMENT '附件名称',
  `url` varchar(255) NOT NULL COMMENT '图片名称(图片地址)',
  `imagewidth` varchar(10) DEFAULT NULL COMMENT '宽度',
  `imageheight` varchar(10) DEFAULT NULL COMMENT '高度',
  `suffix` char(10) NOT NULL COMMENT '文件后缀',
  `filesize` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '文件大小',
  `mimetype` varchar(100) NOT NULL COMMENT 'mime类型',
  `uploadtime` int(10) DEFAULT NULL COMMENT '上传时间',
  `storage` varchar(100) NOT NULL DEFAULT '0' COMMENT '存储位置：0=本地;1=FTP服务器;2=阿里云;3=七牛云存储;4=腾讯云存储',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=279 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_attachment_group` (
  `id` int(20) unsigned NOT NULL AUTO_INCREMENT COMMENT 'ID',
  `uniacid` int(11) DEFAULT NULL,
  `aid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '代理商id',
  `shop_id` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '商户id',
  `type` tinyint(1) unsigned NOT NULL DEFAULT '1' COMMENT '分组类型:1=图片,2=视频,3=文件',
  `name` varchar(50) NOT NULL COMMENT '分组名称',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_attestation_list` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL COMMENT '公众号id\n',
  `mid` int(11) NOT NULL COMMENT '申请人id',
  `storeid` int(11) NOT NULL COMMENT '店铺id',
  `type` tinyint(1) NOT NULL COMMENT '类型 1个人认证 2商户认证',
  `cardnum` varchar(64) NOT NULL COMMENT '身份证号或营业执照号',
  `pic` text NOT NULL COMMENT '素材图片',
  `createtime` int(11) NOT NULL COMMENT '创建时间',
  `status` tinyint(1) NOT NULL COMMENT '状态 1开启 0关闭',
  `updatetime` int(11) NOT NULL COMMENT '修改时间',
  `checkstatus` int(11) NOT NULL COMMENT '审核状态 1待审核 2已审核 3被驳回',
  `aid` int(11) DEFAULT '0',
  `moreinfo` text NOT NULL COMMENT '更多信息',
  `subjectname` varchar(255) NOT NULL COMMENT '主体名称',
  `atttel` varchar(32) NOT NULL COMMENT '认证电话',
  `remake` varchar(355) NOT NULL COMMENT '驳回原因',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_attestation_money` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL COMMENT '公众号id',
  `status` int(11) NOT NULL COMMENT '状态 0未交费 1已缴费',
  `mid` int(11) NOT NULL COMMENT '用户mid',
  `storeid` int(11) NOT NULL COMMENT '商户mid',
  `type` int(11) NOT NULL COMMENT '保证金类型 1个人 2商户',
  `money` decimal(10,2) NOT NULL COMMENT '保证金金额',
  `orderno` varchar(145) NOT NULL COMMENT '订单编号',
  `transid` varchar(145) NOT NULL COMMENT '三方单号',
  `createtime` int(11) NOT NULL COMMENT '创建时间',
  `paytime` int(11) NOT NULL COMMENT '支付时间',
  `paytype` int(11) NOT NULL COMMENT '支付方式 1余额 2微信 3支付宝',
  `refundflag` int(11) NOT NULL COMMENT '退款标志 1已退款 0未退款',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_autosettlement_record` (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '记录id\n',
  `uniacid` int(11) NOT NULL COMMENT '公众号id',
  `aid` int(11) NOT NULL COMMENT '代理id',
  `type` int(11) NOT NULL COMMENT '类型 1抢购 2拼团 3卡券 4一卡通订单 5掌上信息 6付费入驻  7提现或驳回 8分销付费申请 9商户活动 10团购 -1后台修改',
  `merchantid` int(11) NOT NULL COMMENT '商户id',
  `orderid` int(11) NOT NULL COMMENT '订单id',
  `orderno` varchar(145) NOT NULL COMMENT '订单编号',
  `goodsid` int(11) NOT NULL COMMENT '商品id',
  `orderprice` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '订单实际金额',
  `agentmoney` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '代理收入',
  `merchantmoney` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '商户结算收入',
  `distrimoney` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '给分销商的金额',
  `createtime` int(11) NOT NULL COMMENT '创建时间',
  `merchantnowmoney` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '修改后商户现有金额',
  `agentnowmoney` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '修改后代理现有金额',
  `specialstatus` int(11) NOT NULL COMMENT '特殊状态 0正常订单 1过期订单',
  `sharemoney` decimal(10,2) NOT NULL COMMENT '分享分佣金额',
  `checkcode` int(11) NOT NULL COMMENT '结算验证码',
  `salesmoney` decimal(10,2) NOT NULL COMMENT '业务员佣金',
  `sysmoney` decimal(10,2) NOT NULL COMMENT '系统抽佣',
  `allocationtype` int(11) NOT NULL COMMENT '分账方式 0系统平台 1服务商分账',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_aid` (`aid`),
  KEY `idx_merchantid` (`merchantid`),
  KEY `idx_type` (`type`)
) ENGINE=InnoDB AUTO_INCREMENT=193 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_banner` (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '唯一标识',
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL,
  `name` varchar(32) NOT NULL COMMENT '广告名称',
  `link` varchar(255) NOT NULL COMMENT '广告链接',
  `thumb` varchar(255) NOT NULL COMMENT '广告图片',
  `displayorder` int(11) NOT NULL COMMENT '排序',
  `enabled` int(11) NOT NULL COMMENT '状态 1显示 0隐藏',
  `visible_level` varchar(145) NOT NULL COMMENT '1强制推广',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid_aid` (`uniacid`,`aid`),
  KEY `idx_displayorder` (`displayorder`)
) ENGINE=InnoDB AUTO_INCREMENT=24 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_bargain_activity` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL,
  `name` varchar(50) NOT NULL COMMENT '商品名称',
  `status` int(11) NOT NULL COMMENT '活动状态 0下架中 1未开始 2进行中 3已结束 5待审核 6未通过',
  `cateid` int(11) NOT NULL COMMENT '分类id',
  `sid` int(11) NOT NULL COMMENT '商户id',
  `oldprice` decimal(10,2) NOT NULL COMMENT '商品原价',
  `price` decimal(10,2) NOT NULL COMMENT '商品底价',
  `vipprice` decimal(10,2) NOT NULL COMMENT '会员底价',
  `submitmoneylimit` decimal(10,2) NOT NULL COMMENT '允许提交订单的金额',
  `starttime` int(11) NOT NULL COMMENT '活动开始时间',
  `endtime` int(11) NOT NULL COMMENT '活动结束时间',
  `helplimit` int(11) NOT NULL COMMENT '好友帮砍限制数量',
  `dayhelpcount` int(11) NOT NULL COMMENT '每天帮砍好友人数限制',
  `joinlimit` int(11) NOT NULL COMMENT '参加人数限制',
  `falsejoinnum` int(11) NOT NULL COMMENT '虚拟参与人数',
  `falselooknum` int(11) NOT NULL COMMENT '虚拟浏览量',
  `falsesharenum` int(11) NOT NULL COMMENT '虚拟分享次数',
  `code` varchar(50) NOT NULL COMMENT '商品编号',
  `thumb` varchar(255) NOT NULL COMMENT '海报图片',
  `thumbs` text NOT NULL COMMENT '幻灯片',
  `unit` varchar(45) NOT NULL COMMENT '商品单位',
  `bgmusic` varchar(255) NOT NULL COMMENT '背景音乐',
  `detail` longtext NOT NULL COMMENT '商品详情',
  `rules` text NOT NULL COMMENT '砍价规则',
  `vipstatus` int(11) NOT NULL COMMENT '会员设置',
  `share_image` varchar(255) NOT NULL COMMENT '分享图片',
  `share_title` varchar(1000) NOT NULL COMMENT '分享标题',
  `share_desc` varchar(1000) NOT NULL COMMENT '分享描述',
  `settlementmoney` decimal(10,2) NOT NULL COMMENT '一般结算价格',
  `vipsettlementmoney` decimal(10,2) NOT NULL COMMENT '会员结算价格',
  `isdistri` int(11) NOT NULL COMMENT '是否参与分销',
  `onedismoney` decimal(10,2) NOT NULL COMMENT '普通一级分销金额',
  `twodismoney` decimal(10,2) NOT NULL COMMENT '普通二级分销金额',
  `viponedismoney` decimal(10,2) NOT NULL COMMENT '会员一级分销金额',
  `viptwodismoney` decimal(10,2) NOT NULL COMMENT '会员二级分销金额',
  `userlabel` text NOT NULL COMMENT '用户标签',
  `stock` int(11) NOT NULL COMMENT '商品库存',
  `sort` int(11) NOT NULL COMMENT '商品排序',
  `pv` int(11) NOT NULL COMMENT '真实浏览量',
  `sharenum` int(11) NOT NULL COMMENT '真实分享数',
  `usestatus` int(11) NOT NULL COMMENT '消费方式',
  `expressid` int(11) NOT NULL COMMENT '运费模板id',
  `independent` int(11) NOT NULL COMMENT '独立结算金额',
  `createtime` int(11) NOT NULL COMMENT '创建时间',
  `allowapplyre` int(11) NOT NULL COMMENT '是否允许退款 0允许 1不允许',
  `level` text NOT NULL COMMENT '适用会员等级',
  `onlytimes` int(11) NOT NULL COMMENT '单个用户可以砍价次数',
  `dissettime` int(11) NOT NULL COMMENT '结算时间',
  `diyposter` int(11) NOT NULL COMMENT '自定义海报id',
  `overrefund` tinyint(1) NOT NULL COMMENT '过期退款',
  `cutoffstatus` int(11) NOT NULL COMMENT '消费截止时间方式 1固定时间 2购买后天数',
  `cutofftime` int(11) NOT NULL COMMENT '固定时间',
  `cutoffday` int(11) NOT NULL COMMENT '购买后天数',
  `describe` text NOT NULL COMMENT '购买须知',
  `integral` int(11) NOT NULL COMMENT '赠送积分',
  `creditmoney` decimal(10,2) NOT NULL COMMENT '抵扣金额',
  `appointment` int(11) NOT NULL COMMENT '提前预约',
  `is_indexshow` int(11) NOT NULL COMMENT '是否首页显示',
  `tag` text NOT NULL COMMENT '标签',
  `falseorder` text NOT NULL COMMENT '虚拟订单',
  `communityid` int(11) NOT NULL COMMENT '社群id',
  `share_wxapp_image` varchar(250) DEFAULT NULL COMMENT '小程序分享图片',
  `is_describe_tip` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '是否开启购买须知提醒(0=关闭，1=开启)',
  `extension_text` text NOT NULL COMMENT '推广文案',
  `extension_img` text NOT NULL COMMENT '推广图片路径',
  `pay_type` varchar(255) NOT NULL COMMENT '商品独立支付方式',
  `cash_back` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否开启支付返现(0=关闭，1=开启)',
  `return_proportion` tinyint(3) NOT NULL DEFAULT '0' COMMENT '返现比例（1=100）',
  `fullreduceid` int(11) NOT NULL COMMENT '满减活动id',
  `paidid` int(11) NOT NULL COMMENT '支付有礼活动id',
  `usedatestatus` tinyint(1) NOT NULL COMMENT '定时购买 1按星期 2按天数',
  `week` varchar(355) NOT NULL COMMENT '按星期时间',
  `day` varchar(355) NOT NULL COMMENT '按天数时间',
  `viparray` text NOT NULL COMMENT '会员减免数组',
  `disarray` text NOT NULL COMMENT '分销商佣金数组',
  `diyformid` int(11) NOT NULL DEFAULT '0' COMMENT '自定义表单id',
  `isdistristatus` tinyint(1) NOT NULL COMMENT '分销设置方式：0 百分比 1固定金额',
  `appointstatus` tinyint(1) NOT NULL COMMENT '预约类型：0 关闭 1开启',
  `appointdays` int(11) NOT NULL COMMENT '可预约天数',
  `appointarray` text COMMENT '预约数组',
  `videourl` varchar(255) NOT NULL COMMENT '视频链接',
  `yuecashback` decimal(10,2) NOT NULL COMMENT '普通用户余额返现',
  `vipyuecashback` decimal(10,2) NOT NULL COMMENT '会员余额返现',
  `checkcodeflag` tinyint(2) DEFAULT NULL COMMENT '核销码类型 0系统核销码 1导入核销码',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid_aid_status` (`uniacid`,`aid`,`status`),
  KEY `idx_sort` (`sort`),
  KEY `idx_sid` (`sid`),
  KEY `idx_cateid` (`cateid`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8 COMMENT='砍价商品表';


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_bargain_category` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `name` varchar(255) NOT NULL COMMENT '分类名称',
  `aid` int(11) NOT NULL COMMENT '代理id',
  `thumb` varchar(255) NOT NULL COMMENT '分类图片',
  `sort` int(11) NOT NULL COMMENT '排序',
  `is_show` tinyint(1) NOT NULL DEFAULT '0' COMMENT '首页显示 0显示 1隐藏',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid_aid` (`uniacid`,`aid`),
  KEY `idx_sort` (`sort`),
  KEY `idx_is_show` (`is_show`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8 COMMENT='砍价分类表';


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_bargain_helprecord` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL,
  `activityid` int(11) NOT NULL COMMENT '活动id',
  `userid` int(11) NOT NULL COMMENT '用户砍价单id',
  `authorid` int(11) NOT NULL COMMENT '发起人id',
  `mid` int(11) NOT NULL COMMENT '用户id',
  `bargainprice` decimal(10,2) NOT NULL COMMENT '砍价价格',
  `afterprice` decimal(10,2) NOT NULL COMMENT '砍后价格',
  `createtime` int(11) NOT NULL COMMENT '创建时间',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid_aid` (`uniacid`,`aid`),
  KEY `idx_createtime` (`createtime`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='砍价记录表';


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_bargain_userlist` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL,
  `activityid` int(11) NOT NULL COMMENT '活动id',
  `merchantid` int(11) NOT NULL COMMENT '商户id',
  `mid` int(11) NOT NULL COMMENT '用户id',
  `status` int(11) NOT NULL COMMENT '状态 1进行中 2支付 3已失败',
  `price` decimal(10,2) NOT NULL COMMENT '当前价格',
  `createtime` int(11) NOT NULL COMMENT '创建时间',
  `updatetime` int(11) NOT NULL COMMENT '修改时间',
  `orderid` int(11) NOT NULL COMMENT '订单表中的订单id',
  `qrcode` int(11) NOT NULL COMMENT '验证码(已弃用)',
  `usetimes` int(11) NOT NULL COMMENT '剩余使用次数(已弃用)',
  `usedtime` text NOT NULL COMMENT '核销详情(已弃用)',
  `expressid` int(11) NOT NULL COMMENT '快递id',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid_aid` (`uniacid`,`aid`),
  KEY `idx_mid` (`mid`),
  KEY `idx_orderid` (`orderid`),
  KEY `idx_status` (`status`),
  KEY `idx_createtime` (`createtime`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='砍价活动表';


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_browse_record` (
  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `mid` int(11) NOT NULL COMMENT '用户id',
  `goods_id` int(11) NOT NULL COMMENT '商品id',
  `create_time` varchar(12) NOT NULL COMMENT '第一次浏览时间',
  `updade_time` varchar(12) NOT NULL COMMENT '最近浏览时间',
  `type` tinyint(2) NOT NULL COMMENT '商品类型：1=抢购  2=团购  3=拼团 4=大礼包 5=优惠劵 6=折扣卡 7=砍价商品 8=积分商品',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_goods_id` (`goods_id`),
  KEY `idx_type` (`type`),
  KEY `idx_mid` (`mid`),
  KEY `idx_updade_time` (`updade_time`)
) ENGINE=InnoDB AUTO_INCREMENT=100 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_call` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) unsigned NOT NULL COMMENT '公众号id',
  `aid` int(11) unsigned NOT NULL COMMENT '代理商id',
  `title` varchar(25) NOT NULL COMMENT '集call活动名称',
  `number` smallint(3) unsigned NOT NULL COMMENT '集call的数量',
  `state` tinyint(1) unsigned NOT NULL COMMENT '活动状态(1=开启,2=关闭)',
  `prize_id` int(10) unsigned NOT NULL COMMENT '活动奖品的id',
  `explain` text COMMENT '活动的说明',
  `limit` text COMMENT '活动的限制',
  `receive_time` varchar(11) NOT NULL COMMENT '奖品领取期限',
  `use_time` varchar(11) NOT NULL COMMENT '奖品使用期限',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid_aid` (`uniacid`,`aid`),
  KEY `idx_state` (`state`),
  KEY `idx_receive_time` (`receive_time`),
  KEY `idx_use_time` (`use_time`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='集call活动列表';


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_call_hit` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) unsigned NOT NULL COMMENT '公众号id',
  `aid` int(11) unsigned NOT NULL COMMENT '代理商id',
  `mid` int(11) unsigned NOT NULL COMMENT '打call用户的id',
  `list_id` int(10) unsigned NOT NULL COMMENT '已发起的集call活动的id',
  `hit_time` varchar(11) NOT NULL COMMENT '打call的时间',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid_aid` (`uniacid`,`aid`),
  KEY `idx_hit_time` (`hit_time`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='打call信息列表';


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_call_list` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) unsigned NOT NULL COMMENT '公众号id',
  `aid` int(11) unsigned NOT NULL COMMENT '代理商id',
  `mid` int(11) unsigned NOT NULL COMMENT '发起用户的id',
  `call_id` int(11) unsigned NOT NULL COMMENT '集call活动的id',
  `start_time` int(11) unsigned NOT NULL COMMENT '发起的时间',
  `grant` tinyint(1) NOT NULL DEFAULT '1' COMMENT '奖品是否发放(1=未发放，2=已发放)',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid_aid` (`uniacid`,`aid`),
  KEY `idx_start_time` (`start_time`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='已发起集call活动的信息列表';


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_cashback` (
  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `mid` int(11) NOT NULL COMMENT '用户id',
  `order_id` int(11) NOT NULL COMMENT '订单id',
  `plugin` varchar(15) NOT NULL COMMENT '模块信息',
  `status` tinyint(1) NOT NULL COMMENT '是否审核（0=审核中，1=已返现,2=未通过）',
  `money` decimal(10,2) NOT NULL COMMENT '返现金额',
  `uniacid` int(11) DEFAULT NULL COMMENT '公众号id',
  `goods_id` int(11) DEFAULT NULL COMMENT '商品id',
  `create_time` varchar(15) DEFAULT NULL COMMENT '记录时间',
  `refund_money` decimal(10,2) DEFAULT '0.00' COMMENT '因为退款，取消的返现金额',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_category_store` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `uniacid` int(10) unsigned NOT NULL DEFAULT '0',
  `aid` int(10) NOT NULL DEFAULT '0',
  `name` varchar(50) NOT NULL COMMENT '分类名称',
  `thumb` varchar(255) NOT NULL COMMENT '分类图片',
  `parentid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '上级分类ID,0为第一级',
  `isrecommand` int(10) NOT NULL DEFAULT '0' COMMENT '是否推荐（已弃用）',
  `description` varchar(500) NOT NULL COMMENT '分类介绍',
  `displayorder` tinyint(3) unsigned NOT NULL DEFAULT '0' COMMENT '排序',
  `enabled` tinyint(1) unsigned NOT NULL DEFAULT '1' COMMENT '是否开启',
  `visible_level` int(11) NOT NULL COMMENT '1为首页顶部展示',
  `abroad` varchar(255) NOT NULL COMMENT '设置外部链接',
  `state` int(11) NOT NULL COMMENT '判断是否有外联\n1为有\n0为没有',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid_aid` (`uniacid`,`aid`),
  KEY `idx_enabled` (`enabled`),
  KEY `idx_displayorder` (`displayorder`)
) ENGINE=InnoDB AUTO_INCREMENT=2195 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_chargelist` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL COMMENT '公众号id',
  `name` varchar(225) NOT NULL COMMENT '名称',
  `days` int(11) NOT NULL COMMENT '天数',
  `status` int(11) NOT NULL COMMENT '状态 1启用0禁用',
  `price` decimal(10,2) NOT NULL COMMENT '价格',
  `audits` int(11) NOT NULL COMMENT '免审核',
  `onedismoney` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '一级分销佣金',
  `twodismoney` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '二级分销佣金',
  `threedismoney` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '三级分销佣金',
  `isdistri` int(11) NOT NULL COMMENT '是否参与分销',
  `sort` int(11) NOT NULL COMMENT '排序',
  `renewstatus` int(11) NOT NULL COMMENT '续费状态 1允许 2不允许',
  `aid` int(11) NOT NULL COMMENT '代理id',
  `authority` text NOT NULL COMMENT '权限',
  `defaultrate` decimal(11,2) NOT NULL DEFAULT '0.00' COMMENT '默认结算比',
  `release_number` int(11) DEFAULT '0' COMMENT '求职招聘 - 免费发布次数',
  `release_price` decimal(10,2) DEFAULT '0.00' COMMENT '求职招聘 - 每次发布需要支付的金额',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_sort` (`sort`),
  KEY `idx_aid` (`aid`),
  KEY `idx_status` (`status`)
) ENGINE=InnoDB AUTO_INCREMENT=24 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_checkcodelist` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) DEFAULT NULL COMMENT '公众号id',
  `checkcode` varchar(32) NOT NULL COMMENT '核销码',
  `goodsid` int(11) NOT NULL COMMENT '商品id',
  `plugin` varchar(32) NOT NULL COMMENT '商品所属组件',
  `status` int(11) NOT NULL COMMENT '状态 0未使用 1已使用',
  `orderid` int(11) NOT NULL COMMENT '订单id',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_citycard_cates` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `uniacid` int(10) unsigned NOT NULL DEFAULT '0',
  `aid` int(10) NOT NULL DEFAULT '0',
  `name` varchar(64) NOT NULL COMMENT '分类名称',
  `parentid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '上级分类ID,0为第一级',
  `sort` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '排序',
  `enabled` tinyint(1) unsigned NOT NULL DEFAULT '1' COMMENT '0禁用1开启',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid_aid` (`uniacid`,`aid`),
  KEY `idx_enabled` (`enabled`),
  KEY `idx_sort` (`sort`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_citycard_collect` (
  `mid` int(11) NOT NULL COMMENT '用户ID',
  `cardid` int(11) NOT NULL COMMENT '名片ID',
  `id` int(11) NOT NULL AUTO_INCREMENT,
  PRIMARY KEY (`id`),
  KEY `idx_mid` (`mid`),
  KEY `idx_cardid` (`cardid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_citycard_lists` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL COMMENT '平台ID',
  `aid` int(11) NOT NULL COMMENT '代理ID',
  `mid` int(11) NOT NULL COMMENT '用户ID',
  `sort` int(10) unsigned NOT NULL COMMENT '排序，数值越大越靠前',
  `name` varchar(64) NOT NULL COMMENT '名称',
  `logo` varchar(300) NOT NULL COMMENT 'logo',
  `mobile` varchar(16) NOT NULL COMMENT '电话',
  `wechat` varchar(64) NOT NULL COMMENT '微信号',
  `company` varchar(64) NOT NULL COMMENT '公司',
  `branch` varchar(64) NOT NULL COMMENT '部门',
  `position` varchar(64) NOT NULL COMMENT '职位',
  `desc` varchar(500) NOT NULL COMMENT '介绍',
  `address` varchar(300) NOT NULL COMMENT '地址',
  `one_class` int(11) unsigned NOT NULL COMMENT '一级分类',
  `two_class` int(11) unsigned NOT NULL COMMENT '二级分类',
  `show_addr` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '地址0隐藏1显示',
  `show_mobile` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '电话0隐藏1显示',
  `show_wechat` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '微信0隐藏1显示',
  `meal_id` int(11) unsigned NOT NULL COMMENT '套餐ID',
  `meal_endtime` int(11) NOT NULL COMMENT '套餐结束时间',
  `top_is` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '置顶0不置顶1置顶',
  `top_endtime` int(11) NOT NULL COMMENT '置顶到期时间',
  `laud` int(10) unsigned NOT NULL COMMENT '点赞数',
  `pv` int(10) unsigned NOT NULL COMMENT '浏览量',
  `share` int(10) unsigned NOT NULL COMMENT '分享数',
  `status` tinyint(1) unsigned NOT NULL COMMENT '状态0禁用1启用',
  `pro_code` int(11) NOT NULL COMMENT '省ID',
  `city_code` int(11) NOT NULL COMMENT '市ID',
  `area_code` int(11) NOT NULL COMMENT '区ID',
  `lng` varchar(16) NOT NULL COMMENT '经度',
  `lat` varchar(16) NOT NULL COMMENT '纬度',
  `createtime` int(11) NOT NULL COMMENT '入驻时间',
  `checkstatus` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '审核状态0待审核1审核通过2驳回',
  `laud_user` text COMMENT '点赞用户id信息',
  `paystatus` tinyint(1) NOT NULL COMMENT '支付状态 0未支付 1已支付或不需要支付',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_aid` (`aid`),
  KEY `idx_sort` (`sort`),
  KEY `idx_status` (`status`),
  KEY `idx_pro_code` (`pro_code`),
  KEY `idx_city_code` (`city_code`),
  KEY `idx_area_code` (`area_code`),
  KEY `idx_mid` (`mid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_citycard_meals` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL COMMENT '平台ID',
  `aid` int(11) NOT NULL COMMENT '代理ID',
  `sort` int(10) unsigned NOT NULL COMMENT '排序，数值越大越靠前',
  `name` varchar(64) NOT NULL COMMENT '套餐名称',
  `price` decimal(10,2) unsigned NOT NULL DEFAULT '0.00' COMMENT '套餐金额',
  `day` int(10) unsigned NOT NULL COMMENT '时间期限',
  `status` tinyint(1) unsigned NOT NULL COMMENT '状态0禁用1启用',
  `is_free` tinyint(1) unsigned NOT NULL COMMENT '0付费1免费',
  `check` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '审核0无需审核1需要审核',
  `isdistri` tinyint(1) NOT NULL COMMENT '是否参与分销 1参与 0不参与',
  `onedismoney` decimal(10,2) NOT NULL COMMENT '一级分销佣金',
  `twodismoney` decimal(10,2) NOT NULL COMMENT '二级分销佣金',
  `vipstatus` tinyint(1) DEFAULT NULL COMMENT '会员特权 0无 1会员特价 2会员特供',
  `vipprice` decimal(10,2) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_aid` (`aid`),
  KEY `idx_status` (`status`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_citycard_tops` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL COMMENT '平台ID',
  `aid` int(11) NOT NULL COMMENT '代理ID',
  `sort` int(10) unsigned NOT NULL COMMENT '排序，数值越大越靠前',
  `name` varchar(64) NOT NULL COMMENT '置顶名称',
  `price` decimal(10,2) unsigned NOT NULL DEFAULT '0.00' COMMENT '置顶金额',
  `day` int(10) unsigned NOT NULL COMMENT '时间期限',
  `status` tinyint(1) unsigned NOT NULL COMMENT '状态0禁用1启用',
  `isdistri` tinyint(1) NOT NULL COMMENT '是否参与分销 1参与 0不参与',
  `onedismoney` decimal(10,2) NOT NULL COMMENT '一级分销佣金',
  `twodismoney` decimal(10,2) NOT NULL COMMENT '二级分销佣金',
  `vipstatus` tinyint(1) NOT NULL COMMENT '会员特权 0无 1会员特价 2会员特供',
  `vipprice` decimal(10,2) NOT NULL COMMENT '会员金额',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_aid` (`aid`),
  KEY `idx_status` (`status`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_collect` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `mid` int(11) NOT NULL,
  `storeid` int(11) NOT NULL,
  `createtime` int(11) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=99 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_comment` (
  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) unsigned NOT NULL DEFAULT '0',
  `gid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '对应的商品id',
  `mid` int(11) NOT NULL COMMENT '用户ID',
  `sid` int(11) NOT NULL COMMENT '商家ID',
  `parentid` int(11) NOT NULL COMMENT '回复上级ID',
  `pic` varchar(1000) NOT NULL COMMENT '图片',
  `idoforder` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '对应的order的id',
  `text` text NOT NULL COMMENT '评价文字',
  `status` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '是否显示 1显示 0不显示',
  `level` tinyint(3) unsigned NOT NULL DEFAULT '0' COMMENT '评价等级 1好评 2中评 3差评',
  `createtime` varchar(145) NOT NULL DEFAULT '0' COMMENT '评价时间',
  `headimg` varchar(255) NOT NULL COMMENT '评价人头像',
  `nickname` varchar(32) NOT NULL COMMENT '评价人昵称',
  `plugin` varchar(32) NOT NULL COMMENT '插件名称',
  `star` int(11) NOT NULL DEFAULT '0' COMMENT '打分星数',
  `replyone` int(11) NOT NULL DEFAULT '1' COMMENT '店家是否回复 1已回复',
  `checkone` int(11) NOT NULL DEFAULT '1' COMMENT '审核状态 1待审核 2已审核通过 3未通过',
  `true` int(11) NOT NULL DEFAULT '1',
  `replytextone` varchar(1000) NOT NULL COMMENT '店家回复内容',
  `replypicone` varchar(500) NOT NULL COMMENT '店家回复图片',
  `ispic` int(11) NOT NULL DEFAULT '0' COMMENT '是否有图 1有图 0无图',
  `aid` int(11) NOT NULL COMMENT '代理id\n',
  `housekeepflag` tinyint(1) NOT NULL COMMENT '0商户 1个人',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid_aid` (`uniacid`,`aid`),
  KEY `idx_sid` (`sid`),
  KEY `idx_status` (`status`),
  KEY `idx_level` (`level`),
  KEY `idx_checkone` (`checkone`),
  KEY `idx_ispic` (`ispic`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8 COMMENT='价';


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_community` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL,
  `communname` varchar(145) NOT NULL COMMENT '社群名称',
  `commundesc` varchar(145) NOT NULL COMMENT '社群描述',
  `communimg` varchar(255) NOT NULL COMMENT '社群图标',
  `communqrcode` varchar(255) NOT NULL COMMENT '社群二维码',
  `systel` varchar(32) NOT NULL COMMENT '客服电话',
  `createtime` int(11) NOT NULL COMMENT '创建时间',
  `reply` varchar(255) NOT NULL COMMENT '小程序回复内容',
  `media_id` varchar(255) NOT NULL COMMENT '小程序端图片上传后获得的图片id\n',
  `media_endtime` int(11) NOT NULL COMMENT '小程序图片过期时间',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid_aid` (`uniacid`,`aid`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_consumption` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `uid` int(11) NOT NULL COMMENT '用户uid',
  `status` int(11) NOT NULL COMMENT '状态 0未通知 1已通知',
  `credits` int(11) NOT NULL COMMENT '扣除积分',
  `time` varchar(145) NOT NULL COMMENT '兑换时间',
  `itemCode` int(11) NOT NULL COMMENT '商品编号',
  `actualPrice` decimal(11,2) NOT NULL COMMENT '商品实际价格',
  `description` text COMMENT '详细描述',
  `orderNum` text COMMENT '兑吧订单号',
  `yue` int(11) NOT NULL COMMENT '本次操作后的余额',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=12 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_consumption_adv` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `uniacid` int(10) NOT NULL DEFAULT '0',
  `advname` varchar(50) NOT NULL COMMENT '幻灯片名称',
  `link` varchar(255) NOT NULL COMMENT '跳转链接',
  `wxapp_link` varchar(255) NOT NULL COMMENT '小程序链接',
  `thumb` varchar(255) NOT NULL COMMENT '幻灯片图案',
  `displayorder` int(10) NOT NULL DEFAULT '0' COMMENT '排序',
  `status` int(10) NOT NULL DEFAULT '0' COMMENT '状态',
  PRIMARY KEY (`id`),
  KEY `idx_displayorder` (`displayorder`),
  KEY `idx_status` (`status`),
  KEY `idx_uniacid` (`uniacid`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8 COMMENT='积分商城幻灯片表';


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_consumption_category` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `uniacid` int(10) NOT NULL DEFAULT '0',
  `name` varchar(50) NOT NULL COMMENT '分类名称',
  `thumb` varchar(255) NOT NULL COMMENT '分类图片',
  `displayorder` tinyint(3) unsigned NOT NULL DEFAULT '0' COMMENT '排序',
  `status` tinyint(3) NOT NULL DEFAULT '1' COMMENT '状态 0关闭 1显示',
  `advimg` varchar(255) DEFAULT '',
  `advurl` varchar(500) DEFAULT '',
  `isrecommand` tinyint(3) NOT NULL DEFAULT '0' COMMENT '是否推荐 1推荐 0关闭',
  PRIMARY KEY (`id`),
  KEY `idx_displayorder` (`displayorder`),
  KEY `idx_status` (`status`),
  KEY `idx_uniacid` (`uniacid`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8 COMMENT='积分商城分类表';


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_consumption_goods` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `uniacid` int(10) unsigned NOT NULL DEFAULT '0',
  `title` varchar(50) NOT NULL COMMENT '标题',
  `category_id` int(10) NOT NULL COMMENT '分类id',
  `type` varchar(20) NOT NULL DEFAULT '' COMMENT '商品类型',
  `thumb` varchar(255) NOT NULL COMMENT '商品图片',
  `old_price` varchar(10) NOT NULL COMMENT '商品原价',
  `chance` tinyint(3) unsigned NOT NULL COMMENT '每人共计兑换次数',
  `totalday` tinyint(3) unsigned NOT NULL COMMENT '每天提供份数',
  `use_credit1` varchar(10) NOT NULL DEFAULT '0' COMMENT '需要支付的积分',
  `use_credit2` double(10,2) NOT NULL DEFAULT '0.00' COMMENT '需要支付的金额',
  `description` text NOT NULL COMMENT '商品详情',
  `status` tinyint(3) unsigned NOT NULL DEFAULT '1' COMMENT '状态 1开启 0关闭',
  `credit2` varchar(10) NOT NULL COMMENT '设置的赠送余额',
  `displayorder` tinyint(3) unsigned NOT NULL DEFAULT '0' COMMENT '排序',
  `redpacket` text NOT NULL COMMENT '红包设置',
  `pv` int(11) NOT NULL COMMENT '浏览量',
  `expressid` int(11) NOT NULL COMMENT '运费模板',
  `isdistri` int(11) NOT NULL COMMENT '是否参与分销 0不参与 1参与',
  `onedismoney` decimal(10,2) NOT NULL COMMENT '自己分销佣金',
  `twodismoney` decimal(10,2) NOT NULL COMMENT '二级分销佣金',
  `stock` int(11) NOT NULL COMMENT '库存',
  `vipstatus` int(11) NOT NULL COMMENT '会员类型',
  `vipcredit1` int(11) NOT NULL COMMENT 'vip需要积分',
  `vipcredit2` double(10,2) NOT NULL COMMENT 'vip需要金额',
  `dissettime` int(11) NOT NULL COMMENT '分销结算时间',
  `halfcardid` int(11) NOT NULL COMMENT '一卡通id',
  `advs` text NOT NULL COMMENT '幻灯片',
  `community_id` int(11) NOT NULL COMMENT '社群id',
  `describe` text NOT NULL COMMENT '描述',
  `usedatestatus` tinyint(2) NOT NULL COMMENT '定时购买 1按星期 2按天数',
  `week` varchar(355) NOT NULL COMMENT '按星期时间',
  `day` varchar(355) NOT NULL COMMENT '按天数时间',
  PRIMARY KEY (`id`),
  KEY `idx_type` (`type`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_status` (`status`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8 COMMENT='积分商城商品表';


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_consumption_record` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `uniacid` int(10) unsigned NOT NULL DEFAULT '0',
  `mid` int(11) NOT NULL COMMENT '用户id',
  `goodsid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '商品id',
  `orderid` int(10) NOT NULL COMMENT '订单id',
  `expressid` int(11) NOT NULL COMMENT '快递id',
  `createtime` int(11) NOT NULL DEFAULT '0' COMMENT '创建时间书生',
  `status` int(11) NOT NULL COMMENT '状态 1待发货 2待收货 3已完成 4已退货',
  `integral` int(11) NOT NULL COMMENT '消耗积分',
  `money` decimal(10,2) NOT NULL COMMENT '金额',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_status` (`status`),
  KEY `idx_goodsid` (`goodsid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='兑换记录表';


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_couponlist` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL COMMENT '代理id',
  `status` int(11) NOT NULL COMMENT '优惠券状态 1启用 0禁用 3已失效 2审核中 4未通过',
  `type` int(11) NOT NULL COMMENT '优惠券类型 1 折扣券 2代金券 3套餐券 4 团购券 5优惠券',
  `is_charge` int(11) NOT NULL COMMENT '是否收费 1收费 0免费',
  `logo` varchar(100) NOT NULL COMMENT '优惠券logo',
  `indeximg` varchar(100) NOT NULL COMMENT '优惠券详情顶部图片',
  `merchantid` int(11) NOT NULL COMMENT '商户id',
  `color` varchar(100) NOT NULL COMMENT '优惠券颜色',
  `title` varchar(145) NOT NULL COMMENT '优惠券标题',
  `sub_title` varchar(145) NOT NULL COMMENT '优惠券小标题',
  `goodsdetail` longtext NOT NULL COMMENT '商品详情',
  `time_type` int(11) NOT NULL COMMENT '时间类型 1.规定时间段 2 领取后限制',
  `starttime` varchar(255) NOT NULL COMMENT '开始时间',
  `endtime` varchar(255) NOT NULL COMMENT '结束时间',
  `deadline` int(11) NOT NULL COMMENT '持续天数',
  `quantity` int(11) NOT NULL COMMENT '库存',
  `surplus` int(11) NOT NULL COMMENT '已售数量',
  `get_limit` int(11) NOT NULL COMMENT '限量',
  `description` text NOT NULL COMMENT '卡券使用须知',
  `usetimes` int(11) NOT NULL COMMENT '使用次数',
  `createtime` varchar(255) NOT NULL COMMENT '创建时间',
  `price` decimal(10,2) NOT NULL COMMENT '收费金额',
  `is_show` int(11) NOT NULL COMMENT '是否列表显示 0显示 1隐藏',
  `vipstatus` int(11) NOT NULL DEFAULT '0' COMMENT 'VIP设置 0无vip限制 1VIP特价 2vip特供',
  `vipprice` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT 'vip价格',
  `is_indexshow` int(11) NOT NULL DEFAULT '1' COMMENT '首页是否显示 0不显示 1显示',
  `indexorder` int(11) NOT NULL COMMENT '排序',
  `dk` int(11) NOT NULL,
  `pv` int(11) NOT NULL COMMENT '关注人数',
  `settlementmoney` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '结算金额',
  `onedismoney` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '一级分销金额',
  `twodismoney` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '二级分销金额',
  `threedismoney` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '三级分销金额',
  `isdistri` int(11) NOT NULL COMMENT '分销标记 0参与 1不参与',
  `vipsettlementmoney` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT 'VIP价格结算金额',
  `viponedismoney` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT 'VIP价一级分销金额',
  `viptwodismoney` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT 'VIP价二级分销金额',
  `vipthreedismoney` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT 'VIP价三级分销金额',
  `userlabel` text NOT NULL COMMENT '用户标记',
  `independent` int(11) NOT NULL COMMENT '是否独立结算',
  `allowapplyre` int(11) NOT NULL COMMENT '是否允许退款 0允许 1不允许',
  `overrefund` tinyint(1) NOT NULL COMMENT '过期退款',
  `level` text NOT NULL COMMENT '会员等级',
  `dissettime` int(11) NOT NULL COMMENT '分佣结算时间',
  `nostoreshow` int(11) NOT NULL COMMENT '商户显示',
  `extflag` int(11) NOT NULL COMMENT '外链标记',
  `extlink` varchar(500) NOT NULL COMMENT '外链地址',
  `extinfo` text NOT NULL COMMENT '外链信息',
  `salesmid` int(11) NOT NULL COMMENT '业务员mid',
  `name` varchar(145) NOT NULL DEFAULT '0' COMMENT 'name方便查询',
  `diyposter` int(11) NOT NULL COMMENT '自定义海报',
  `pay_type` varchar(255) NOT NULL COMMENT '商品独立支付方式',
  `fullreduceid` int(11) NOT NULL COMMENT '满减活动id',
  `paidid` int(11) NOT NULL COMMENT '支付有礼活动id',
  `usedatestatus` tinyint(2) NOT NULL COMMENT '定时购买 1按星期 2按天数',
  `week` varchar(355) NOT NULL COMMENT '按星期时间',
  `day` varchar(355) NOT NULL COMMENT '按天数时间',
  `daylimit` int(11) NOT NULL COMMENT '每日限量',
  `viparray` text NOT NULL COMMENT '会员减免数组',
  `disarray` text NOT NULL COMMENT '分销商佣金数组',
  `alldaylimit` int(11) NOT NULL COMMENT '每天限购总量',
  `isdistristatus` tinyint(1) NOT NULL COMMENT '分销设置方式：0 百分比 1固定金额',
  `adv` text COMMENT '幻灯片',
  `wxapp_shareimg` varchar(200) DEFAULT NULL COMMENT '小程序分享图',
  `yuecashback` decimal(10,2) DEFAULT NULL COMMENT '普通用户余额返现',
  `vipyuecashback` decimal(10,2) DEFAULT NULL COMMENT '会员余额返现',
  `is_describe_tip` tinyint(1) DEFAULT NULL COMMENT '重要提示开关',
  `describe` text COMMENT '重要提示信息',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid_aid_status` (`uniacid`,`aid`,`status`),
  KEY `idx_merchantid` (`merchantid`),
  KEY `idx_isindexshow` (`is_indexshow`),
  KEY `idx_is_show` (`is_show`),
  KEY `idx_indexorder` (`indexorder`)
) ENGINE=InnoDB AUTO_INCREMENT=24 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_credit2zero` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uid` int(11) NOT NULL,
  `createtime` varchar(16) NOT NULL,
  `uniacid` int(11) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_creditrecord` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `openid` varchar(245) NOT NULL,
  `num` varchar(30) NOT NULL COMMENT '数量',
  `createtime` varchar(145) NOT NULL COMMENT '创建时间',
  `transid` varchar(145) NOT NULL COMMENT '三方单号',
  `status` int(11) NOT NULL,
  `paytype` int(2) NOT NULL COMMENT '1微信2后台',
  `ordersn` varchar(145) NOT NULL COMMENT '订单编号',
  `type` int(2) NOT NULL COMMENT '1积分2余额',
  `remark` varchar(145) NOT NULL COMMENT '备注',
  `table` tinyint(4) DEFAULT NULL COMMENT '1微擎2tg',
  `uid` int(11) NOT NULL COMMENT '用户微擎用户表id',
  `mid` int(11) NOT NULL COMMENT '用户智慧城市用户表id',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_type` (`type`),
  KEY `idx_createtime` (`createtime`),
  KEY `idx_mid` (`mid`)
) ENGINE=InnoDB AUTO_INCREMENT=508 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_current` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `status` int(11) NOT NULL COMMENT '明细种类 1商户 2代理 3分销商',
  `type` int(11) NOT NULL COMMENT '订单种类 1抢购 2拼团 3卡券 4一卡通订单 5掌上信息 6付费入驻  7提现或驳回 8分销付费申请 9商户活动 10团购 -1后台修改 11在线买单  12砍价 13同城名片 14 大礼包核销结算 140 同城配送 15余额返现',
  `objid` int(11) NOT NULL COMMENT '代理 商户 分销商id',
  `fee` decimal(10,2) NOT NULL COMMENT '变更金额',
  `nowmoney` decimal(10,2) NOT NULL COMMENT '变更后金额',
  `createtime` int(11) NOT NULL COMMENT '创建时间',
  `orderid` int(11) NOT NULL COMMENT '订单详情',
  `remark` varchar(255) NOT NULL COMMENT '修改备注',
  `aid` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_aid` (`aid`),
  KEY `idx_type` (`type`),
  KEY `idx_status` (`status`),
  KEY `idx_createtime` (`createtime`)
) ENGINE=InnoDB AUTO_INCREMENT=174 DEFAULT CHARSET=utf8 COMMENT='结算明细表';


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_dating_comment_fabulous` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `mid` int(11) DEFAULT NULL COMMENT '点赞用户id',
  `comment_id` int(11) DEFAULT NULL COMMENT '评论id',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_dating_dynamic` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) DEFAULT NULL,
  `aid` int(11) DEFAULT NULL,
  `mid` int(11) DEFAULT NULL COMMENT '发布人id',
  `content` text COMMENT '动态信息',
  `photo` text COMMENT '图片信息',
  `video` varchar(255) DEFAULT NULL COMMENT '视频信息',
  `create_time` int(11) DEFAULT NULL COMMENT '发布时间',
  `pv` int(11) DEFAULT '0' COMMENT '浏览量',
  `address` varchar(50) DEFAULT NULL COMMENT '地址',
  `lng` varchar(20) DEFAULT NULL COMMENT '经度',
  `lat` varchar(20) DEFAULT NULL COMMENT '纬度',
  `status` enum('1','2','3') DEFAULT '1' COMMENT '状态:1=审核中,2=未通过,3=显示中',
  `reason` varchar(255) DEFAULT NULL COMMENT '驳回理由',
  `is_fictitious` enum('1','2') DEFAULT '1' COMMENT '是否为虚拟动态:1=不是,2=是',
  `fictitious_nickname` varchar(20) DEFAULT NULL COMMENT '虚拟动态发布人昵称',
  `fictitious_avatar` varchar(255) DEFAULT NULL COMMENT '虚拟动态发布人头像',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_dating_dynamic_comment` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) DEFAULT NULL,
  `aid` int(11) DEFAULT NULL,
  `mid` int(11) DEFAULT NULL COMMENT '评论用户',
  `content` varchar(255) DEFAULT NULL COMMENT '评论内容',
  `create_time` int(11) DEFAULT NULL COMMENT '评论时间',
  `reply_id` int(11) DEFAULT NULL COMMENT '回复评论的id（为0则无回复关系）',
  `dynamic_id` int(11) DEFAULT NULL COMMENT '动态id',
  `status` enum('1','2','3') DEFAULT '1' COMMENT '审核状态:1=待审核,2=未通过,3=已通过',
  `source` enum('1','2','3') DEFAULT '1' COMMENT '1=公众号（默认）；2=h5；3=小程序',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_dating_dynamic_fabulous` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `mid` int(11) DEFAULT NULL COMMENT '点赞用户id',
  `create_time` int(11) DEFAULT NULL COMMENT '点赞时间',
  `dynamic_id` int(11) DEFAULT NULL COMMENT '动态id',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_dating_exchange` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) DEFAULT NULL,
  `mid_one` int(11) DEFAULT NULL COMMENT '用户id',
  `mid_two` int(11) DEFAULT NULL COMMENT '用户id',
  `create_time` int(11) DEFAULT NULL COMMENT '交换时间',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_dating_label` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) DEFAULT NULL,
  `aid` int(11) DEFAULT NULL,
  `title` varchar(20) DEFAULT NULL COMMENT '标签标题',
  `sort` int(11) DEFAULT NULL COMMENT '标签排序',
  `create_time` int(11) DEFAULT NULL COMMENT '添加时间',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_dating_matchmaker` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) DEFAULT NULL,
  `mid` int(11) DEFAULT NULL COMMENT '用户id',
  `nickname` varchar(50) DEFAULT NULL COMMENT '红娘昵称',
  `avatar` varchar(255) DEFAULT NULL COMMENT '头像',
  `phone` varchar(20) DEFAULT NULL COMMENT '联系方式',
  `wechat_number` varchar(20) DEFAULT NULL COMMENT '微信号',
  `qq_unmber` varchar(15) DEFAULT NULL COMMENT 'qq号',
  `describe` varchar(255) DEFAULT NULL COMMENT '描述信息',
  `qrcode` varchar(255) DEFAULT NULL COMMENT '二维码',
  `status` enum('1','2','3','4') DEFAULT NULL COMMENT '状态:1=待付款,2=待审核,3=已通过,4=未通过',
  `total_commission` decimal(10,2) DEFAULT '0.00' COMMENT '总共赚取的佣金',
  `commission` decimal(10,2) DEFAULT '0.00' COMMENT '可提现佣金',
  `create_time` int(11) DEFAULT NULL COMMENT '创建时间',
  `create_source` enum('1','2') DEFAULT '1' COMMENT '创建来源:1=用户申请,2=后台创建',
  `reason` varchar(255) DEFAULT NULL COMMENT '驳回原因',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_dating_matchmaker_commission` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) DEFAULT NULL,
  `mid` int(11) DEFAULT NULL COMMENT '用户id',
  `matchmaker_id` int(11) DEFAULT NULL COMMENT '红娘id',
  `type` enum('1','2') DEFAULT NULL COMMENT '类型:1=增加,2=减少',
  `money` decimal(10,2) DEFAULT NULL COMMENT '金额',
  `order_id` int(11) DEFAULT NULL COMMENT 'order订单表的id',
  `reason` varchar(80) DEFAULT NULL COMMENT '备注',
  `create_time` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_dating_member` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL,
  `mid` int(11) NOT NULL COMMENT '用户id',
  `avatar` varchar(255) NOT NULL COMMENT '头像',
  `real_name` varchar(10) NOT NULL COMMENT '真实姓名',
  `gneder` enum('1','2') NOT NULL DEFAULT '1' COMMENT '性别:1=男,2=女',
  `birth` int(11) DEFAULT NULL COMMENT '出生日期',
  `height` tinyint(3) unsigned DEFAULT NULL COMMENT '身高(cm)',
  `weight` tinyint(3) unsigned DEFAULT NULL COMMENT '体重(kg)',
  `nation` varchar(15) DEFAULT NULL COMMENT '民族',
  `marital_status` enum('1','2','3','4','5','6') DEFAULT '1' COMMENT '婚姻情况:1=未婚,2=离异(无子女),3=离异(有抚养权),4=离异(无抚养权),5=丧偶(无子女),6=丧偶(有子女)',
  `work` varchar(30) DEFAULT NULL COMMENT '工作职务',
  `education` enum('1','2','3','4','5','6','7') DEFAULT '1' COMMENT '学历:1=小学,2=初中,3=高中/中专,4=专科,5=本科,6=硕士,7=博士',
  `current_province` int(11) DEFAULT NULL COMMENT '当前所在城市 - 省',
  `current_city` int(11) DEFAULT NULL COMMENT '当前所在城市 - 市',
  `current_area` int(11) DEFAULT NULL COMMENT '当前所在城市 - 区',
  `hometown_province` int(11) DEFAULT NULL COMMENT '户籍所在城市 - 省',
  `hometown_city` int(11) DEFAULT NULL COMMENT '户籍所在城市 - 市',
  `hometown_area` int(11) DEFAULT NULL COMMENT '户籍所在城市 - 区',
  `lng` varchar(20) DEFAULT NULL COMMENT '当前所在城市 - 经度',
  `lat` varchar(20) DEFAULT NULL COMMENT '当前所在城市 - 纬度',
  `address` varchar(255) DEFAULT NULL COMMENT '当前所在详细地址',
  `registered_residence_type` enum('1','2') DEFAULT NULL COMMENT '户籍类型:1=农业户口,2=非农业户口',
  `income` int(11) DEFAULT NULL COMMENT '月收入(元)',
  `live` enum('1','2','3','4','5','6','7') DEFAULT '1' COMMENT '居住情况:1=自购房(有贷款),2=自购房(无贷款),3=租房(合租),4=租房(整租),5=与父母同住,6=借住亲朋家,7=单位住房',
  `travel` enum('1','2') DEFAULT '1' COMMENT '出行情况:1=未购车,2=已购车',
  `vehicle` varchar(50) DEFAULT NULL COMMENT '车型号',
  `phone` varchar(15) DEFAULT NULL COMMENT '手机',
  `wechat_number` varchar(20) DEFAULT NULL COMMENT '微信号',
  `qq_number` varchar(15) DEFAULT NULL COMMENT 'QQ号',
  `min_age` tinyint(2) DEFAULT NULL COMMENT '择偶要求 - 最小年龄',
  `max_age` tinyint(2) DEFAULT NULL COMMENT '择偶要求 - 最大年龄',
  `min_height` tinyint(3) unsigned DEFAULT NULL COMMENT '择偶要求 - 最小身高',
  `max_height` tinyint(3) unsigned DEFAULT NULL COMMENT '择偶要求 - 最大身高',
  `require_marital_status` enum('1','2','3','4') DEFAULT '1' COMMENT '择偶要求 - 婚姻情况:1=不限,2=未婚,3=离异,4=丧偶',
  `require_education` enum('1','2','3','4','5','6','7','8') DEFAULT NULL COMMENT '择偶要求 - 学历:1=不限,2=小学,3=初中,4=高中/中专,5=专科,6=本科,7=硕士,8=博士',
  `require` varchar(255) DEFAULT NULL COMMENT '择偶要求 - 其他要求',
  `introduce` text COMMENT '自我介绍',
  `label_id` varchar(255) DEFAULT NULL COMMENT '个性标签',
  `photo` text COMMENT '个人照片',
  `video` varchar(255) DEFAULT NULL COMMENT '个人视频',
  `is_open_base` enum('1','2') DEFAULT '1' COMMENT '是否公开基本信息:1=不公开,2=公开',
  `is_open_contact` enum('1','2') DEFAULT '1' COMMENT '是否公开联系方式:1=不公开,2=公开',
  `is_open_photo` enum('1','2') DEFAULT '1' COMMENT '是否允许游客查看照片:1=不允许,2=允许',
  `examine` enum('1','2','3') DEFAULT '1' COMMENT '审核状态:1=待审核,2=未通过,3=已通过/显示中',
  `reason` varchar(255) DEFAULT NULL COMMENT '未通过原因',
  `is_top` enum('1','2') DEFAULT '1' COMMENT '是否置顶:1=未置顶,2=置顶中',
  `top_end_time` int(11) DEFAULT NULL COMMENT '置顶结束时间',
  `create_time` int(11) DEFAULT NULL COMMENT '创建时间',
  `sort` int(11) DEFAULT '1' COMMENT '排序',
  `matchmaker_id` int(11) DEFAULT NULL COMMENT '红娘id',
  `pv` int(11) DEFAULT '0' COMMENT '人气',
  `cover` varchar(255) DEFAULT NULL COMMENT '用户封面图片',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_dating_member_open` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) DEFAULT NULL,
  `mid` int(11) DEFAULT NULL COMMENT '用户id',
  `type` enum('1','2') DEFAULT NULL COMMENT '会员卡类型:1=时限卡,2=次数卡',
  `end_time` int(11) DEFAULT '0' COMMENT '过期时间',
  `frequency` int(11) DEFAULT '0' COMMENT '总次数',
  `create_time` int(11) DEFAULT NULL COMMENT '开卡时间',
  `update_time` int(11) DEFAULT NULL COMMENT '最近续费时间',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_dating_member_use` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) DEFAULT NULL,
  `mid` int(11) DEFAULT NULL COMMENT '持卡人id(用户id)',
  `see_id` int(11) DEFAULT NULL COMMENT '查看的用户的id（用户的member_id）',
  `create_time` int(11) DEFAULT NULL COMMENT '查看时间',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_dating_record` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) DEFAULT NULL,
  `mid` int(11) DEFAULT NULL COMMENT '用户id',
  `member_id` int(11) DEFAULT NULL COMMENT '相亲会员表id',
  `object_mid` int(11) DEFAULT NULL COMMENT '收藏/浏览对象的mid',
  `object_member_id` int(11) DEFAULT NULL COMMENT '收藏/浏览对象的相亲会员表id',
  `create_time` int(11) DEFAULT NULL COMMENT '收藏/浏览时间',
  `type` enum('1','2') DEFAULT NULL COMMENT '类型:1=收藏,2=浏览历史',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_dating_vip` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) DEFAULT NULL,
  `title` varchar(50) DEFAULT NULL COMMENT '会员卡标题',
  `money` decimal(10,2) DEFAULT '0.00' COMMENT '会员卡金额',
  `type` enum('1','2') DEFAULT NULL COMMENT '会员卡类型:1=时限卡,2=次数卡',
  `day` int(11) DEFAULT NULL COMMENT '有效时间（天）',
  `second` int(11) DEFAULT NULL COMMENT '次数',
  `sort` int(11) DEFAULT NULL COMMENT '排序',
  `create_time` int(11) DEFAULT NULL COMMENT '添加时间',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_dating_vip_record` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `create_time` int(11) DEFAULT NULL,
  `title` varchar(50) DEFAULT NULL COMMENT '会员卡名称',
  `type` enum('1','2') DEFAULT '1' COMMENT '会员卡类型:1=时限卡,2=次数卡',
  `day` int(11) DEFAULT '0' COMMENT '天数',
  `frequency` int(11) DEFAULT '0' COMMENT '次数',
  `money` decimal(10,2) DEFAULT NULL COMMENT '订单金额',
  `mid` int(11) DEFAULT NULL COMMENT '用户id',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_delivery_activity` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL COMMENT '公众号id',
  `aid` int(11) NOT NULL COMMENT '代理id',
  `sid` int(11) NOT NULL COMMENT '商户id',
  `name` varchar(255) NOT NULL COMMENT '名称',
  `detail` longtext NOT NULL COMMENT '详情',
  `price` decimal(10,2) NOT NULL COMMENT '购买价',
  `oldprice` decimal(10,2) NOT NULL COMMENT '市场价',
  `status` int(11) NOT NULL COMMENT '2售卖中 0下架中 待审核=5 未通过=6；已售罄=7 回收站 = 8',
  `thumb` varchar(145) NOT NULL COMMENT 'logo图',
  `thumbs` text NOT NULL COMMENT '图集',
  `cateid` int(11) NOT NULL COMMENT '分类id',
  `createtime` int(11) NOT NULL COMMENT '创建时间',
  `vipstatus` int(11) NOT NULL COMMENT '0无 1会员特价 2会员特供',
  `vipdiscount` decimal(10,2) NOT NULL COMMENT '会员减免金额',
  `sort` int(11) NOT NULL COMMENT '排序',
  `pv` int(11) NOT NULL COMMENT '人气',
  `optionstatus` int(11) NOT NULL COMMENT '规格设置 0无规格 1有规格',
  `deliveryprice` decimal(10,2) NOT NULL COMMENT '额外配送费',
  `share_title` varchar(255) NOT NULL COMMENT '分享标题',
  `share_image` varchar(255) NOT NULL COMMENT '分享图片',
  `share_desc` varchar(255) NOT NULL COMMENT '分享详情',
  `fictitiousnum` int(11) NOT NULL COMMENT '虚拟销量',
  `allstock` int(11) NOT NULL COMMENT '总库存',
  `daystock` int(11) NOT NULL COMMENT '每日库存',
  `creditmoney` decimal(10,2) NOT NULL COMMENT '积分抵扣金额',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_delivery_category` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL COMMENT '所属公众号',
  `sid` int(11) NOT NULL COMMENT '所属店铺',
  `name` varchar(255) NOT NULL COMMENT '分类名称',
  `aid` int(11) NOT NULL COMMENT '所属代理',
  `sort` int(11) NOT NULL COMMENT '排序',
  `status` tinyint(1) NOT NULL COMMENT '状态 0关闭 1开启',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_delivery_order` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL,
  `sid` int(11) NOT NULL COMMENT '商户id',
  `gid` int(11) NOT NULL COMMENT '商品id',
  `mid` int(11) NOT NULL COMMENT '买家id',
  `specid` int(11) NOT NULL COMMENT '规格id',
  `tid` varchar(32) NOT NULL COMMENT '订单编号',
  `money` decimal(10,2) NOT NULL COMMENT '商品金额',
  `num` int(11) NOT NULL COMMENT '商品数量',
  `status` tinyint(1) NOT NULL COMMENT '订单状态 0未支付 1已支付 2已送达',
  `price` decimal(10,2) NOT NULL COMMENT '原价',
  `vipdiscount` decimal(10,2) NOT NULL COMMENT '会员折扣',
  `deliverymoney` decimal(10,2) NOT NULL COMMENT '额外配送费',
  `dotime` int(11) NOT NULL COMMENT '操作时间',
  `orderid` int(11) NOT NULL COMMENT '父订单id',
  `createtime` int(11) NOT NULL COMMENT '创建时间',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_delivery_shopcart` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL COMMENT '公众号id',
  `aid` int(11) NOT NULL COMMENT '代理id',
  `mid` int(11) NOT NULL COMMENT '用户id',
  `sid` int(11) NOT NULL COMMENT '商户id',
  `goodid` int(11) NOT NULL COMMENT '商品id',
  `num` int(11) NOT NULL COMMENT '数量',
  `specid` int(11) NOT NULL COMMENT '规格id',
  `cateid` int(11) NOT NULL COMMENT '商品分类id',
  `createtime` int(11) NOT NULL COMMENT '加入购物车的时间',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_delivery_spec` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL COMMENT '公众号id',
  `goodsid` int(11) NOT NULL COMMENT '商品id',
  `name` varchar(255) NOT NULL COMMENT '规格名',
  `price` decimal(10,2) NOT NULL COMMENT '价格',
  `oldprice` decimal(10,2) NOT NULL COMMENT '原价',
  `sort` int(11) NOT NULL COMMENT '排序',
  `allstock` int(11) NOT NULL COMMENT '总库存',
  `daystock` int(11) NOT NULL COMMENT '每日限量',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_disapply` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL,
  `status` int(11) NOT NULL COMMENT '申请状态 1申请中 2代理审核通过 3平台审核通过 4已结算 5代理驳回 6平台驳回',
  `mid` int(11) NOT NULL COMMENT '申请人MID',
  `disid` int(11) NOT NULL COMMENT '申请人代理商ID',
  `money` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '申请金额',
  `createtime` varchar(145) NOT NULL COMMENT '申请时间',
  `dotime` varchar(145) NOT NULL COMMENT '操作时间',
  `cashstatus` int(11) NOT NULL COMMENT '结算方式 1打款 2手动完成',
  `applymoney` decimal(10,2) DEFAULT '0.00',
  `trade_no` varchar(45) NOT NULL,
  `deletes` tinyint(1) DEFAULT '1' COMMENT '当前数据是否被合并并且删除(1=否2=是)',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_disdetail` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `disorderid` int(11) NOT NULL COMMENT '分销订单id',
  `leadid` int(11) NOT NULL COMMENT '分销商mid',
  `buymid` int(11) NOT NULL COMMENT '下级mid',
  `type` int(11) NOT NULL COMMENT '1收入 2支出',
  `price` decimal(10,2) NOT NULL COMMENT '金额',
  `createtime` int(11) NOT NULL COMMENT '创建时间',
  `plugin` varchar(32) NOT NULL COMMENT '插件类型',
  `rank` int(11) NOT NULL COMMENT '订单层级',
  `reason` varchar(128) NOT NULL COMMENT '原因',
  `nowmoney` decimal(10,2) NOT NULL COMMENT '当前金额',
  `checkcode` int(11) NOT NULL COMMENT '核销码',
  `status` tinyint(1) NOT NULL COMMENT '类型 0分销 1业务员',
  `aid` int(11) NOT NULL COMMENT '代理id',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_type` (`type`),
  KEY `idx_createtime` (`createtime`),
  KEY `idx_plugin` (`plugin`)
) ENGINE=InnoDB AUTO_INCREMENT=22 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_dislevel` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `name` varchar(45) NOT NULL COMMENT '等级名称',
  `onecommission` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '一级佣金比例',
  `twocommission` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '二级佣金比例',
  `threecommission` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '三级佣金比例',
  `upstandard` int(11) NOT NULL COMMENT '升级要求',
  `createtime` int(11) NOT NULL COMMENT '创建时间',
  `plugin` text NOT NULL COMMENT '适用插件',
  `isdefault` int(11) NOT NULL COMMENT '是否默认',
  `ownstatus` int(11) NOT NULL COMMENT '是否自购返佣',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_createtime` (`createtime`),
  KEY `idx_isdefault` (`isdefault`)
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_disorder` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) DEFAULT NULL,
  `aid` int(11) DEFAULT NULL,
  `status` int(11) DEFAULT NULL COMMENT '分销结算状态 0不可结算 1可结算 2已结算 3已退款',
  `plugin` varchar(145) DEFAULT NULL COMMENT '订单所属插件',
  `orderid` int(11) DEFAULT NULL COMMENT '订单id',
  `orderprice` decimal(10,2) DEFAULT NULL COMMENT '订单金额',
  `buymid` int(11) DEFAULT NULL COMMENT '购买人id',
  `oneleadid` int(11) DEFAULT NULL COMMENT '一级分销商id',
  `twoleadid` int(11) DEFAULT NULL COMMENT '二级分销商id',
  `threeleadid` int(11) DEFAULT NULL COMMENT '三级分销商id',
  `leadmoney` text COMMENT '分销提成金额',
  `createtime` varchar(145) DEFAULT NULL COMMENT '创建时间',
  `neworderflag` int(11) NOT NULL COMMENT '新订单',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid_aid` (`uniacid`,`aid`),
  KEY `idx_buymind` (`buymid`),
  KEY `idx_createtime` (`createtime`),
  KEY `idx_neworderflag` (`neworderflag`)
) ENGINE=InnoDB AUTO_INCREMENT=19 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_distributor` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL,
  `mid` int(11) NOT NULL COMMENT '用户表id',
  `disflag` int(11) NOT NULL COMMENT '分销商标识 1分销商 0下线 -1失效中',
  `leadid` int(11) NOT NULL COMMENT '上级id -1为直属',
  `dismoney` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '累计佣金',
  `nowmoney` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '现有佣金',
  `createtime` varchar(45) NOT NULL COMMENT '创建时间',
  `nickname` varchar(145) NOT NULL COMMENT '昵称',
  `realname` varchar(145) NOT NULL COMMENT '真实姓名',
  `mobile` varchar(100) NOT NULL COMMENT '电话',
  `dislevel` int(11) NOT NULL COMMENT '分销商等级',
  `lockflag` int(11) NOT NULL COMMENT '锁死标志 0锁死 1未锁死',
  `expiretime` int(11) NOT NULL COMMENT '过期时间',
  `source` int(11) NOT NULL COMMENT '来源 1后台添加 0用户申请',
  `subnum` int(11) unsigned NOT NULL COMMENT '下级数量',
  `updatetime` varchar(32) NOT NULL COMMENT '修改时间',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_leadid` (`leadid`),
  KEY `idx_lockflag` (`lockflag`),
  KEY `idx_disflag` (`disflag`),
  KEY `idx_mid` (`mid`)
) ENGINE=InnoDB AUTO_INCREMENT=230 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_diyform` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL COMMENT '公众号id',
  `aid` int(11) NOT NULL COMMENT '代理id',
  `sid` int(11) NOT NULL DEFAULT '0' COMMENT '商户id',
  `title` varchar(50) NOT NULL COMMENT '标题',
  `info` longtext NOT NULL COMMENT '内容',
  `create_time` int(11) NOT NULL COMMENT '添加时间',
  `update_time` int(11) DEFAULT '0' COMMENT '最近编辑时间',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_diypage` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL DEFAULT '0' COMMENT '公众号ID',
  `aid` int(11) NOT NULL DEFAULT '0' COMMENT '所属代理ID',
  `type` tinyint(1) NOT NULL DEFAULT '0' COMMENT '页面的类型 0=所有内容(供开发者查看);1=自定义页面;2=商城首页;3=抢购首页;4=团购首页;',
  `name` varchar(30) NOT NULL DEFAULT '' COMMENT '页面的名称/页面的标题',
  `data` longtext NOT NULL COMMENT '当前页面的配置数据(base64加密)',
  `createtime` int(11) NOT NULL DEFAULT '0' COMMENT '建立时间',
  `lastedittime` int(11) NOT NULL DEFAULT '0' COMMENT '\n最后编辑时间',
  `preview_image` varchar(100) NOT NULL COMMENT '页面预览效果图片',
  `page_class` tinyint(1) NOT NULL DEFAULT '1' COMMENT '1=公众号页面   2=小程序页面',
  `diymenu` int(11) NOT NULL DEFAULT '0' COMMENT '自定义菜单',
  `diyadv` int(11) NOT NULL DEFAULT '0' COMMENT '自定义广告',
  `is_public` tinyint(1) NOT NULL COMMENT '0=私有页面,1=公共页面',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_type` (`type`),
  KEY `idx_lastedittime` (`lastedittime`),
  KEY `idx_createtime` (`createtime`),
  KEY `idx_aid` (`aid`)
) ENGINE=InnoDB AUTO_INCREMENT=37 DEFAULT CHARSET=utf8 COMMENT='页面信息表';


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_diypage_adv` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL DEFAULT '0',
  `aid` int(11) NOT NULL DEFAULT '0',
  `type` int(11) NOT NULL DEFAULT '0' COMMENT '固定为1',
  `name` varchar(255) NOT NULL COMMENT '广告名',
  `data` text NOT NULL COMMENT '广告内容',
  `createtime` int(11) NOT NULL DEFAULT '0' COMMENT '创建时间',
  `lastedittime` int(11) NOT NULL DEFAULT '0' COMMENT '上次修改时间',
  `adv_class` tinyint(1) NOT NULL DEFAULT '1' COMMENT '1=公众号页面   2=小程序页面',
  `is_public` tinyint(1) NOT NULL COMMENT '0=私有广告,1=公共广告',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_createtime` (`createtime`),
  KEY `idx_lastedittime` (`lastedittime`),
  KEY `idx_aid` (`aid`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8 COMMENT='广告信息表';


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_diypage_menu` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL,
  `name` varchar(125) NOT NULL COMMENT '名称',
  `data` text NOT NULL COMMENT '内容',
  `createtime` int(11) NOT NULL COMMENT '创建时间',
  `lastedittime` int(11) NOT NULL COMMENT '上次修改时间',
  `menu_class` tinyint(1) NOT NULL DEFAULT '1' COMMENT '1=公众号菜单   2=小程序菜单',
  `is_public` tinyint(1) DEFAULT NULL COMMENT '0=私有菜单,1=公共菜单',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_aid` (`aid`)
) ENGINE=InnoDB AUTO_INCREMENT=22 DEFAULT CHARSET=utf8 COMMENT='菜单信息表';


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_diypage_temp` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL DEFAULT '0' COMMENT '公众号ID',
  `aid` int(11) NOT NULL DEFAULT '0' COMMENT '代理id',
  `type` tinyint(3) NOT NULL DEFAULT '0' COMMENT '页面的类型页面的类型 1=自定义;2=商城首页;3=会员中心;4=分销中心;5=商品详情页;6=积分商城;7=整点秒杀;8=兑换中心;9=快速购买;99=公用模块''',
  `name` varchar(25) NOT NULL DEFAULT '' COMMENT '模板名称',
  `data` longtext NOT NULL COMMENT '模板页面配置信息',
  `preview` varchar(100) NOT NULL DEFAULT '' COMMENT '预览图片地址',
  `tplid` int(11) NOT NULL DEFAULT '0',
  `cate` int(11) NOT NULL DEFAULT '0' COMMENT '模板分类id',
  `deleted` tinyint(3) NOT NULL DEFAULT '0',
  `page_class` tinyint(1) NOT NULL DEFAULT '1' COMMENT '1=公众号模板   2=小程序模板',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_type` (`type`),
  KEY `idx_cate` (`cate`),
  KEY `idx_aid` (`aid`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8 COMMENT='模板信息表';


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_diypage_temp_cate` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL DEFAULT '0',
  `name` varchar(255) NOT NULL COMMENT '模板分类名',
  `aid` int(11) NOT NULL DEFAULT '0',
  `cate_class` tinyint(1) unsigned NOT NULL DEFAULT '1' COMMENT '1=公众号模板分类   2=小程序模板分类',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_aid` (`aid`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8 COMMENT='模板分类信息表';


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_draw` (
  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL,
  `title` varchar(25) NOT NULL COMMENT '主题,分享主题',
  `type` tinyint(1) unsigned NOT NULL DEFAULT '1' COMMENT '活动类型：1=9宫格，2=16宫格',
  `integral_consume` int(11) NOT NULL DEFAULT '0' COMMENT '用户抽奖次数使用完后继续抽奖需要消耗的积分(0则不消耗积分)',
  `integral_give` int(11) NOT NULL DEFAULT '0' COMMENT '用户分享后其他用户点击时获取的积分(0则不赠送积分)',
  `status` tinyint(1) unsigned NOT NULL DEFAULT '2' COMMENT '状态：1=未开启，2=使用中',
  `share_image` varchar(255) DEFAULT NULL COMMENT '顶部图片',
  `create_time` int(11) DEFAULT NULL COMMENT '创建时间',
  `start_time` int(11) DEFAULT NULL COMMENT '开始时间',
  `end_time` int(11) DEFAULT NULL COMMENT '结束时间',
  `total_join_times` int(11) DEFAULT NULL COMMENT '总免费参加次数',
  `total_draw_times` int(11) DEFAULT NULL COMMENT '总中奖次数',
  `day_join_times` int(11) DEFAULT NULL COMMENT '每人每天免费参加次数',
  `day_draw_times` int(11) DEFAULT NULL COMMENT '每人每天中奖次数',
  `fictitious_visit` int(11) DEFAULT NULL COMMENT '虚拟参加人数',
  `fictitious_prize` int(11) DEFAULT NULL COMMENT '虚拟中奖人数',
  `fictitious_pv` int(11) DEFAULT NULL COMMENT '虚拟浏览人数',
  `background_image` varchar(255) DEFAULT NULL COMMENT '背景图',
  `background_music` varchar(255) DEFAULT NULL COMMENT '背景音乐',
  `start_image` varchar(255) DEFAULT NULL COMMENT '开始抽奖图片',
  `prize_image` varchar(255) DEFAULT NULL COMMENT '中奖效果图片',
  `not_prize_image` varchar(255) DEFAULT NULL COMMENT '未中奖背景图',
  `use_music` varchar(255) DEFAULT NULL COMMENT '抽奖音效',
  `rule` longtext COMMENT '规则说明',
  `introduce` longtext COMMENT '抽奖介绍',
  `pv` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '浏览人数',
  `bg_color` varchar(10) DEFAULT NULL COMMENT '背景颜色',
  `button_more` varchar(255) DEFAULT NULL COMMENT '获取更多抽奖次数按钮',
  `button_draw` varchar(255) DEFAULT NULL COMMENT '抽奖按钮',
  `button_prize` varchar(255) DEFAULT NULL COMMENT '我的奖品按钮',
  `menu_id` int(11) unsigned DEFAULT '0' COMMENT '自定义装修菜单id',
  `button_color` varchar(32) NOT NULL COMMENT '小按钮颜色',
  `button_shadow` varchar(32) NOT NULL COMMENT '小按钮阴影颜色',
  `poster_bg` varchar(255) DEFAULT NULL COMMENT '海报背景图',
  `wheel_bg` varchar(255) DEFAULT NULL COMMENT '轮盘扇叶背景颜色',
  `share_title` varchar(50) DEFAULT NULL COMMENT '分享标题',
  `share_desc` varchar(255) DEFAULT NULL COMMENT '分享描述',
  `share_img` varchar(255) DEFAULT NULL COMMENT '分享图片',
  `day_parin_times` int(11) DEFAULT NULL COMMENT '每天参与总次数',
  `total_parin_times` int(11) DEFAULT NULL COMMENT '总共参与的总人数',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_draw_goods` (
  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `aid` int(11) NOT NULL,
  `uniacid` int(11) NOT NULL,
  `type` tinyint(1) NOT NULL COMMENT '奖品类型:1=现金红包,2=线上红包,3=积分,4=激活码,5=商品',
  `goods_id` int(11) DEFAULT NULL COMMENT '商品id、红包id',
  `goods_plugin` varchar(20) DEFAULT NULL COMMENT '商品类型(英文字符串标识)',
  `sid` int(11) DEFAULT NULL COMMENT '关联商户(仅奖品类型为商品时存在)',
  `get_type` tinyint(1) DEFAULT NULL COMMENT '领取方式：1=发送现金红包，2=增加到余额(仅奖品类型为现金红包时操作)',
  `prize_number` double(10,2) DEFAULT NULL COMMENT '现金红包-金额、积分-奖励积分',
  `code_keyword` varchar(255) DEFAULT NULL COMMENT '激活码关键字',
  `title` varchar(25) NOT NULL COMMENT '奖品名称',
  `image` varchar(255) NOT NULL COMMENT '奖品图片',
  `probability` decimal(10,2) NOT NULL COMMENT '中奖概率(1-100)%',
  `day_number` int(11) NOT NULL DEFAULT '0' COMMENT '每日份数',
  `total_number` int(11) NOT NULL DEFAULT '0' COMMENT '总份数',
  `status` tinyint(1) DEFAULT '1' COMMENT '状态:1=上架，2=下架',
  `create_time` int(11) DEFAULT NULL COMMENT '添加时间',
  `day_prize` int(11) DEFAULT '0' COMMENT '每人每天可中奖次数',
  `total_prize` int(11) DEFAULT NULL COMMENT '每人总共可中奖次数',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_draw_help` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) unsigned NOT NULL,
  `aid` int(11) unsigned NOT NULL,
  `type` tinyint(1) unsigned NOT NULL DEFAULT '1' COMMENT '模块类型:1=抽奖,2=...',
  `activity_id` int(11) DEFAULT NULL COMMENT '活动id',
  `mid` int(11) NOT NULL COMMENT '分享用户id',
  `click_mid` int(11) NOT NULL COMMENT '点击用户id',
  `create_time` int(11) NOT NULL COMMENT '点击时间',
  `integral` double(10,2) NOT NULL DEFAULT '0.00' COMMENT '获取的积分',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_draw_join` (
  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `draw_id` int(11) NOT NULL DEFAULT '0' COMMENT '抽奖活动id',
  `draw_goods_id` int(11) NOT NULL DEFAULT '0' COMMENT '奖品id',
  `probability` double(10,2) NOT NULL DEFAULT '0.00' COMMENT '中奖几率',
  `serial_number` tinyint(2) DEFAULT NULL COMMENT '序号(当前奖品在该活动中的顺序)',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_draw_record` (
  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL,
  `mid` int(11) NOT NULL COMMENT '用户id',
  `draw_id` int(11) NOT NULL COMMENT '活动id',
  `draw_goods_id` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '奖品id（为0则未中奖）',
  `create_time` int(11) DEFAULT NULL COMMENT '抽奖时间',
  `is_get` tinyint(1) DEFAULT '1' COMMENT '是否领取奖品:1=未领取，2=已领取',
  `order_no` varchar(50) NOT NULL COMMENT '订单号',
  `token_id` int(11) NOT NULL COMMENT '激活码id',
  `is_free` tinyint(1) DEFAULT '1' COMMENT '当前抽奖是否为免费抽奖:1=免费,2=使用积分抽奖',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_express` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `mid` int(11) NOT NULL COMMENT '用户id',
  `goodsid` int(11) NOT NULL COMMENT '商品id',
  `merchantid` int(11) NOT NULL COMMENT '商家id',
  `orderid` int(11) NOT NULL COMMENT '订单id',
  `name` varchar(145) NOT NULL COMMENT '收件人姓名',
  `tel` varchar(45) NOT NULL COMMENT '收件人电话',
  `address` text NOT NULL COMMENT '地址',
  `expressprice` decimal(10,2) NOT NULL COMMENT '快递费',
  `expressname` varchar(45) NOT NULL COMMENT '物流名称',
  `expresssn` varchar(45) NOT NULL COMMENT '物流单号',
  `sendtime` varchar(45) NOT NULL COMMENT '发货时间',
  `receivetime` varchar(45) NOT NULL COMMENT '接收时间',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_orderid` (`orderid`)
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_express_template` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL,
  `name` varchar(200) NOT NULL COMMENT '模板名称',
  `expressarray` text NOT NULL COMMENT '详细运费',
  `defaultnum` int(11) NOT NULL COMMENT '默认起始件数',
  `defaultmoney` decimal(10,2) NOT NULL COMMENT '默认起始费用',
  `defaultnumex` int(11) NOT NULL COMMENT '默认增加件数',
  `defaultmoneyex` decimal(10,2) NOT NULL COMMENT '默认增加费用',
  `createtime` varchar(45) NOT NULL COMMENT '创建时间',
  `sid` int(11) NOT NULL COMMENT '运费模板',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid_aid` (`uniacid`,`aid`),
  KEY `idx_createtime` (`createtime`)
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_fabulous` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `mid` int(10) unsigned NOT NULL COMMENT '点赞用户id',
  `relation_id` int(10) unsigned NOT NULL COMMENT '关联好评表||头条留言表的id',
  `class` tinyint(1) unsigned NOT NULL COMMENT '点赞类别(1=好评点赞,2=头条留言点赞)',
  `times` varchar(11) NOT NULL COMMENT '点赞时间',
  PRIMARY KEY (`id`),
  KEY `idx_times` (`times`),
  KEY `idx_relation_id` (`relation_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='头条留言信息表';


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_fightgroup_category` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL,
  `name` varchar(50) NOT NULL COMMENT '分类名称',
  `logo` varchar(255) NOT NULL COMMENT '分类图片',
  `listorder` int(11) NOT NULL COMMENT '排序',
  `is_show` int(11) NOT NULL COMMENT '首页显示 0显示 1隐藏',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid_aid` (`uniacid`,`aid`),
  KEY `idx_listorder` (`listorder`)
) ENGINE=InnoDB AUTO_INCREMENT=223 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_fightgroup_falsemember` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL,
  `nickname` varchar(125) NOT NULL,
  `avatar` varchar(445) NOT NULL,
  `createtime` varchar(125) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_fightgroup_goods` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL,
  `status` int(11) NOT NULL COMMENT '状态 0未上架 1上架 4已删除 5审核中 6未通过',
  `merchantid` int(11) NOT NULL COMMENT '商家id',
  `name` varchar(145) NOT NULL COMMENT '商品名称',
  `logo` varchar(145) NOT NULL COMMENT '商品logo图片',
  `detail` longtext NOT NULL COMMENT '商品详情',
  `price` decimal(10,2) NOT NULL COMMENT '团购价',
  `aloneprice` decimal(10,2) NOT NULL COMMENT '单买价',
  `oldprice` decimal(10,2) NOT NULL COMMENT '市场价',
  `peoplenum` int(11) NOT NULL COMMENT '组团人数',
  `grouptime` decimal(10,2) NOT NULL COMMENT '组团时间（单位小时）',
  `specstatus` int(11) NOT NULL COMMENT '规格类型 0无规格 1同价格规格 2不同价格规格',
  `specdetail` text NOT NULL COMMENT '规格详情',
  `categoryid` int(11) NOT NULL COMMENT '分类id',
  `tag` text NOT NULL COMMENT '商品标签',
  `stock` int(11) NOT NULL COMMENT '库存',
  `realsalenum` int(11) NOT NULL COMMENT '真实销量',
  `falsesalenum` int(11) NOT NULL COMMENT '虚拟销量',
  `listorder` int(11) NOT NULL COMMENT '商品排序',
  `buylimit` int(11) NOT NULL COMMENT '购买限制',
  `unit` varchar(32) NOT NULL COMMENT '单位',
  `adv` text NOT NULL COMMENT '商品幻灯片',
  `share_image` varchar(145) NOT NULL COMMENT '分享图片',
  `share_title` varchar(145) NOT NULL COMMENT '分享标题',
  `share_desc` text NOT NULL COMMENT '分享描述',
  `usestatus` int(11) NOT NULL COMMENT '消费方式 0到店消费 1快递 2都支持',
  `expressid` int(11) NOT NULL COMMENT '运费模板id',
  `vipdiscount` decimal(10,2) NOT NULL COMMENT 'VIP减免',
  `markid` int(11) NOT NULL COMMENT '营销表id',
  `islimittime` int(11) NOT NULL COMMENT '是否时间限时',
  `limitstarttime` varchar(45) NOT NULL COMMENT '开始时间',
  `limitendtime` varchar(45) NOT NULL COMMENT '结束时间',
  `settlementmoney` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '结算金额',
  `onedismoney` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '一级分销',
  `twodismoney` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '二级分销',
  `threedismoney` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '三级分销',
  `isdistri` int(11) NOT NULL COMMENT '是否参与分销0参与 1不参与',
  `userlabel` text NOT NULL COMMENT '用户标签',
  `independent` int(11) NOT NULL COMMENT '独立结算开关 0开启 1关闭',
  `pv` int(10) NOT NULL COMMENT '浏览量',
  `allowapplyre` int(11) NOT NULL COMMENT '是否允许退款',
  `cutoffstatus` int(11) NOT NULL COMMENT '截止时间类型',
  `cutofftime` int(11) NOT NULL COMMENT '截止时间',
  `cutoffday` int(11) NOT NULL COMMENT '截止天数',
  `overrefund` tinyint(1) NOT NULL COMMENT '过期退款',
  `dissettime` int(11) NOT NULL COMMENT '佣金结算时间',
  `diyposter` int(11) NOT NULL COMMENT '自定义海报',
  `code` varchar(145) NOT NULL COMMENT '商品编号',
  `describe` text NOT NULL COMMENT '购买须知',
  `appointment` int(11) NOT NULL COMMENT '预约时间',
  `op_one_limit` int(11) NOT NULL COMMENT '单人限购',
  `is_indexshow` int(11) NOT NULL COMMENT '首页显示',
  `bgmusic` varchar(255) NOT NULL COMMENT '背景音乐',
  `integral` int(11) NOT NULL COMMENT '赠送积分\n',
  `creditmoney` decimal(10,2) NOT NULL COMMENT '积分能抵扣的金额',
  `falseorder` text NOT NULL COMMENT '虚拟订单',
  `vipsettlementmoney` decimal(10,2) NOT NULL COMMENT '会员价结算金额',
  `viponedismoney` decimal(10,0) NOT NULL COMMENT '会员价一级分销佣金',
  `viptwodismoney` decimal(10,0) NOT NULL COMMENT '会员价二级分销商佣金',
  `vipstatus` int(11) NOT NULL COMMENT '特权状态 0无 1会员减免 2会员特供',
  `level` text NOT NULL COMMENT '适用等级',
  `communityid` int(11) NOT NULL COMMENT '社群id',
  `is_pool` tinyint(1) NOT NULL DEFAULT '0' COMMENT '0开启凑团1关闭',
  `is_imitate` tinyint(1) NOT NULL DEFAULT '0' COMMENT '0关闭模拟成团1开启',
  `is_com_dis` tinyint(1) NOT NULL DEFAULT '0' COMMENT '0关闭团长优惠1开启',
  `com_dis_price` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '团长优惠金额',
  `share_wxapp_image` varchar(250) DEFAULT NULL COMMENT '小程序分享图片',
  `is_describe_tip` tinyint(1) unsigned DEFAULT '0' COMMENT '是否开启购买须知提醒(0=关闭，1=开启)',
  `extension_text` text NOT NULL COMMENT '推广文案',
  `extension_img` text NOT NULL COMMENT '推广图片路径',
  `pay_type` varchar(255) NOT NULL COMMENT '商品独立支付方式',
  `cash_back` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否开启支付返现(0=关闭，1=开启)',
  `return_proportion` tinyint(3) NOT NULL DEFAULT '0' COMMENT '返现比例（1=100）',
  `fullreduceid` int(11) NOT NULL COMMENT '满减活动id',
  `paidid` int(11) NOT NULL COMMENT '支付有礼活动id',
  `usedatestatus` tinyint(1) NOT NULL COMMENT '定时购买 1按星期 2按天数',
  `week` varchar(355) NOT NULL COMMENT '按星期时间',
  `day` varchar(355) NOT NULL COMMENT '按天数时间',
  `daylimit` int(11) NOT NULL COMMENT '每日限量',
  `aloneprice_switch` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否允许单购(0=允许，1=不允许)',
  `viparray` text NOT NULL COMMENT '会员价减少数组',
  `disarray` text NOT NULL COMMENT '分销商佣金数组',
  `diyformid` int(11) NOT NULL DEFAULT '0' COMMENT '自定义表单id',
  `alldaylimit` int(11) NOT NULL COMMENT '每天限购总量',
  `isdistristatus` tinyint(1) NOT NULL COMMENT '分销设置方式：0 百分比 1固定金额',
  `appointstatus` tinyint(1) NOT NULL COMMENT '预约类型：0 关闭 1开启',
  `appointdays` int(11) NOT NULL COMMENT '可预约天数',
  `appointarray` text COMMENT '预约数组',
  `videourl` varchar(255) NOT NULL COMMENT '视频链接',
  `is_lucky` tinyint(1) DEFAULT NULL COMMENT '是否为幸运团',
  `luckynum` int(11) DEFAULT NULL COMMENT '幸运人数',
  `luckymoney` decimal(10,2) DEFAULT NULL COMMENT '退款红包',
  `yuecashback` decimal(10,2) DEFAULT NULL COMMENT '普通用户余额返现',
  `vipyuecashback` decimal(10,2) DEFAULT NULL COMMENT '会员余额返现',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid_aid` (`uniacid`,`aid`),
  KEY `idx_status` (`status`),
  KEY `idx_listorder` (`listorder`),
  KEY `idx_pv` (`pv`),
  KEY `idx_merchantid` (`merchantid`)
) ENGINE=InnoDB AUTO_INCREMENT=8 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_fightgroup_group` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL,
  `status` int(11) NOT NULL COMMENT '团状态 1组团中 2组团成功 3组团失败',
  `goodsid` int(11) NOT NULL COMMENT '商品id',
  `sid` int(11) NOT NULL COMMENT '商家id',
  `neednum` int(11) NOT NULL COMMENT '需要人数',
  `lacknum` int(11) NOT NULL COMMENT '缺少人数',
  `starttime` varchar(145) NOT NULL COMMENT '开团时间',
  `failtime` varchar(145) NOT NULL COMMENT '时间',
  `successtime` varchar(145) NOT NULL COMMENT '组团成功时间',
  `is_lucky` tinyint(1) DEFAULT NULL COMMENT '是否幸运团',
  `luckyorderids` text COMMENT '幸运订单号数组',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid_aid` (`uniacid`,`aid`),
  KEY `idx_status` (`status`),
  KEY `idx_strattime` (`starttime`),
  KEY `idx_goodsid` (`goodsid`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_fightgroup_userecord` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `orderid` int(11) NOT NULL,
  `qrcode` varchar(145) NOT NULL COMMENT '核销码',
  `createtime` varchar(145) NOT NULL COMMENT '创建时间',
  `usetimes` int(11) NOT NULL COMMENT '使用次数',
  `usedtime` text NOT NULL COMMENT '核销详情 type 1扫码核销 2后台核销 3商家核销工具核销 ',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_formid` (
  `id` int(11) unsigned NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `mid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户id',
  `form_id` varchar(50) NOT NULL DEFAULT '0' COMMENT '模板id',
  `expiry_time` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '过期时间',
  `create_time` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '创建时间',
  `uniacid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '公众号id',
  `is_used` tinyint(3) unsigned NOT NULL DEFAULT '0' COMMENT '是否已使用',
  `used_time` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '使用时间',
  `type` tinyint(1) unsigned DEFAULT '1' COMMENT 'id类型：1=小程序模板消息id，2=小程序订阅消息id，3=公众号订阅消息id',
  `temp_type` varchar(20) DEFAULT NULL COMMENT '订单支付成功 = pay；订单发货提醒 = send；售后状态通知 = after_sale；退款成功通知 = refund；订单待付款提醒 = remind；业务处理结果通知 = service\n#核销成功提醒 = write_off；拼团结果通知 = fight；商品下架提醒 = shop；签到成功通知 = sign',
  PRIMARY KEY (`id`),
  KEY `idx_mid` (`mid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_fullreduce_list` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL COMMENT '公众号id',
  `aid` int(11) NOT NULL COMMENT '代理id',
  `title` varchar(255) NOT NULL COMMENT '红包标题',
  `status` int(11) NOT NULL COMMENT '状态 0启用 1禁用',
  `sort` int(11) NOT NULL COMMENT '排序',
  `rules` text NOT NULL COMMENT '满减规则',
  `createtime` int(11) NOT NULL COMMENT '创建时间',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_goods_option` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `type` int(11) NOT NULL COMMENT '1抢购 2拼团 3团购',
  `goodsid` int(11) NOT NULL COMMENT '商品id',
  `title` varchar(50) NOT NULL COMMENT '规格名称',
  `thumb` varchar(225) NOT NULL COMMENT '规格图',
  `specs` text NOT NULL COMMENT '组合的单项规格id',
  `stock` int(11) NOT NULL COMMENT '库存',
  `price` decimal(10,2) NOT NULL COMMENT '价格',
  `vipprice` decimal(10,2) NOT NULL COMMENT 'VIP特价',
  `settlementmoney` decimal(10,2) NOT NULL COMMENT '结算金额',
  `vipsettlementmoney` decimal(10,2) NOT NULL COMMENT 'vip结算金额',
  `onedismoney` decimal(10,2) NOT NULL COMMENT '一级分销金额',
  `twodismoney` decimal(10,2) NOT NULL COMMENT '二级分销金额',
  `threedismoney` decimal(10,2) NOT NULL COMMENT '三级分销金额',
  `viparray` text NOT NULL COMMENT '折扣数组',
  `disarray` text NOT NULL COMMENT '分销数组',
  `uuid` int(11) DEFAULT NULL COMMENT '票付通id',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_goodsid` (`goodsid`),
  KEY `idx_type` (`type`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_goods_spec` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `goodsid` int(11) NOT NULL COMMENT '商品id',
  `title` varchar(50) NOT NULL COMMENT '规格项',
  `description` tinyint(1) NOT NULL COMMENT '弃用字段',
  `displaytype` tinyint(3) NOT NULL COMMENT '是否显示',
  `content` text NOT NULL COMMENT '规格内容压缩字符串',
  `displayorder` int(11) NOT NULL COMMENT '排序',
  `type` int(11) NOT NULL COMMENT '1 抢购商品',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_displayorder` (`displayorder`),
  KEY `idx_goodsid` (`goodsid`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_goods_spec_item` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `specid` int(11) NOT NULL COMMENT '父规格id',
  `title` varchar(225) NOT NULL COMMENT '规格名',
  `thumb` varchar(225) NOT NULL COMMENT '规格图',
  `show` int(11) NOT NULL COMMENT '是否显示',
  `displayorder` int(11) NOT NULL COMMENT '排序',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_specid` (`specid`),
  KEY `idx_displayorder` (`displayorder`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_goodshouse` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `sid` int(11) NOT NULL COMMENT '商家id',
  `aid` int(11) NOT NULL COMMENT '代理id',
  `name` varchar(145) NOT NULL COMMENT '活动名称',
  `code` varchar(145) NOT NULL COMMENT '商品编号',
  `describe` varchar(255) NOT NULL COMMENT '描述',
  `detail` text COMMENT '详情',
  `price` decimal(10,2) DEFAULT '0.00' COMMENT '抢购价',
  `oldprice` decimal(10,2) DEFAULT '0.00' COMMENT '原价',
  `vipprice` decimal(10,2) DEFAULT '0.00' COMMENT 'vip价格',
  `num` int(11) NOT NULL COMMENT '限量',
  `levelnum` int(11) NOT NULL COMMENT '剩余数量',
  `endtime` varchar(225) NOT NULL COMMENT '活动结束时间',
  `follow` int(11) NOT NULL COMMENT '关注人数',
  `tag` text COMMENT '标签',
  `share_title` varchar(32) NOT NULL,
  `share_image` varchar(250) DEFAULT NULL,
  `share_desc` varchar(32) NOT NULL,
  `unit` varchar(32) NOT NULL COMMENT '单位',
  `thumb` varchar(145) NOT NULL COMMENT '首页图片',
  `thumbs` text COMMENT '图集',
  `salenum` int(11) NOT NULL COMMENT '销量',
  `displayorder` int(11) NOT NULL COMMENT '排序',
  `stock` int(11) NOT NULL COMMENT '库存',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=7 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_groupon_activity` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL COMMENT '公众号id',
  `sid` int(11) NOT NULL COMMENT '商家id',
  `aid` int(11) NOT NULL COMMENT '代理id',
  `name` varchar(145) NOT NULL COMMENT '活动名称【可和仓库的商品名称一致】',
  `code` varchar(145) NOT NULL COMMENT '商品编号',
  `detail` longtext NOT NULL COMMENT '详情',
  `price` decimal(10,2) NOT NULL COMMENT '抢购价',
  `oldprice` decimal(10,2) NOT NULL COMMENT '原价',
  `vipprice` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT 'vip价格',
  `num` int(11) NOT NULL COMMENT '库存',
  `levelnum` int(11) NOT NULL COMMENT '剩余数量',
  `status` int(11) NOT NULL DEFAULT '1' COMMENT '1进行中2已结束',
  `starttime` varchar(225) NOT NULL COMMENT '活动开始时间',
  `endtime` varchar(225) NOT NULL COMMENT '活动结束时间',
  `follow` int(11) NOT NULL COMMENT '关注人数',
  `tag` text NOT NULL COMMENT '标签',
  `orderinfo` varchar(255) NOT NULL COMMENT '订单信息',
  `share_title` varchar(32) NOT NULL COMMENT '分享标题',
  `share_image` varchar(250) NOT NULL COMMENT '分享图片',
  `share_desc` varchar(250) NOT NULL COMMENT '分享描述',
  `unit` varchar(32) NOT NULL COMMENT '单位',
  `thumb` varchar(145) NOT NULL COMMENT '首页图片',
  `thumbs` text NOT NULL COMMENT '图集',
  `describe` text NOT NULL COMMENT '购买须知',
  `op_one_limit` int(11) NOT NULL COMMENT '单人限购',
  `cutofftime` int(11) NOT NULL COMMENT '截止时间',
  `is_indexshow` int(11) NOT NULL DEFAULT '1' COMMENT '首页是否显示',
  `allsalenum` int(11) NOT NULL COMMENT '虚拟销量',
  `sort` int(11) NOT NULL DEFAULT '0' COMMENT '排序',
  `cutoffstatus` int(11) NOT NULL COMMENT '截止时间类型',
  `cutoffday` int(11) NOT NULL COMMENT '购买后有效天数',
  `retainage` decimal(10,2) NOT NULL COMMENT '尾款',
  `appointment` int(11) NOT NULL COMMENT '预约小时',
  `integral` int(11) NOT NULL COMMENT '获得积分',
  `pv` int(11) NOT NULL COMMENT '人气',
  `vipstatus` int(11) NOT NULL COMMENT '0无 1会员特价 2会员特供',
  `cateid` int(11) NOT NULL COMMENT '抢购分类ID',
  `specialid` int(11) NOT NULL COMMENT '主题ID',
  `settlementmoney` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '结算金额',
  `onedismoney` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '一级分销',
  `twodismoney` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '二级分销',
  `threedismoney` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '三级分销',
  `isdistri` int(11) NOT NULL COMMENT '是否参与核销 0参与 1不参与',
  `falseorder` text NOT NULL COMMENT '虚拟订单',
  `bgmusic` varchar(255) NOT NULL COMMENT '背景音乐',
  `vipsettlementmoney` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT 'vip结算金额',
  `viponedismoney` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT 'vip一级分销',
  `viptwodismoney` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT 'vip二级分销',
  `vipthreedismoney` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT 'vip三级分销',
  `optionstatus` int(11) NOT NULL COMMENT '多规格标记',
  `userlabel` text NOT NULL COMMENT '用户标签',
  `listtag` text NOT NULL COMMENT '列表标签',
  `subtitle` varchar(255) NOT NULL COMMENT '副标题',
  `recommend` int(11) NOT NULL COMMENT '推荐标记',
  `createtime` int(11) NOT NULL COMMENT '创建时间',
  `sharemoney` decimal(10,2) NOT NULL COMMENT '分享金额',
  `sharestatus` int(11) NOT NULL COMMENT '分享有礼状态',
  `independent` int(11) NOT NULL COMMENT '独立结算开关 0开启 1关闭',
  `falsesalenum` int(11) NOT NULL COMMENT '虚拟销量',
  `allowapplyre` int(11) NOT NULL COMMENT '是否允许退款 0允许 1不允许',
  `usestatus` int(11) NOT NULL COMMENT '使用方式 0到店核销 1快递 2同时支持',
  `expressid` int(11) NOT NULL COMMENT '运费模板',
  `fastpay` int(11) NOT NULL COMMENT '快速致富 0开启 1关闭',
  `overrefund` tinyint(1) NOT NULL COMMENT '过期退款',
  `level` text NOT NULL COMMENT '适用等级',
  `dissettime` int(11) NOT NULL COMMENT '分佣时间',
  `diyposter` int(11) NOT NULL COMMENT '自定义海报ID',
  `creditmoney` decimal(10,0) NOT NULL COMMENT '积分抵扣金额',
  `communityid` int(11) NOT NULL COMMENT '社群id\n',
  `share_wxapp_image` varchar(250) DEFAULT NULL COMMENT '小程序分享图片',
  `is_describe_tip` tinyint(1) unsigned DEFAULT '0' COMMENT '是否开启购买须知提醒(0=关闭，1=开启)',
  `extension_text` text NOT NULL COMMENT '推广文案',
  `extension_img` text NOT NULL COMMENT '推广图片路径',
  `pay_type` varchar(255) NOT NULL COMMENT '商品独立支付方式',
  `cash_back` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否开启支付返现(0=关闭，1=开启)',
  `return_proportion` tinyint(3) NOT NULL DEFAULT '0' COMMENT '返现比例（1=100）',
  `fullreduceid` int(11) NOT NULL COMMENT '满减活动id',
  `paidid` int(11) NOT NULL COMMENT '支付有礼活动id',
  `usedatestatus` tinyint(2) NOT NULL COMMENT '定时购买 1按星期 2按天数',
  `week` varchar(355) NOT NULL COMMENT '按星期时间',
  `day` varchar(355) NOT NULL COMMENT '按天数时间',
  `daylimit` int(11) NOT NULL COMMENT '每日限量',
  `viparray` text NOT NULL COMMENT '会员减免数组',
  `disarray` text COMMENT '分销商佣金数组',
  `diyformid` int(11) NOT NULL DEFAULT '0' COMMENT '自定义表单id',
  `alldaylimit` int(11) NOT NULL COMMENT '每天限购总量',
  `isdistristatus` tinyint(1) NOT NULL COMMENT '分销设置方式：0 百分比 1固定金额',
  `appointstatus` tinyint(1) NOT NULL COMMENT '预约类型：0 关闭 1开启',
  `appointdays` int(11) NOT NULL COMMENT '可预约天数',
  `appointarray` text NOT NULL COMMENT '预约数组',
  `videourl` varchar(255) NOT NULL COMMENT '视频链接',
  `yuecashback` decimal(10,2) NOT NULL COMMENT '普通用户余额返现',
  `vipyuecashback` decimal(10,2) NOT NULL COMMENT '会员余额返现',
  `checkcodeflag` int(11) DEFAULT NULL COMMENT '核销码类型 0系统核销码 1导入核销码',
  `pftid` int(11) DEFAULT NULL COMMENT '票付通id',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid_aid_status` (`uniacid`,`aid`,`status`),
  KEY `idx_sid` (`sid`),
  KEY `idx_indexshow` (`is_indexshow`),
  KEY `idx_sort` (`sort`),
  KEY `idx_pv` (`pv`)
) ENGINE=InnoDB AUTO_INCREMENT=26 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_groupon_category` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL DEFAULT '0',
  `name` varchar(255) NOT NULL COMMENT '分类名',
  `aid` int(11) NOT NULL DEFAULT '0',
  `thumb` varchar(225) NOT NULL COMMENT '分类图片',
  `sort` int(11) NOT NULL COMMENT '排序',
  `parentid` int(10) NOT NULL COMMENT '父分类id',
  `is_show` tinyint(1) DEFAULT '0' COMMENT '首页显示 0显示 1隐藏',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_aid` (`aid`)
) ENGINE=InnoDB AUTO_INCREMENT=371 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_groupon_userecord` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) DEFAULT NULL,
  `aid` int(11) DEFAULT NULL,
  `orderid` int(11) DEFAULT NULL,
  `qrcode` varchar(145) DEFAULT NULL COMMENT '核销码',
  `createtime` varchar(145) DEFAULT NULL COMMENT '创建时间',
  `usetimes` int(11) DEFAULT NULL COMMENT '使用次数',
  `usedtime` text COMMENT '核销详情 type 1扫码核销 2后台核销 3商家核销工具核销 ',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=7 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_gvccode` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `createtime` int(11) NOT NULL COMMENT '创建时间',
  `code` int(11) NOT NULL COMMENT '图形码',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_halfcard_qrscan` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `cardid` int(11) NOT NULL COMMENT '一卡通或商品id',
  `openid` varchar(50) NOT NULL COMMENT '扫码人openid',
  `scantime` int(11) NOT NULL COMMENT '扫码时间',
  `type` varchar(32) NOT NULL COMMENT '二维码类型',
  `url` varchar(255) NOT NULL COMMENT '链接',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid_openid_scantime` (`uniacid`,`openid`,`scantime`)
) ENGINE=InnoDB AUTO_INCREMENT=75 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_halfcard_realcard` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `uniacid` int(10) unsigned NOT NULL,
  `cardid` int(11) NOT NULL COMMENT '购卡ID',
  `days` int(11) NOT NULL COMMENT '包含时长',
  `cardsn` varchar(64) NOT NULL COMMENT '实卡编号',
  `salt` varchar(32) NOT NULL COMMENT '加密盐',
  `status` tinyint(1) unsigned NOT NULL COMMENT '绑定状态 1未绑定 2已绑定',
  `createtime` int(10) unsigned NOT NULL COMMENT '创建时间',
  `bindtime` int(10) NOT NULL COMMENT '绑定时间',
  `remark` varchar(50) NOT NULL COMMENT '场景备注',
  `url` varchar(255) NOT NULL COMMENT '短链',
  `levelid` int(11) NOT NULL COMMENT '匹配等级',
  `icestatus` int(11) NOT NULL COMMENT '冻结状态 1已冻结',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`) USING BTREE,
  KEY `idx_mid` (`cardid`),
  KEY `idx_status` (`status`),
  KEY `idx_createtime` (`createtime`)
) ENGINE=InnoDB AUTO_INCREMENT=5021 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_halfcard_record` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `mid` int(11) NOT NULL COMMENT '开卡人mid',
  `aid` int(11) NOT NULL,
  `price` decimal(10,2) NOT NULL COMMENT '充值金额',
  `howlong` varchar(145) NOT NULL COMMENT '充值五折卡月数',
  `paytime` varchar(145) NOT NULL COMMENT '充值时间',
  `orderno` varchar(145) NOT NULL COMMENT '充值单号',
  `limittime` varchar(145) NOT NULL COMMENT '下次到期时期',
  `status` int(11) NOT NULL COMMENT '0未支付 1已经支付',
  `paytype` int(11) NOT NULL COMMENT '支付方式 1余额 2微信 3支付宝 5小程序',
  `transid` varchar(145) NOT NULL COMMENT '三方订单号',
  `createtime` varchar(145) NOT NULL COMMENT '创建时间',
  `issettlement` int(11) NOT NULL DEFAULT '0' COMMENT '是否结算 0未结算 1已结算',
  `typeid` int(11) NOT NULL DEFAULT '0' COMMENT '开卡类型id',
  `is_vip` int(11) NOT NULL DEFAULT '0' COMMENT '是否同步开通vip(已弃用)',
  `disorderid` int(11) NOT NULL DEFAULT '0' COMMENT '分销订单id',
  `todistributor` int(11) NOT NULL DEFAULT '0' COMMENT '是否同步开通分销商',
  `cardid` int(11) NOT NULL DEFAULT '0' COMMENT '充值卡号',
  `username` varchar(32) NOT NULL COMMENT '持卡人姓名',
  `paidprid` int(11) NOT NULL COMMENT '支付有礼id',
  `mobile` varchar(20) NOT NULL COMMENT '开卡电话',
  `mototype` varchar(32) NOT NULL COMMENT '车型',
  `platenumber` varchar(32) NOT NULL COMMENT '车牌号',
  `paysetid` int(11) NOT NULL COMMENT '支付商户设置id',
  `allocationtype` int(11) NOT NULL COMMENT '分账方式 0平台系统 1服务商分账',
  `moinfo` text COMMENT '自定义表单内容',
  PRIMARY KEY (`id`),
  KEY `idx_aid` (`aid`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_status` (`status`),
  KEY `idx_createtime` (`createtime`)
) ENGINE=InnoDB AUTO_INCREMENT=25 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_halfcard_type` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `logo` varchar(145) NOT NULL COMMENT '类型logo图',
  `name` varchar(145) NOT NULL COMMENT '类型名称',
  `days` int(11) NOT NULL DEFAULT '0' COMMENT '开卡天数',
  `price` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '类型金额',
  `status` int(11) NOT NULL COMMENT '状态',
  `num` int(11) NOT NULL COMMENT '可开通次数',
  `aid` int(11) NOT NULL DEFAULT '0',
  `is_vip` int(11) NOT NULL DEFAULT '0' COMMENT '是否同步开通VIP（已弃用）',
  `todistributor` int(11) NOT NULL DEFAULT '0' COMMENT '是否同步开启分销商',
  `is_hot` int(11) NOT NULL DEFAULT '0' COMMENT '是否热门',
  `onedismoney` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '一级分销商佣金',
  `twodismoney` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '二级分销商佣金',
  `threedismoney` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '三级分销商佣金',
  `isdistri` int(11) NOT NULL COMMENT '是否参加分销 0参加 1不参与',
  `sort` int(11) NOT NULL COMMENT '排序',
  `levelid` int(11) NOT NULL COMMENT '等级id',
  `give_price` decimal(10,0) NOT NULL COMMENT '开通一卡通时赠送的金额',
  `detail` text NOT NULL COMMENT '一卡通的详细信息',
  `qrshow` tinyint(1) NOT NULL COMMENT '仅限扫码进入显示',
  `renew` tinyint(1) NOT NULL COMMENT '是否用于续费 0可以 1不可以',
  `old_price` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '类型原价',
  `paidid` int(11) NOT NULL COMMENT '支付有礼id',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid_aid` (`uniacid`,`aid`),
  KEY `idx_status` (`status`),
  KEY `idx_sort` (`sort`),
  KEY `idx_renew` (`renew`)
) ENGINE=InnoDB AUTO_INCREMENT=19 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_halfcardlist` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL COMMENT '公众号id',
  `aid` int(11) NOT NULL,
  `status` int(11) NOT NULL COMMENT '状态 1启用 0禁用 2审核中 3被驳回',
  `merchantid` int(11) NOT NULL COMMENT '商户id',
  `title` varchar(145) NOT NULL COMMENT '商品标题',
  `datestatus` int(11) NOT NULL COMMENT '时间格式 1 星期 2日期 3关闭',
  `week` text NOT NULL COMMENT '五折时间 星期',
  `day` text NOT NULL COMMENT '五折时间 天数',
  `adv` text NOT NULL COMMENT '幻灯片',
  `limit` text NOT NULL COMMENT '限制说明',
  `detail` text NOT NULL COMMENT '商品详细说明',
  `describe` text NOT NULL COMMENT '半价卡使用说明',
  `createtime` varchar(100) NOT NULL COMMENT '创建时间',
  `pv` int(11) NOT NULL COMMENT '浏览次数',
  `discount` decimal(10,1) NOT NULL DEFAULT '0.0' COMMENT '平时折扣',
  `daily` int(11) NOT NULL DEFAULT '0' COMMENT '平时折扣开关',
  `timeslimit` int(11) NOT NULL COMMENT '五折卡使用次数',
  `usetimes` int(11) NOT NULL COMMENT '次数卡使用次数',
  `activediscount` decimal(10,1) NOT NULL DEFAULT '0.0' COMMENT '活动折扣',
  `sort` int(11) NOT NULL COMMENT '排序',
  `level` text NOT NULL COMMENT '限制等级',
  `type` int(11) NOT NULL COMMENT '1外链特权',
  `extlink` varchar(500) NOT NULL COMMENT '外链地址',
  `extinfo` text NOT NULL COMMENT '外链信息',
  `starttime` varchar(100) NOT NULL COMMENT '开始时间',
  `endtime` varchar(100) NOT NULL COMMENT '结束时间',
  `timingstatus` int(11) NOT NULL COMMENT '定时参数',
  `levelstatus` tinyint(1) NOT NULL COMMENT '折扣类型',
  `activearray` text NOT NULL COMMENT '折扣数组',
  `dayactarray` text NOT NULL COMMENT '平日折扣数组',
  PRIMARY KEY (`id`),
  KEY `idx_aid` (`aid`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_sort` (`sort`),
  KEY `idx_status` (`status`),
  KEY `idx_daily` (`daily`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_halfcardmember` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL COMMENT '代理id',
  `mid` int(11) NOT NULL COMMENT '用户id',
  `expiretime` int(11) NOT NULL COMMENT '五折卡结束时间',
  `createtime` int(11) NOT NULL COMMENT '记录创建时间',
  `disable` int(11) NOT NULL DEFAULT '0' COMMENT '禁用标记 1已禁用 0正常',
  `username` varchar(32) NOT NULL COMMENT '持卡人姓名',
  `levelid` int(11) NOT NULL COMMENT '会员等级',
  `mototype` varchar(32) NOT NULL COMMENT '车型',
  `platenumber` varchar(32) NOT NULL COMMENT '车牌号',
  `from` tinyint(2) NOT NULL COMMENT '0付费开通1激活码2实卡3积分兑换',
  PRIMARY KEY (`id`),
  KEY `idx_aid` (`aid`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_createtime` (`createtime`),
  KEY `idx_expiretime` (`expiretime`)
) ENGINE=InnoDB AUTO_INCREMENT=23 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_halfcardrecord` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `mid` int(11) NOT NULL,
  `aid` int(11) NOT NULL,
  `status` int(11) NOT NULL COMMENT '状态 1未使用 2已经使用',
  `activeid` int(11) NOT NULL COMMENT '特权活动ID',
  `merchantid` int(11) NOT NULL COMMENT '特权店铺ID',
  `date` varchar(145) NOT NULL COMMENT '优惠日期',
  `qrcode` varchar(145) NOT NULL COMMENT '核销号码',
  `hexiaotime` varchar(45) NOT NULL COMMENT '核销时间',
  `verfmid` int(11) NOT NULL COMMENT '核销人',
  `createtime` varchar(45) NOT NULL COMMENT '创建时间',
  `is_half` int(11) NOT NULL DEFAULT '1',
  PRIMARY KEY (`id`),
  KEY `adx_uniacid` (`uniacid`),
  KEY `adx_aid` (`aid`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_halflevel` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `name` varchar(45) NOT NULL COMMENT '名称',
  `status` int(11) NOT NULL COMMENT '状态',
  `sort` int(11) NOT NULL COMMENT '排序',
  `createtime` int(11) NOT NULL COMMENT '创建时间',
  `cardimg` varchar(255) NOT NULL COMMENT '卡面图片',
  `creditmoney` decimal(10,2) NOT NULL,
  `dkcredit` int(11) NOT NULL,
  `dkmoney` decimal(10,2) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_sort` (`sort`),
  KEY `idx_createtime` (`createtime`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_headline_class` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `head_id` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '上级分类id，为0时是一级分类',
  `name` varchar(20) NOT NULL COMMENT '分类名称',
  `sort` tinyint(2) unsigned NOT NULL COMMENT '分类排序',
  `state` tinyint(1) NOT NULL DEFAULT '1' COMMENT '分类状态(0=禁用，1=开启)',
  `uniacid` int(11) NOT NULL COMMENT '公众号id',
  `aid` int(11) NOT NULL COMMENT '所属代理ID',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid_aid` (`uniacid`,`aid`),
  KEY `idx_sort` (`sort`),
  KEY `idx_state` (`state`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='头条分类表';


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_headline_comment` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `hid` int(10) unsigned NOT NULL COMMENT '关联头条信息的id',
  `mid` int(10) unsigned NOT NULL COMMENT '关联用户的id',
  `times` varchar(11) NOT NULL COMMENT '留言时间',
  `text` text NOT NULL COMMENT '留言内容',
  `reply` text NOT NULL COMMENT '作者回复内容',
  `reply_time` varchar(11) NOT NULL COMMENT '作者回复时间',
  `state` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '是否被查看（0=未被查看  1=已被查看）',
  `selected` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否为精选留言（0=不是精选留言  1=是精选留言）',
  `set_top` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否为置顶留言，每条头条只能有一条留言置顶（0=不是置顶留言  1=是置顶留言）',
  PRIMARY KEY (`id`),
  KEY `idx_hid` (`hid`),
  KEY `idx_state` (`state`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='头条留言信息表';


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_headline_content` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `shop_id` int(10) unsigned NOT NULL COMMENT '关联店铺id',
  `one_id` int(10) unsigned NOT NULL COMMENT '关联一级分类的id',
  `two_id` int(10) unsigned NOT NULL COMMENT '关联二级分类的id',
  `author` varchar(30) NOT NULL,
  `author_img` varchar(150) NOT NULL COMMENT '作者头像',
  `title` varchar(60) NOT NULL,
  `summary` varchar(255) NOT NULL,
  `browse` int(10) NOT NULL COMMENT '浏览量',
  `display_img` varchar(255) NOT NULL,
  `content` longtext NOT NULL,
  `release_time` varchar(11) NOT NULL COMMENT '发布时间',
  `call_id` int(11) NOT NULL COMMENT '关联集call活动的id，没有时为不开启集call活动\n',
  `labels` varchar(100) NOT NULL COMMENT '标签信息',
  `uniacid` int(11) NOT NULL COMMENT '公众号ID',
  `goods_id` int(10) unsigned NOT NULL COMMENT '关联商品id',
  `goods_name` varchar(255) NOT NULL COMMENT '商品名称',
  `goods_plugin` varchar(32) NOT NULL COMMENT '商品类型(rush-抢购商品；groupon-团购商品；wlfightgroup-拼团商品；coupon-卡卷商品；bargain-砍价商品)',
  `sid` int(11) NOT NULL COMMENT '商户id',
  `aid` int(11) NOT NULL COMMENT '所属代理ID',
  `advs` text NOT NULL COMMENT '幻灯片数组',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid_aid` (`uniacid`,`aid`),
  KEY `idx_release_time` (`release_time`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='头条内容表';


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_helper_question` (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'ID\n',
  `uniacid` int(11) NOT NULL,
  `title` varchar(145) NOT NULL COMMENT '问题标题',
  `content` text NOT NULL COMMENT '内容',
  `type` int(11) NOT NULL COMMENT '分类',
  `status` int(1) NOT NULL COMMENT '是否显示',
  `recommend` int(1) NOT NULL COMMENT '是否推荐',
  `sort` int(1) NOT NULL COMMENT '排序',
  `keyword` varchar(32) NOT NULL COMMENT '关键字',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_sort` (`sort`),
  KEY `idx_type_status` (`type`,`status`)
) ENGINE=InnoDB AUTO_INCREMENT=12 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_helper_slide` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `img` varchar(300) NOT NULL COMMENT '图片',
  `title` varchar(32) NOT NULL COMMENT '标题',
  `status` int(1) NOT NULL DEFAULT '0' COMMENT '状态 0关闭 1显示',
  `sort` int(11) NOT NULL DEFAULT '0' COMMENT '排序',
  `url` varchar(300) NOT NULL COMMENT '连接',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid_status` (`uniacid`,`status`),
  KEY `idx_sort` (`sort`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_helper_type` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `name` varchar(145) NOT NULL COMMENT '分类名',
  `recommend` int(1) NOT NULL DEFAULT '0' COMMENT '是否推荐 1推荐',
  `status` int(1) NOT NULL DEFAULT '0' COMMENT '是否开启1开启',
  `sort` int(11) NOT NULL DEFAULT '0' COMMENT '排序',
  `img` varchar(300) NOT NULL COMMENT '图片',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_recommend_status` (`recommend`,`status`),
  KEY `idx_sort` (`sort`)
) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_housekeep_artificer` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) DEFAULT NULL COMMENT '公众号id',
  `aid` int(11) DEFAULT NULL COMMENT '代理id',
  `mid` int(11) DEFAULT NULL COMMENT '用户id',
  `status` tinyint(1) DEFAULT NULL COMMENT '状态 0未启用 1营业中 4被删除 5待审核 6被驳回 3过期 2未支付',
  `name` varchar(32) DEFAULT NULL COMMENT '师傅姓名',
  `gender` tinyint(1) DEFAULT NULL COMMENT '师傅性别 1男性 2女性',
  `detail` text COMMENT '详情',
  `mobile` varchar(32) DEFAULT NULL COMMENT '电话',
  `address` varchar(325) DEFAULT NULL COMMENT '地址',
  `lat` varchar(32) DEFAULT NULL COMMENT '地址纬度',
  `lng` varchar(32) DEFAULT NULL COMMENT '地址经度',
  `tagarray` varchar(325) DEFAULT NULL COMMENT '标签数组',
  `thumbs` text COMMENT '图片数组',
  `casethumbs` text COMMENT '案例图片',
  `reason` varchar(325) DEFAULT NULL COMMENT '驳回原因',
  `thumb` varchar(325) DEFAULT NULL COMMENT '头像',
  `sort` int(11) DEFAULT NULL COMMENT '排序',
  `endtime` int(11) DEFAULT NULL COMMENT '入驻过期时间',
  `mealid` int(11) DEFAULT NULL COMMENT '入驻类型id',
  `region` varchar(648) DEFAULT NULL COMMENT '服务区域',
  `createtime` int(11) DEFAULT NULL COMMENT '创建时间',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_housekeep_demand` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL COMMENT '公众号id',
  `aid` int(11) NOT NULL COMMENT '代理id',
  `mid` int(11) NOT NULL COMMENT '用户id',
  `status` tinyint(1) NOT NULL COMMENT '状态 0已关闭 1需求中 5待审核 4已删除 6被驳回 3待支付',
  `type` int(11) NOT NULL COMMENT '需求类型id',
  `address` varchar(325) NOT NULL COMMENT '上门地址',
  `lat` varchar(32) NOT NULL COMMENT '上门地址纬度',
  `lng` varchar(32) NOT NULL COMMENT '上门地址经度',
  `visitingtime` int(11) NOT NULL COMMENT '上门时间',
  `detail` varchar(325) NOT NULL COMMENT '描述详情',
  `thumbs` text NOT NULL COMMENT '图集',
  `reason` varchar(325) NOT NULL COMMENT '驳回原因',
  `createtime` int(11) NOT NULL COMMENT '创建时间',
  `mobile` varchar(32) NOT NULL DEFAULT '0' COMMENT '联系电话',
  `topflag` tinyint(1) NOT NULL COMMENT '置顶标记 0未置顶 1置顶中',
  `updatetime` int(11) NOT NULL COMMENT '刷新时间',
  `topendtime` int(11) NOT NULL COMMENT '置顶过期时间',
  `onetype` int(11) DEFAULT NULL COMMENT '一级分类id',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_housekeep_meals` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL,
  `sort` varchar(32) NOT NULL COMMENT '排序',
  `name` varchar(32) NOT NULL COMMENT '套餐名',
  `is_free` tinyint(1) NOT NULL COMMENT '是否免费 0付费 1免费',
  `price` decimal(10,2) NOT NULL COMMENT '入驻金额',
  `day` int(11) NOT NULL COMMENT '入驻天数',
  `check` tinyint(1) NOT NULL COMMENT '是否审核 0免审核 1需要审核',
  `status` tinyint(1) NOT NULL COMMENT '状态 0禁用 1启用',
  `appsettpro` decimal(10,2) DEFAULT '0.00' COMMENT '预约金结算比例',
  `truesettpro` decimal(10,2) DEFAULT '0.00' COMMENT '实价结算比例',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_housekeep_praise` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `cid` int(11) NOT NULL COMMENT '评价id',
  `mid` int(11) NOT NULL COMMENT '用户id',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_housekeep_relation` (
  `type` tinyint(1) NOT NULL COMMENT '关联类型 1服务 2师傅 3商户',
  `objid` int(11) NOT NULL COMMENT '对象id',
  `onelevelid` int(11) NOT NULL COMMENT '一级分类id',
  `twolevelid` int(11) NOT NULL COMMENT '二级分类id'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_housekeep_reply` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) DEFAULT NULL,
  `aid` int(11) DEFAULT NULL,
  `cid` int(11) DEFAULT NULL COMMENT '评论id',
  `smid` int(11) DEFAULT NULL COMMENT '发送人id',
  `amid` int(11) DEFAULT NULL COMMENT '回复人id',
  `content` varchar(255) DEFAULT NULL COMMENT '回复内容',
  `createtime` int(11) DEFAULT NULL COMMENT '创建时间',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_housekeep_service` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL COMMENT '公众号id',
  `aid` int(11) NOT NULL COMMENT '代理id',
  `type` tinyint(1) NOT NULL COMMENT '类型 1商户发布 2个人发布',
  `objid` int(11) NOT NULL COMMENT '发布人id',
  `status` tinyint(1) NOT NULL COMMENT '状态 0下架中 1服务中 5待审核 6被驳回 4被删除',
  `title` varchar(100) NOT NULL COMMENT '标题',
  `pricetype` tinyint(1) NOT NULL COMMENT '金额类型 0无金额 1预约金 2实价',
  `price` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '金额',
  `salenum` int(11) NOT NULL COMMENT '销量',
  `detail` text NOT NULL COMMENT '详情',
  `createtime` varchar(32) NOT NULL COMMENT '创建时间',
  `reason` varchar(325) NOT NULL COMMENT '驳回原因',
  `appointstatus` tinyint(1) NOT NULL COMMENT '是否开启预约 0关闭 1开启',
  `appointment` int(11) NOT NULL COMMENT '提前预约小时',
  `appointdays` int(11) NOT NULL COMMENT '可预约天数',
  `appointarray` text NOT NULL COMMENT '预约数组',
  `adv` text NOT NULL COMMENT '幻灯片',
  `thumb` varchar(325) NOT NULL COMMENT '缩略图',
  `videourl` varchar(325) NOT NULL COMMENT '视频链接',
  `unit` varchar(32) NOT NULL COMMENT '单位',
  `lng` varchar(32) NOT NULL COMMENT '服务者所在经度',
  `lat` varchar(32) NOT NULL COMMENT '服务者所在纬度',
  `sort` int(11) NOT NULL COMMENT '排序数组',
  `share_image` varchar(325) DEFAULT NULL COMMENT '公众号分享图',
  `share_wxapp_image` varchar(325) DEFAULT NULL COMMENT '小程序分享图',
  `share_title` varchar(100) DEFAULT NULL COMMENT '分享标题',
  `share_desc` varchar(325) DEFAULT NULL COMMENT '分享描述',
  `diyposter` int(11) DEFAULT NULL COMMENT '分享海报id',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_housekeep_type` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL COMMENT '公众号id',
  `aid` int(11) NOT NULL COMMENT '代理id',
  `title` varchar(32) NOT NULL COMMENT '分类标题',
  `status` tinyint(1) NOT NULL COMMENT '类型 0禁用 1启用',
  `sort` int(11) NOT NULL COMMENT '排序',
  `img` varchar(325) NOT NULL COMMENT '图片',
  `onelevelid` int(11) NOT NULL COMMENT '0 一级分类 其他为一级分类id',
  `type` tinyint(1) NOT NULL COMMENT '类型 0普通分类 1导航栏',
  `url` varchar(300) NOT NULL COMMENT '跳转链接',
  `color` varchar(32) NOT NULL COMMENT '颜色',
  `createtime` varchar(32) DEFAULT NULL COMMENT '创建时间',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_im` (
  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) unsigned NOT NULL COMMENT '公众号id',
  `send_id` int(11) NOT NULL COMMENT '发送方id',
  `send_type` tinyint(1) NOT NULL DEFAULT '0' COMMENT '发送方类型（1=用户；2=商户）',
  `receive_id` int(11) NOT NULL COMMENT '接收人id',
  `receive_type` tinyint(1) NOT NULL COMMENT '接收人类型（1=用户；2=商户）',
  `create_time` varchar(15) NOT NULL COMMENT '发送时间（建立时间）',
  `is_read` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否已读（0=未读(默认)；1=已读）',
  `type` tinyint(2) NOT NULL DEFAULT '0' COMMENT '内容类型:0=文本内容（可带表情），1=图片信息（不可带表情），2=视频信息（不可带表情），3=名片信息（不可带表情），4=简历信息（不可带表情）,5=其他信息(数组)',
  `content` text NOT NULL COMMENT '发送内容',
  `plugin` varchar(10) DEFAULT NULL COMMENT '通讯插件',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_send_id` (`send_id`),
  KEY `idx_receive_id` (`receive_id`)
) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_indexset` (
  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL,
  `key` varchar(32) NOT NULL,
  `value` text NOT NULL,
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_aid` (`aid`),
  KEY `idx_key` (`key`)
) ENGINE=InnoDB AUTO_INCREMENT=34 DEFAULT CHARSET=utf8 COMMENT='主页设置：排版；魔方';


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_live` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL DEFAULT '0',
  `name` varchar(50) NOT NULL COMMENT '直播间名称',
  `roomid` int(11) NOT NULL COMMENT '直播间ID',
  `cover_img` varchar(255) NOT NULL COMMENT '直播间背景图链接',
  `share_img` varchar(255) NOT NULL COMMENT '直播间分享图链接',
  `live_status` tinyint(3) NOT NULL COMMENT '直播间状态。101：直播中，102：未开始，103已结束，104禁播，105：暂停，106：异常，107：已过期',
  `start_time` int(11) NOT NULL COMMENT '直播间开始时间',
  `end_time` int(11) NOT NULL COMMENT '直播计划结束时间',
  `anchor_name` varchar(50) NOT NULL COMMENT '主播名',
  `goods_list` text COMMENT '当前直播间相关联的商品列表',
  `is_playback` tinyint(1) NOT NULL DEFAULT '0' COMMENT '当前直播间是否存在回放(0=不存在，1=存在)',
  `is_update` tinyint(1) DEFAULT '0' COMMENT '是否更新数据，0=未更新，1=已更新',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_live_goods` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `aid` int(11) NOT NULL DEFAULT '0',
  `uniacid` int(11) NOT NULL,
  `goods_id` int(11) DEFAULT NULL COMMENT '商品在微信商品库中的id',
  `audit_id` int(11) DEFAULT NULL COMMENT '商品审核单id',
  `audit_status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '0：未审核，1：审核中，2:审核通过，3审核失败',
  `wl_goods_id` int(11) NOT NULL COMMENT '商品在本平台的id',
  `goods_plugin` varchar(20) NOT NULL COMMENT '商品类型（rush=抢购、groupon=团购、wlfightgroup=拼团、coupon=卡卷、bargain=砍价）',
  `title` varchar(30) NOT NULL COMMENT '商品名称(直播名称)',
  `goods_img` varchar(255) NOT NULL COMMENT '商品预览图片',
  `price_type` tinyint(1) NOT NULL COMMENT '价格类型，1：一口价,2：价格区间,3：显示折扣价',
  `price` double(10,2) NOT NULL,
  `price2` double(10,2) DEFAULT NULL,
  `third_party_tag` tinyint(1) DEFAULT '1' COMMENT '商品来源1、2：表示是为 API 添加商品，否则是直播控制台添加的商品',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_live_member` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) DEFAULT NULL,
  `nickname` varchar(50) DEFAULT NULL COMMENT '昵称',
  `avatar` varchar(255) DEFAULT NULL COMMENT '头像',
  `openid` varchar(50) DEFAULT NULL COMMENT '用户openid  唯一标识',
  `member_role` tinyint(1) DEFAULT NULL COMMENT '具有的身份：0:超级管理员，1:管理员，2:主播，3:运营者',
  `update_time` int(11) DEFAULT NULL COMMENT '更新时间',
  `account_number` varchar(50) DEFAULT NULL COMMENT '脱敏微信号',
  `is_synchronization` tinyint(1) DEFAULT NULL COMMENT '信息是否同步:0=未同步;1=已经同步',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_login` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `token` varchar(128) NOT NULL COMMENT '用户token',
  `secret_key` varchar(128) NOT NULL COMMENT '返回token',
  `refresh_time` int(11) NOT NULL COMMENT '刷新时间',
  `end_time` int(11) NOT NULL COMMENT '过期时间',
  PRIMARY KEY (`id`),
  KEY `idx_secret_key` (`secret_key`)
) ENGINE=InnoDB AUTO_INCREMENT=356 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_marking` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL,
  `getcredit` int(11) NOT NULL COMMENT '获得积分',
  `creditmoney` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '积分抵扣比例',
  `deduct` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '最多抵扣金额',
  `manydeduct` int(11) NOT NULL COMMENT '允许多件抵扣',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_member` (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '会员ID',
  `uid` int(11) NOT NULL COMMENT '微擎会员id',
  `invid` int(11) NOT NULL COMMENT '邀请人id',
  `uniacid` int(11) NOT NULL COMMENT '公众号ID',
  `openid` varchar(32) NOT NULL COMMENT '储存用户公众号的openid',
  `unionid` varchar(32) NOT NULL,
  `nickname` varchar(64) NOT NULL,
  `realname` varchar(64) NOT NULL,
  `credit1` decimal(10,2) NOT NULL COMMENT '积分',
  `credit2` decimal(10,2) NOT NULL COMMENT '余额',
  `gender` int(11) NOT NULL,
  `isvip` int(11) NOT NULL DEFAULT '1' COMMENT '会员类型1普通2VIP',
  `vipendtime` int(11) NOT NULL COMMENT '会员到期时间',
  `avatar` varchar(445) NOT NULL,
  `mobile` varchar(15) NOT NULL,
  `createtime` int(11) NOT NULL COMMENT '创建时间',
  `areaid` int(11) NOT NULL COMMENT '地区ID',
  `aid` int(11) NOT NULL COMMENT '所属代理ID',
  `level` int(11) NOT NULL DEFAULT '0' COMMENT '1：VIP1',
  `dealnum` int(11) NOT NULL DEFAULT '0' COMMENT '成交量',
  `dealmoney` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '成交额',
  `vipstatus` int(11) NOT NULL COMMENT 'VIP状态',
  `lastviptime` varchar(145) NOT NULL DEFAULT '0' COMMENT '上次VIP应该结束时间',
  `vipleveldays` int(11) NOT NULL DEFAULT '0' COMMENT '会员持续天数，每天更新',
  `distributorid` int(11) NOT NULL DEFAULT '0' COMMENT '分销商id',
  `salt` varchar(32) NOT NULL COMMENT '加密盐',
  `registerflag` int(11) NOT NULL COMMENT '注册标记',
  `password` varchar(32) NOT NULL COMMENT '密码',
  `dotime` int(11) NOT NULL COMMENT '最近访问时间',
  `sharemoney` decimal(10,2) NOT NULL COMMENT '分享佣金',
  `sharenowmoney` decimal(10,2) NOT NULL COMMENT '现有分享佣金',
  `wechat_openid` varchar(32) NOT NULL COMMENT '储存用户小程序的openid',
  `webapp_openid` varchar(32) NOT NULL COMMENT '储存用户webapp的openid',
  `bank_name` varchar(50) NOT NULL COMMENT '用户银行卡开户行',
  `card_number` varchar(20) NOT NULL COMMENT '用户的银行卡账号',
  `alipay` varchar(20) NOT NULL COMMENT '用户的支付宝账号',
  `bank_username` varchar(20) NOT NULL COMMENT '用户银行卡开户人的姓名',
  `blackflag` tinyint(1) NOT NULL COMMENT '黑名单 1被加入黑名单',
  `tokey` varchar(32) NOT NULL COMMENT '用户token',
  `wechat_number` varchar(50) NOT NULL COMMENT '用户微信号',
  `wechat_qrcode` varchar(255) NOT NULL COMMENT '用户微信号二维码图片地址',
  `main_browse` varchar(255) NOT NULL DEFAULT '0' COMMENT '用户主页浏览量',
  `main_bgimg` varchar(455) NOT NULL COMMENT '用户主页图片',
  `session_key` varchar(120) NOT NULL COMMENT '用户session_key\n',
  `cash_back_money` decimal(10,2) DEFAULT NULL COMMENT '用户支付返现金额（当前金额不可提现）',
  `protime` int(11) NOT NULL COMMENT '用于记录推送时间',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_aid` (`aid`),
  KEY `idx_openid` (`openid`),
  KEY `idx_unionid` (`unionid`),
  KEY `idx_createtime` (`createtime`),
  KEY `idx_mobile` (`mobile`),
  KEY `idx_token` (`tokey`),
  KEY `idx_wechatopenid` (`wechat_openid`)
) ENGINE=InnoDB AUTO_INCREMENT=9913 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_member_coupons` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `mid` int(11) NOT NULL COMMENT '用户id',
  `aid` int(11) NOT NULL COMMENT '代理ID',
  `parentid` int(11) NOT NULL COMMENT '父类优惠券id',
  `status` int(11) NOT NULL COMMENT '卡券状态 1未使用 2已使用 5未支付',
  `type` int(11) NOT NULL COMMENT '优惠券类型 1 折扣券 2代金券 3礼品券 4 团购券 5优惠券',
  `title` varchar(145) NOT NULL COMMENT '优惠券标题',
  `sub_title` varchar(145) NOT NULL COMMENT '优惠券副标题',
  `content` text NOT NULL COMMENT '优惠券内容',
  `description` text NOT NULL COMMENT '使用须知',
  `color` varchar(32) NOT NULL COMMENT '颜色',
  `usetimes` int(11) NOT NULL COMMENT '剩余使用次数',
  `starttime` int(11) NOT NULL COMMENT '开始时间',
  `endtime` int(11) NOT NULL COMMENT '结束时间',
  `createtime` int(11) NOT NULL COMMENT '创建时间',
  `usedtime` text NOT NULL COMMENT '使用时间',
  `orderno` varchar(145) NOT NULL COMMENT '订单号',
  `price` decimal(10,2) NOT NULL COMMENT '支付金额',
  `concode` varchar(32) NOT NULL COMMENT '消费码',
  `cutoffnotice` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_mid` (`mid`),
  KEY `idx_status` (`status`)
) ENGINE=InnoDB AUTO_INCREMENT=209 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_member_type` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `logo` varchar(145) NOT NULL,
  `name` varchar(145) NOT NULL,
  `days` int(11) DEFAULT '0',
  `price` decimal(10,2) DEFAULT '0.00',
  `uniacid` int(11) NOT NULL,
  `status` int(11) NOT NULL COMMENT '1显示',
  `num` int(11) NOT NULL COMMENT '可开通次数',
  `is_half` int(11) NOT NULL,
  `todistributor` int(11) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_member_visitor_record` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `visitor_id` int(11) DEFAULT NULL COMMENT '访客的用户id',
  `mid` int(11) DEFAULT NULL COMMENT '用户id',
  `create_time` varchar(15) DEFAULT NULL COMMENT '第一次访问时间',
  `update_time` varchar(15) DEFAULT NULL COMMENT '最后一次访问时间（最近访问时间）',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=28 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_merchant_account` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `sid` int(11) NOT NULL COMMENT '商家ID',
  `uid` int(11) NOT NULL COMMENT '操作员id',
  `amount` decimal(10,2) NOT NULL COMMENT '交易总金额',
  `updatetime` varchar(45) NOT NULL COMMENT '上次结算时间',
  `no_money` decimal(10,2) NOT NULL COMMENT '目前未结算金额',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_merchant_cate` (
  `sid` int(10) unsigned NOT NULL COMMENT '商家ID',
  `onelevel` int(10) unsigned NOT NULL COMMENT '一级分类',
  `twolevel` int(10) unsigned NOT NULL COMMENT '二级分类',
  KEY `idx_sid` (`sid`),
  KEY `idx_onelevel` (`onelevel`),
  KEY `idx_twolevel` (`twolevel`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_merchant_money_record` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `sid` int(11) NOT NULL COMMENT '商家ID',
  `money` decimal(10,2) DEFAULT '0.00' COMMENT '变动金额',
  `createtime` varchar(145) NOT NULL COMMENT '变动时间',
  `orderid` int(11) NOT NULL COMMENT '订单ID',
  `type` int(11) NOT NULL COMMENT '1支付成功2发货成功成为可结算金额3取消发货4商家结算5退款',
  `detail` text COMMENT '详情',
  `plugin` varchar(32) NOT NULL COMMENT '插件名',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=80 DEFAULT CHARSET=utf8 COMMENT='商家金额记录';


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_merchant_record` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `sid` int(11) NOT NULL COMMENT '商家id',
  `percent` varchar(32) NOT NULL COMMENT '佣金百分比',
  `commission` varchar(32) NOT NULL COMMENT '佣金',
  `money` varchar(45) NOT NULL COMMENT '本次结算金额',
  `get_money` varchar(32) NOT NULL COMMENT '本次商家得到金额',
  `uid` int(11) NOT NULL COMMENT '操作员id',
  `createtime` varchar(45) NOT NULL COMMENT '结算时间',
  `orderno` varchar(145) NOT NULL COMMENT '订单号',
  `plugin` varchar(32) NOT NULL COMMENT '插件名',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_merchantdata` (
  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL COMMENT '代理id',
  `provinceid` int(11) NOT NULL COMMENT '省ID',
  `areaid` int(11) NOT NULL COMMENT '地区id',
  `distid` int(11) NOT NULL COMMENT '区县id',
  `storename` varchar(64) NOT NULL COMMENT '店铺名称',
  `mobile` varchar(32) NOT NULL COMMENT '联系电话',
  `onelevel` int(11) NOT NULL COMMENT '一级分类',
  `twolevel` int(11) NOT NULL COMMENT '二级分类',
  `logo` varchar(128) NOT NULL COMMENT '店铺logo',
  `introduction` text NOT NULL COMMENT '店铺简介',
  `address` varchar(100) NOT NULL COMMENT '店铺地址',
  `location` varchar(128) NOT NULL,
  `realname` varchar(32) NOT NULL COMMENT '联系人',
  `tel` varchar(20) NOT NULL COMMENT '联系电话',
  `enabled` int(2) NOT NULL COMMENT '商户状态',
  `status` int(2) NOT NULL COMMENT '是否审核通过 0未支付 1待审核 2已审核 3已驳回',
  `groupid` int(11) NOT NULL COMMENT '所属组别',
  `storehours` varchar(255) NOT NULL COMMENT '营业时间',
  `endtime` int(11) NOT NULL COMMENT '结束时间',
  `createtime` int(11) NOT NULL COMMENT '创建时间',
  `remark` text NOT NULL COMMENT '备注',
  `percent` decimal(10,2) NOT NULL DEFAULT '0.00',
  `cardsn` varchar(50) NOT NULL,
  `adv` text NOT NULL,
  `score` int(11) NOT NULL DEFAULT '5',
  `bankrid` int(11) NOT NULL DEFAULT '0',
  `listorder` int(11) NOT NULL DEFAULT '0',
  `verkey` varchar(45) NOT NULL DEFAULT '0' COMMENT '核销密码',
  `autocash` int(11) NOT NULL DEFAULT '0' COMMENT '自动打款',
  `audits` int(11) NOT NULL COMMENT '免审核',
  `pv` int(11) NOT NULL COMMENT '人气',
  `tag` varchar(255) NOT NULL COMMENT '标签',
  `allmoney` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '累计金额',
  `nowmoney` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '现有金额',
  `panorama` varchar(255) NOT NULL COMMENT '店铺全景地址',
  `videourl` varchar(255) NOT NULL COMMENT '店铺视频地址',
  `merqrimg` varchar(128) NOT NULL COMMENT '商户二维码',
  `wxappswitch` int(11) NOT NULL DEFAULT '0' COMMENT '小程序关联码开关',
  `album` text NOT NULL COMMENT '相册',
  `bgmusic` varchar(255) NOT NULL COMMENT '背景音乐',
  `iscommon` tinyint(1) NOT NULL COMMENT '公共商家',
  `settlementrate` decimal(10,2) NOT NULL COMMENT '商品价格结算比',
  `vipsettlementrate` decimal(10,2) NOT NULL COMMENT '商品VIP价格结算比',
  `settlementtext` text NOT NULL COMMENT '新结算比的压缩字符串',
  `payonline` int(11) NOT NULL COMMENT '是否可以在线买单',
  `qrcode` varchar(128) NOT NULL COMMENT '店长二维码',
  `mp4thumb` varchar(128) NOT NULL COMMENT 'mp4封面图',
  `cloudspeaker` text NOT NULL COMMENT '云喇叭设置信息',
  `externallink` varchar(255) NOT NULL COMMENT '外部链接',
  `listshow` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '该店铺是否在店铺列表显示0=显示1=隐藏',
  `store_quhao` varchar(11) NOT NULL COMMENT '店铺电话区号',
  `note_quhao` varchar(11) NOT NULL COMMENT '店主手机区号',
  `salesmid` int(11) NOT NULL COMMENT '业务员mid',
  `examineimg` text NOT NULL COMMENT '审核素材',
  `reservestatus` int(11) NOT NULL COMMENT '预留金额类型 0以平台为准 1以商户为准',
  `reservemoney` decimal(10,2) NOT NULL COMMENT '商户预留金额',
  `autostoreqr` tinyint(1) NOT NULL COMMENT '是否自动添加商户二维码',
  `isdiytip` tinyint(1) NOT NULL COMMENT '是否显示自定义内容',
  `describe` varchar(325) NOT NULL COMMENT '商户基本描述',
  `deliveryrate` decimal(10,2) NOT NULL COMMENT '同城配送结算比例',
  `deliverymoney` decimal(10,2) NOT NULL COMMENT '配送费',
  `deliverystatus` tinyint(1) NOT NULL COMMENT '是否开启同城配送',
  `lng` varchar(16) NOT NULL COMMENT '经度',
  `lat` varchar(16) NOT NULL COMMENT '纬度',
  `printing` text NOT NULL COMMENT '打印推送设置信息',
  `deliverydistance` decimal(10,2) NOT NULL COMMENT '配送距离',
  `lowdeliverymoney` decimal(10,2) NOT NULL COMMENT '起送价',
  `deliverydisstatus` int(11) NOT NULL COMMENT '同城配送商品分销状态',
  `onescale` decimal(10,2) NOT NULL COMMENT '同城配送一级佣金比例',
  `twoscale` decimal(10,2) NOT NULL COMMENT '同城配送二级佣金比例',
  `deliverytype` varchar(255) NOT NULL COMMENT '配送方式',
  `makebiguser` int(11) NOT NULL COMMENT '0 否 1 是',
  `paybackstatus` int(11) NOT NULL COMMENT '支付返现',
  `payback` text NOT NULL COMMENT '支付返现比例',
  `onepayonlinescale` decimal(10,2) NOT NULL COMMENT '在线买单一级佣金比例',
  `twopayonlinescale` decimal(10,2) NOT NULL COMMENT '在线买单二级佣金比例',
  `payonlinedisstatus` int(11) NOT NULL COMMENT '在线买单分销状态',
  `expresspricestatus` int(11) NOT NULL COMMENT '同城配送运费计费方式 1商家 2平台',
  `payfullid` int(11) NOT NULL COMMENT '在线买单满减活动id',
  `deliveryfullid` int(11) NOT NULL COMMENT '同城配送满减活动id',
  `posterid` int(11) NOT NULL COMMENT '自定义海报的id',
  `paypaidid` int(11) NOT NULL COMMENT '在线买单支付有礼',
  `deliverypaidid` int(11) NOT NULL COMMENT '同城配送支付有礼',
  `panorama_discount` decimal(10,1) NOT NULL DEFAULT '10.0' COMMENT '商户买单折扣',
  `wxallid` int(11) NOT NULL COMMENT '公众号端支付信息id',
  `appallid` int(11) NOT NULL COMMENT '小程序端支付信息id',
  `payinrate` decimal(10,2) NOT NULL COMMENT '在线买单订单抵扣比例',
  `payintegral` decimal(10,2) NOT NULL COMMENT '在线买单积分抵扣比例',
  `payolsetstatus` tinyint(1) NOT NULL COMMENT '买单金额结算方式 0按实际支付金额结算 1按订单金额计算',
  `delivery_adv` text COMMENT '外卖页面幻灯片',
  `recruit_switch` tinyint(1) DEFAULT '0' COMMENT '是否开启求职招聘功能：0=关闭，1=开启',
  `recruit_nature_id` int(11) DEFAULT NULL COMMENT '企业性质',
  `recruit_scale_id` int(11) DEFAULT NULL COMMENT '企业规模',
  `recruit_industry_id` int(11) DEFAULT NULL COMMENT '企业行业',
  `recruit_adv` text COMMENT '企业幻灯片',
  `third_shop_no` varchar(125) NOT NULL COMMENT '三方商户编号（达达）',
  `third_city_code` varchar(11) NOT NULL COMMENT '三方城市代码(达达)',
  `third_city_name` varchar(32) NOT NULL COMMENT '三方城市名字(达达)',
  `virtual_sales` int(11) DEFAULT '0' COMMENT '虚拟销量',
  `housekeepstatus` tinyint(1) NOT NULL COMMENT '家政服务 0关闭 1开启',
  `proportion` varchar(325) DEFAULT NULL COMMENT '幻灯片比例数组',
  `wxapp_shareimg` varchar(200) DEFAULT NULL COMMENT '小程序分享图',
  `yuecashback` decimal(10,2) DEFAULT NULL COMMENT '同城配送余额返现',
  `vipyuecashback` decimal(10,2) DEFAULT NULL COMMENT '同城配送会员余额返现',
  `acceptstatus` tinyint(1) DEFAULT NULL COMMENT '接单设置 0自动接单 1手动接单',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_aid` (`aid`),
  KEY `idx_status` (`status`),
  KEY `idx_enabled` (`enabled`),
  KEY `idx_areaid` (`areaid`)
) ENGINE=InnoDB AUTO_INCREMENT=117 DEFAULT CHARSET=utf8 COMMENT='商户资料表';


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_merchantuser` (
  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `mid` int(11) NOT NULL COMMENT '绑定微信id',
  `storeid` int(11) NOT NULL COMMENT '商户id',
  `name` varchar(64) NOT NULL COMMENT '姓名',
  `mobile` varchar(32) NOT NULL COMMENT '电话',
  `account` varchar(32) NOT NULL COMMENT '账号',
  `salt` varchar(16) NOT NULL COMMENT '加密盐',
  `password` varchar(64) NOT NULL COMMENT '密码',
  `groupid` int(11) NOT NULL COMMENT '所属组别',
  `areaid` varchar(16) NOT NULL COMMENT '区域id',
  `endtime` varchar(32) NOT NULL COMMENT '到期时间',
  `createtime` varchar(32) NOT NULL COMMENT '创建时间',
  `limit` text NOT NULL COMMENT '拥有权限',
  `reject` varchar(300) NOT NULL COMMENT '驳回原因',
  `status` int(2) NOT NULL COMMENT '是否通过审核',
  `enabled` int(2) NOT NULL COMMENT '是否启用 1启用 0禁用',
  `ismain` int(2) NOT NULL COMMENT '1超级管理员2核销员3管理员4业务员',
  `aid` int(11) NOT NULL,
  `alone` tinyint(1) NOT NULL COMMENT '1启用独立佣金0关闭',
  `scale` decimal(10,2) unsigned NOT NULL DEFAULT '0.00' COMMENT '业务员提成比例',
  `manage_store` tinyint(1) NOT NULL COMMENT '1启用管理店铺独立设置0关闭',
  `hasmanage` tinyint(1) NOT NULL COMMENT '1启用管理店铺0关闭',
  `orderwrite` int(11) NOT NULL COMMENT '核销权限 1有0无',
  `viewdata` int(11) NOT NULL COMMENT '查看财务权限 1有 0无',
  `alone_plugin` tinyint(1) NOT NULL COMMENT '是否启用独立适用插件 1开启 0关闭',
  `sales_plugin` text NOT NULL COMMENT '独立适用插件组',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_storeid` (`storeid`),
  KEY `idx_aid` (`aid`),
  KEY `idx_ismain` (`ismain`),
  KEY `idx_enabled` (`enabled`)
) ENGINE=InnoDB AUTO_INCREMENT=126 DEFAULT CHARSET=utf8 COMMENT='代理、商户表';


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_merchantuser_qrlog` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `memberid` int(11) NOT NULL,
  `codes` int(11) NOT NULL,
  `status` int(1) NOT NULL,
  `createtime` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_status` (`status`)
) ENGINE=InnoDB AUTO_INCREMENT=34 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_nav` (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '唯一标识',
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL,
  `name` varchar(50) NOT NULL,
  `link` varchar(255) NOT NULL,
  `thumb` varchar(255) NOT NULL,
  `displayorder` int(11) NOT NULL,
  `enabled` int(11) NOT NULL,
  `color` varchar(32) NOT NULL,
  `merchantid` int(11) NOT NULL DEFAULT '0',
  `type` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_aid` (`aid`),
  KEY `idx_enabled` (`enabled`),
  KEY `idx_type` (`type`)
) ENGINE=InnoDB AUTO_INCREMENT=431 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_notice` (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '唯一标识',
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL,
  `title` varchar(255) NOT NULL,
  `content` text NOT NULL,
  `enabled` int(11) NOT NULL,
  `createtime` varchar(32) NOT NULL,
  `link` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_aid` (`aid`),
  KEY `idx_enabled` (`enabled`)
) ENGINE=InnoDB AUTO_INCREMENT=19 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_oparea` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `uniacid` int(10) NOT NULL,
  `areaid` int(11) NOT NULL,
  `aid` int(10) NOT NULL,
  `status` int(11) NOT NULL DEFAULT '1' COMMENT '0禁用1启用',
  `ishot` int(11) NOT NULL COMMENT '0非热门1热门城市',
  `level` int(11) NOT NULL DEFAULT '2',
  `gid` int(11) NOT NULL,
  `sort` int(11) NOT NULL COMMENT '排序',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_status` (`status`),
  KEY `idx_aid` (`aid`),
  KEY `idx_ishot` (`ishot`)
) ENGINE=InnoDB AUTO_INCREMENT=504 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_oplog` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `describe` varchar(225) NOT NULL COMMENT '操作描述',
  `view_url` varchar(225) NOT NULL COMMENT '操作界面url',
  `ip` varchar(32) NOT NULL COMMENT 'IP',
  `data` varchar(1024) NOT NULL COMMENT '操作数据',
  `createtime` varchar(32) NOT NULL COMMENT '操作时间',
  `user` varchar(32) NOT NULL COMMENT '操作员',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_order` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL COMMENT '公众号ID',
  `mid` int(11) NOT NULL COMMENT '用户id',
  `aid` int(11) NOT NULL COMMENT '代理id',
  `sid` int(11) NOT NULL COMMENT '商家id',
  `orderno` varchar(145) NOT NULL COMMENT '订单号',
  `fkid` int(11) NOT NULL COMMENT '商品关联ID',
  `status` int(11) NOT NULL COMMENT '状态 0未支付 1已支付 2已消费 3已完成 4待收货 待消费 5已取消 6待退款 7已退款  8待发货',
  `oprice` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '原价',
  `price` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '实际支付金额',
  `num` int(11) NOT NULL COMMENT '购买数量',
  `paytime` varchar(145) NOT NULL COMMENT '支付时间',
  `paytype` int(11) NOT NULL COMMENT '支付方式 1余额 2微信3支付宝',
  `createtime` varchar(145) NOT NULL COMMENT '创建时间',
  `remark` text NOT NULL COMMENT '卖家备注',
  `issettlement` int(11) NOT NULL DEFAULT '0' COMMENT '1已结算',
  `plugin` varchar(32) NOT NULL COMMENT '插件',
  `payfor` varchar(32) NOT NULL COMMENT '干什么支付',
  `is_usecard` tinyint(3) NOT NULL COMMENT '1使用优惠',
  `card_type` tinyint(3) NOT NULL COMMENT '优惠类型',
  `card_id` int(3) NOT NULL COMMENT '优惠ID',
  `card_fee` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '优惠金额',
  `transid` varchar(145) NOT NULL COMMENT '微信订单号',
  `buyremark` text NOT NULL COMMENT '买家备注',
  `spec` text NOT NULL COMMENT '规格名',
  `fightstatus` int(11) NOT NULL COMMENT '1=发帖，2=置顶，3=红包\n0=核销 1商户配送 2平台配送\n1=黄页认领 2=黄页查看 3=黄页入驻\n家政：1=服务订单 2=服务者入驻 3=需求发布 4=需求置顶 5=需求刷新 ',
  `fightgroupid` int(11) NOT NULL,
  `expressid` int(11) NOT NULL,
  `recordid` int(11) NOT NULL,
  `refundtime` varchar(145) NOT NULL,
  `applyrefund` int(11) NOT NULL DEFAULT '0' COMMENT '申请退款',
  `applytime` varchar(145) NOT NULL COMMENT '申请退款时间',
  `disorderid` int(11) NOT NULL DEFAULT '0',
  `failtimes` int(11) NOT NULL DEFAULT '0',
  `vipbuyflag` int(11) NOT NULL COMMENT '会员购买表示 1会员购买 0普通购买 ',
  `specid` int(11) NOT NULL COMMENT '规格id',
  `mobile` varchar(32) NOT NULL COMMENT '电话',
  `name` varchar(125) NOT NULL COMMENT '姓名',
  `address` text NOT NULL COMMENT '地址',
  `paidprid` int(11) NOT NULL COMMENT '支付有礼记录id',
  `shareid` int(11) NOT NULL COMMENT '分享有礼记录id',
  `settlementmoney` decimal(10,2) NOT NULL COMMENT '结算金额',
  `goodsprice` decimal(10,2) NOT NULL COMMENT '商品金额',
  `overtime` int(11) NOT NULL COMMENT '标记过期时间',
  `changedispatchprice` decimal(10,2) NOT NULL COMMENT '订单改运费',
  `changeprice` decimal(10,2) NOT NULL COMMENT '订单改价',
  `originalprice` decimal(10,2) NOT NULL COMMENT '改价之前的原始价',
  `estimatetime` int(11) NOT NULL COMMENT '预计过期时间',
  `package` tinyint(2) NOT NULL COMMENT '订单为帖子中的发送红包订单时，这里储存的是红包个数',
  `vip_card_id` int(11) NOT NULL COMMENT '储存用户在购买当前商品时开通的会员卡的id',
  `redisstatus` tinyint(10) NOT NULL COMMENT '退款分销订单状态修改',
  `neworderflag` tinyint(1) NOT NULL COMMENT '新订单标志',
  `reportid` int(11) NOT NULL COMMENT '报表id',
  `settletime` int(11) NOT NULL COMMENT '结算时间',
  `usecredit` decimal(10,2) NOT NULL COMMENT '使用的积分',
  `cerditmoney` decimal(10,2) NOT NULL COMMENT '积分抵扣的金额',
  `canceltime` int(11) NOT NULL COMMENT '预计取消时间',
  `remindtime` int(11) NOT NULL COMMENT '过期提醒时间',
  `cutoffnotice` int(11) NOT NULL COMMENT '是否发送过期通知',
  `com_dis_price` decimal(10,2) unsigned NOT NULL DEFAULT '0.00' COMMENT '拼团团长优惠信息',
  `salesarray` text NOT NULL COMMENT '业务员数组',
  `redpackid` int(11) NOT NULL COMMENT '使用的红包id',
  `redpackmoney` decimal(10,2) NOT NULL COMMENT '红包减免金额',
  `vipdiscount` decimal(10,2) NOT NULL COMMENT '会员折扣金额',
  `expressprcie` decimal(10,2) NOT NULL COMMENT '配送费',
  `paylogid` int(11) NOT NULL COMMENT 'paylog表中的id',
  `deliverytype` int(11) NOT NULL COMMENT '同城配送收货方式',
  `makeorderno` varchar(145) NOT NULL COMMENT '三方跑腿系统订单号',
  `fullreduceid` int(11) NOT NULL COMMENT '满减活动id',
  `fullreducemoney` decimal(10,2) NOT NULL COMMENT '满减金额',
  `retype` int(11) NOT NULL COMMENT 'v3申请退款渠道 1原路 2余额',
  `blendcredit` decimal(10,2) NOT NULL COMMENT '混合支付的余额',
  `paysetid` int(11) NOT NULL COMMENT '支付商户设置id',
  `allocationtype` int(11) NOT NULL COMMENT '分账方式 0平台系统 1服务商分账',
  `drawid` int(11) NOT NULL COMMENT '抽奖记录id',
  `packingmoney` decimal(10,2) NOT NULL COMMENT '同城配送包装费',
  `moinfo` text NOT NULL COMMENT '额外内容',
  `uuaexpressprice` decimal(10,2) NOT NULL COMMENT 'UU的总配送费',
  `redpagstatus` tinyint(1) DEFAULT '0' COMMENT '定制内容 红包返现 1待返现 2已返现',
  `pftinfo` text COMMENT '票付通提交信息',
  `pftorderinfo` text COMMENT '票付通订单信息',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_mid` (`mid`),
  KEY `idx_aid` (`aid`),
  KEY `idx_sid` (`sid`),
  KEY `idx_status` (`status`)
) ENGINE=InnoDB AUTO_INCREMENT=355 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_package` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL,
  `merchantid` int(11) NOT NULL COMMENT '商户id',
  `status` int(11) NOT NULL COMMENT '状态',
  `title` varchar(145) NOT NULL COMMENT '礼包标题',
  `price` int(11) NOT NULL COMMENT '礼包价值',
  `datestatus` int(11) NOT NULL COMMENT '循环周期 1无 2每周 3每月 4每年',
  `usetimes` int(11) NOT NULL COMMENT '周期内使用次数',
  `limit` varchar(225) NOT NULL COMMENT '副标题（使用限制）',
  `timeslimit` int(11) NOT NULL COMMENT '单日提供数量',
  `allnum` int(11) NOT NULL COMMENT '总数量',
  `starttime` int(11) NOT NULL COMMENT '活动开始时间',
  `endtime` int(11) NOT NULL COMMENT '活动结束时间',
  `appointment` int(11) NOT NULL COMMENT '提前预约',
  `integral` int(11) NOT NULL COMMENT '赠送积分',
  `sort` int(11) NOT NULL COMMENT '排序',
  `pv` int(11) NOT NULL COMMENT '人气',
  `describe` text NOT NULL COMMENT '说明',
  `createtime` int(11) NOT NULL COMMENT '创建时间',
  `timestatus` int(11) NOT NULL COMMENT '开卡时间限制',
  `level` text NOT NULL COMMENT '限制等级',
  `packtimestatus` int(11) NOT NULL COMMENT '活动时间限制',
  `datestarttime` int(11) NOT NULL COMMENT '活动开始时间',
  `dateendtime` int(11) NOT NULL COMMENT '活动结束时间',
  `oplimit` int(11) NOT NULL COMMENT '单人单日使用次数',
  `resetswitch` int(11) NOT NULL COMMENT '重置开关',
  `listshow` int(11) NOT NULL COMMENT '列表显示开关 0显示 1不显示',
  `weeklimit` int(11) NOT NULL COMMENT '单人单周使用次数限制',
  `monthlimit` int(11) NOT NULL COMMENT '单人单月使用次数限制',
  `type` int(11) NOT NULL COMMENT '一般礼包0 外链礼包1',
  `extlink` varchar(255) NOT NULL COMMENT '外部链接',
  `extinfo` text NOT NULL COMMENT '外链信息',
  `storemoney` decimal(10,2) NOT NULL COMMENT '结算给商户的金额',
  `usedatestatus` int(11) NOT NULL COMMENT '是否开启限时使用\n1按星期 2按天数 0关闭',
  `week` text NOT NULL COMMENT '活动时间 按周',
  `day` text NOT NULL COMMENT '活动时间 按月天数',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_aid` (`aid`),
  KEY `idx_listshow` (`listshow`)
) ENGINE=InnoDB AUTO_INCREMENT=18 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_paidrecord` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL,
  `activeid` int(11) NOT NULL COMMENT '活动id',
  `integral` decimal(10,2) NOT NULL COMMENT '赠送积分',
  `couponid` varchar(255) NOT NULL COMMENT '赠送的优惠券id',
  `getcouflag` int(11) NOT NULL COMMENT '领取卡券标记',
  `getcoutime` int(11) NOT NULL COMMENT '领取优惠券时间',
  `codeid` int(11) NOT NULL COMMENT '赠送激活码id',
  `createtime` int(11) NOT NULL COMMENT '创建时间',
  `paytype` int(11) NOT NULL COMMENT '支付方式',
  `price` decimal(10,2) NOT NULL COMMENT '支付价格',
  `img` varchar(255) NOT NULL COMMENT '广告图片',
  `type` int(11) NOT NULL COMMENT '订单类型',
  `orderid` int(11) NOT NULL COMMENT '订单id',
  `redpackid` varchar(255) NOT NULL COMMENT '赠送红包id',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8 COMMENT='支付有礼记录表';


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_payactive` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL COMMENT '公众号id',
  `aid` int(11) NOT NULL COMMENT '代理id',
  `title` varchar(255) NOT NULL COMMENT '标题',
  `orderprice` decimal(10,2) NOT NULL COMMENT '订单金额',
  `starttime` int(11) NOT NULL COMMENT '开始时间',
  `endtime` int(11) NOT NULL COMMENT '结束时间',
  `userstatus` int(11) NOT NULL COMMENT '用户资格 0全部用户 1一卡通会员',
  `orderstatus` int(11) NOT NULL COMMENT '参与方式 0订单金额 1购买商品',
  `status` int(11) NOT NULL COMMENT '状态',
  `rushflag` int(11) NOT NULL COMMENT '抢购标志',
  `grouponflag` int(11) NOT NULL COMMENT '团购标识',
  `fightgroupflag` int(11) NOT NULL COMMENT '拼团标志',
  `couponflag` int(11) NOT NULL COMMENT '卡券标志',
  `halfcardflag` int(11) NOT NULL COMMENT '一卡通标志',
  `chargeflag` int(11) NOT NULL COMMENT '入驻标志',
  `rushids` text NOT NULL COMMENT '抢购商品id集',
  `grouponids` text NOT NULL COMMENT '团购商品id集',
  `fightgroupids` text NOT NULL COMMENT '拼团商品id集',
  `couponids` text NOT NULL COMMENT '卡券商品id集',
  `halfcardids` text NOT NULL COMMENT '一卡通商品id集',
  `chargeids` text NOT NULL COMMENT '付费入驻商品id集',
  `createtime` int(11) NOT NULL COMMENT '创建时间',
  `integralrate` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '赠送积分比例 金额',
  `giftstatus` int(11) NOT NULL COMMENT '赠品 0不赠送 1优惠券 2激活码',
  `giftcouponid` varchar(255) NOT NULL COMMENT '赠券id',
  `codereamrk` text NOT NULL COMMENT '激活码备注',
  `img` varchar(255) NOT NULL COMMENT '图片',
  `getstatus` int(11) NOT NULL COMMENT '0手动领取 1自动发放',
  `advurl` varchar(255) NOT NULL COMMENT '广告链接',
  `payonlineflag` int(11) NOT NULL COMMENT '在线买单',
  `integral` decimal(10,2) NOT NULL DEFAULT '1.00' COMMENT '赠送积分比例 积分',
  `giftredpack` varchar(255) NOT NULL COMMENT '赠送红包',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_aid` (`aid`),
  KEY `idx_status` (`status`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8 COMMENT='支付有礼活动表';


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_payback_bank` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL COMMENT '公众号',
  `rate` decimal(10,2) NOT NULL COMMENT '返现比例',
  `bank` varchar(128) NOT NULL COMMENT '银行名',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_payback_record` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL COMMENT '公众号id',
  `sid` int(11) NOT NULL COMMENT '商户id',
  `doid` int(11) NOT NULL COMMENT '操作员id',
  `mid` int(11) NOT NULL COMMENT '买家id',
  `plugin` varchar(32) NOT NULL COMMENT '订单所属插件',
  `backmoney` decimal(10,2) NOT NULL COMMENT '返现金额',
  `orderno` varchar(32) NOT NULL COMMENT '订单号',
  `remark` text NOT NULL COMMENT '备注',
  `createtime` int(11) NOT NULL COMMENT '创建时间',
  `checkcode` int(11) NOT NULL COMMENT '核销码',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_paylog` (
  `plid` bigint(11) unsigned NOT NULL AUTO_INCREMENT,
  `type` varchar(20) NOT NULL COMMENT '支付方式：1=余额；2=微信；3=支付宝；4=货到付款',
  `uniacid` int(11) NOT NULL COMMENT '公众号id',
  `acid` int(10) NOT NULL,
  `openid` varchar(64) NOT NULL,
  `uniontid` varchar(64) NOT NULL,
  `tid` varchar(128) NOT NULL COMMENT '订单号',
  `fee` decimal(10,2) NOT NULL COMMENT '实际支付金额',
  `status` tinyint(4) NOT NULL COMMENT '0=未支付，1=已支付',
  `module` varchar(50) NOT NULL COMMENT '模块名称',
  `tag` varchar(2000) NOT NULL,
  `is_usecard` tinyint(3) unsigned NOT NULL,
  `card_type` tinyint(3) unsigned NOT NULL,
  `card_id` varchar(50) NOT NULL,
  `card_fee` decimal(10,2) unsigned NOT NULL,
  `encrypt_code` varchar(100) NOT NULL,
  `plugin` varchar(50) NOT NULL COMMENT '插件名',
  `payfor` varchar(145) NOT NULL COMMENT '干什么支付',
  `transaction_id` varchar(100) NOT NULL COMMENT '第三方交易号',
  `pay_order_no` varchar(128) DEFAULT NULL COMMENT '当前订单支付时使用的订单号（退款必须）',
  `source` tinyint(1) NOT NULL DEFAULT '1' COMMENT '支付渠道 1=公众号（默认）；2=h5；3=小程序',
  `mid` varchar(11) NOT NULL COMMENT '购买用户id',
  PRIMARY KEY (`plid`),
  KEY `idx_tid` (`tid`),
  KEY `idx_openid` (`mid`),
  KEY `idx_uniontid` (`uniontid`)
) ENGINE=InnoDB AUTO_INCREMENT=623 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_paylogvfour` (
  `plid` bigint(11) unsigned NOT NULL AUTO_INCREMENT,
  `transaction_id` varchar(100) NOT NULL COMMENT '第三方交易号',
  `pay_order_no` varchar(128) DEFAULT NULL COMMENT '当前订单支付时使用的订单号（退款必须）',
  `source` tinyint(1) NOT NULL DEFAULT '1' COMMENT '支付渠道 1=公众号（默认）；2=h5；3=小程序',
  `uniacid` int(11) NOT NULL COMMENT '公众号id',
  `mid` varchar(11) NOT NULL COMMENT '购买用户id',
  `tid` varchar(128) NOT NULL COMMENT '订单号',
  `fee` decimal(10,2) NOT NULL COMMENT '实际支付金额',
  `status` tinyint(4) NOT NULL COMMENT '0=未支付，1=已支付',
  `module` varchar(50) NOT NULL COMMENT '模块名称',
  `plugin` varchar(50) NOT NULL COMMENT '插件名',
  `payfor` varchar(145) NOT NULL COMMENT '干什么支付',
  `type` varchar(20) NOT NULL COMMENT '支付方式：1=余额；2=微信；3=支付宝；4=货到付款',
  `encrypt_code` varchar(100) NOT NULL,
  `card_fee` decimal(10,2) unsigned NOT NULL,
  `card_id` varchar(50) NOT NULL,
  `is_usecard` tinyint(3) unsigned NOT NULL,
  `card_type` tinyint(3) unsigned NOT NULL,
  `tag` varchar(2000) NOT NULL,
  `acid` int(10) NOT NULL,
  `uniontid` varchar(64) NOT NULL,
  `openid` varchar(64) NOT NULL,
  `blendcredit` decimal(10,2) NOT NULL COMMENT '混合支付的余额',
  `batchNo` varchar(11) DEFAULT NULL COMMENT '批次号',
  `traceNo` varchar(11) DEFAULT NULL COMMENT '系统跟踪号',
  PRIMARY KEY (`plid`),
  KEY `idx_openid` (`mid`),
  KEY `idx_tid` (`tid`),
  KEY `idx_uniontid` (`uniontid`)
) ENGINE=InnoDB AUTO_INCREMENT=31 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_payment` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `name` varchar(32) NOT NULL COMMENT '名称',
  `type` tinyint(1) NOT NULL COMMENT '支付类型1微信支付2支付宝支付',
  `status` int(11) NOT NULL DEFAULT '0' COMMENT '1启用 0 未启用',
  `param` text NOT NULL COMMENT '支付参数',
  `create_time` int(11) NOT NULL,
  `aid` int(11) NOT NULL COMMENT '所属的aid',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_status` (`status`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_perm_account` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `uniacid` int(10) unsigned NOT NULL DEFAULT '0',
  `plugins` text NOT NULL,
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_pincode` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `mobile` varchar(32) NOT NULL COMMENT '电话',
  `time` int(11) NOT NULL COMMENT '时间',
  `code` int(11) NOT NULL COMMENT '验证码',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=7 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_plugin` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(100) NOT NULL COMMENT '标识',
  `type` varchar(20) NOT NULL COMMENT '类型',
  `title` varchar(100) NOT NULL COMMENT '名称',
  `thumb` varchar(255) NOT NULL DEFAULT '',
  `ability` varchar(255) NOT NULL COMMENT '简介',
  `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '状态',
  `displayorder` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '排序',
  PRIMARY KEY (`id`),
  KEY `idx_name` (`name`),
  KEY `idx_status` (`status`),
  KEY `idx_displayorder` (`displayorder`)
) ENGINE=InnoDB AUTO_INCREMENT=24 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_pocket_blacklist` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL,
  `mid` int(11) NOT NULL COMMENT '用户id',
  `inid` int(11) NOT NULL COMMENT '帖子ID',
  `createtime` varchar(145) NOT NULL COMMENT '创建时间',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_aid` (`aid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_pocket_collection` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `aid` int(11) DEFAULT NULL COMMENT '代理id',
  `uniacid` int(11) NOT NULL COMMENT '公众号id',
  `tid` int(11) NOT NULL COMMENT '帖子的id',
  `mid` int(11) NOT NULL COMMENT '用户id',
  `create_time` varchar(15) DEFAULT NULL COMMENT '收藏时间',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=10 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_pocket_comment` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL,
  `tid` int(11) NOT NULL COMMENT 'infor表id',
  `content` text NOT NULL,
  `mid` int(11) NOT NULL,
  `createtime` varchar(32) NOT NULL,
  `status` tinyint(1) NOT NULL DEFAULT '1' COMMENT '是否审核通过（0=待审核，1=通过，2=未通过）',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_aid` (`aid`),
  KEY `idx_tid` (`tid`)
) ENGINE=InnoDB AUTO_INCREMENT=342 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_pocket_informations` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL,
  `status` varchar(32) NOT NULL COMMENT '0 显示，1 审核中 2 不显示 3已删除 5未支付',
  `content` text NOT NULL,
  `img` text NOT NULL,
  `mid` int(11) NOT NULL,
  `top` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '是否置顶 1 置顶 0不置顶',
  `look` int(11) NOT NULL COMMENT '浏览量',
  `likenum` int(11) NOT NULL COMMENT '点赞数',
  `share` int(11) NOT NULL COMMENT '分享数',
  `endtime` varchar(32) NOT NULL COMMENT '结束时间',
  `onetype` int(11) NOT NULL COMMENT '一级分类',
  `type` int(11) NOT NULL COMMENT '二级分类',
  `nickname` varchar(255) NOT NULL COMMENT '联系人姓名',
  `phone` varchar(32) NOT NULL COMMENT '电话',
  `createtime` varchar(32) NOT NULL COMMENT '创建时间',
  `likeids` text COMMENT '点赞人id',
  `avatar` varchar(255) DEFAULT NULL COMMENT '头像',
  `share_title` varchar(255) DEFAULT NULL COMMENT '分享标题',
  `keyword` text NOT NULL COMMENT '关键词',
  `reason` varchar(255) NOT NULL COMMENT '驳回理由',
  `redpack` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '红包',
  `sredpack` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '剩余红包',
  `package` tinyint(2) NOT NULL COMMENT '红包的个数',
  `redpackstatus` int(11) NOT NULL COMMENT '红包支付状态 0未支付 1已支付',
  `location` varchar(255) NOT NULL COMMENT '定位',
  `address` varchar(255) NOT NULL COMMENT '地址',
  `locastatus` int(11) NOT NULL COMMENT '定位开关 1开启 0关闭',
  `video_link` varchar(255) DEFAULT NULL COMMENT '视频路径',
  `replytime` int(11) NOT NULL COMMENT '最新回复时间',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_aid` (`aid`),
  KEY `idx_status` (`status`),
  KEY `idx_top` (`top`)
) ENGINE=InnoDB AUTO_INCREMENT=991 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_pocket_reply` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL,
  `cid` int(11) NOT NULL COMMENT '评论id',
  `smid` int(11) NOT NULL COMMENT '发送人mid',
  `amid` int(11) NOT NULL COMMENT '回复人id',
  `content` varchar(255) NOT NULL COMMENT '帖子内容',
  `createtime` varchar(32) NOT NULL,
  `tid` int(11) NOT NULL COMMENT '帖子id',
  `status` tinyint(1) DEFAULT '1' COMMENT '是否审核通过（0=待审核，1=通过，2=未通过）',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_aid` (`aid`),
  KEY `idx_tid` (`tid`)
) ENGINE=InnoDB AUTO_INCREMENT=202 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_pocket_slide` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `img` varchar(300) NOT NULL,
  `title` varchar(32) NOT NULL,
  `status` tinyint(1) NOT NULL DEFAULT '0',
  `sort` tinyint(1) NOT NULL DEFAULT '0',
  `url` varchar(300) NOT NULL,
  `aid` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_aid` (`aid`),
  KEY `idx_status` (`status`),
  KEY `idx_sort` (`sort`)
) ENGINE=InnoDB AUTO_INCREMENT=17 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_pocket_type` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `title` varchar(32) NOT NULL,
  `status` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '1 启用',
  `sort` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '排序',
  `img` varchar(300) NOT NULL,
  `type` int(11) NOT NULL DEFAULT '0' COMMENT '默认 0 为一级分类，否则为一级分类的ID',
  `price` decimal(10,2) NOT NULL COMMENT '付费价格',
  `color` varchar(32) NOT NULL COMMENT '标题颜色',
  `url` varchar(300) NOT NULL COMMENT '链接',
  `isnav` int(11) NOT NULL DEFAULT '0' COMMENT '是否为导航栏',
  `aid` int(11) NOT NULL,
  `keyword` text NOT NULL COMMENT '关键字\n',
  `isdistri` tinyint(1) NOT NULL COMMENT '是否分销0是1否默认开启',
  `onedismoney` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '一级分销金额',
  `twodismoney` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '二级分销金额',
  `adv` text NOT NULL COMMENT '幻灯片',
  `vipstatus` tinyint(1) NOT NULL COMMENT '会员特权 0无 1特价 2特供',
  `vipprice` decimal(10,2) NOT NULL COMMENT '会员价',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_aid` (`aid`),
  KEY `idx_status` (`status`),
  KEY `idx_sort` (`sort`),
  KEY `idx_isnav` (`isnav`)
) ENGINE=InnoDB AUTO_INCREMENT=290 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_poster` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL DEFAULT '0',
  `type` tinyint(3) NOT NULL DEFAULT '0' COMMENT '1商家2抢购3卡券4分销5团购6拼团7砍价8业务员',
  `title` varchar(255) NOT NULL COMMENT '标题',
  `bg` varchar(255) NOT NULL COMMENT '默认背景',
  `data` text NOT NULL,
  `createtime` int(11) NOT NULL DEFAULT '0',
  `otherbg` text NOT NULL COMMENT '其他背景',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_type` (`type`),
  KEY `idx_createtime` (`createtime`)
) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_puv` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `areaid` int(11) NOT NULL COMMENT '地区id',
  `uniacid` int(11) NOT NULL,
  `pv` int(11) NOT NULL,
  `uv` int(11) NOT NULL,
  `date` varchar(20) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `uniacid` (`uniacid`)
) ENGINE=InnoDB AUTO_INCREMENT=1601 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_puvrecord` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `mid` int(11) NOT NULL,
  `pv` int(11) NOT NULL,
  `date` varchar(20) NOT NULL,
  `areaid` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `uniacid` (`uniacid`),
  KEY `mid` (`mid`)
) ENGINE=InnoDB AUTO_INCREMENT=13549 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_qrcode` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `aid` int(10) NOT NULL,
  `uniacid` int(10) unsigned NOT NULL,
  `sid` int(11) NOT NULL COMMENT '商户ID',
  `qrid` int(10) unsigned NOT NULL,
  `model` tinyint(1) NOT NULL,
  `cardsn` varchar(64) NOT NULL,
  `salt` varchar(32) NOT NULL COMMENT '加密盐',
  `status` tinyint(1) unsigned NOT NULL,
  `createtime` int(10) unsigned NOT NULL,
  `remark` varchar(50) NOT NULL COMMENT '场景备注',
  `type` tinyint(1) NOT NULL COMMENT '0商户二维码1分销二维码2商品关注二维码',
  PRIMARY KEY (`id`),
  KEY `idx_aid` (`aid`),
  KEY `idx_qrid` (`qrid`),
  KEY `idx_uniacid` (`uniacid`)
) ENGINE=InnoDB AUTO_INCREMENT=328 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_qrcode_apply` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL,
  `status` int(2) NOT NULL,
  `type` int(2) NOT NULL,
  `num` int(11) NOT NULL,
  `pnum` int(11) NOT NULL,
  `remark` varchar(100) NOT NULL,
  `createtime` int(11) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_rank` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `name` varchar(30) NOT NULL COMMENT '排行榜名称',
  `type` tinyint(1) unsigned NOT NULL COMMENT '类型0用户1商户',
  `orderby` tinyint(1) unsigned NOT NULL COMMENT '排序方式：0=用户积分  1=用户余额  2=用户消费金额\n11=商户人气  12=商户订单数  13=商户营业额',
  `status` tinyint(1) unsigned NOT NULL COMMENT '0=禁用  1=启用',
  `createtime` int(11) NOT NULL COMMENT '创建时间',
  `number` int(11) NOT NULL DEFAULT '10' COMMENT '排行榜显示数量 默认10',
  `bgimg` varchar(255) NOT NULL COMMENT '页面背景图',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_status` (`status`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='排行榜信息表';


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_recruit_industry` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL,
  `title` varchar(50) NOT NULL COMMENT '行业名称',
  `pid` int(11) DEFAULT '0' COMMENT '上级行业id',
  `sort` int(11) DEFAULT NULL COMMENT '排序',
  `create_time` int(11) DEFAULT NULL COMMENT '添加时间',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_recruit_label` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL,
  `title` varchar(50) NOT NULL COMMENT '标签标题',
  `type` enum('1','2','3','4','5') DEFAULT NULL COMMENT '标签类型:1=学历要求,2=职位福利,3=经验标签,4=企业规模,5=企业性质',
  `create_time` int(11) DEFAULT NULL COMMENT '添加时间',
  `sort` int(11) DEFAULT NULL COMMENT '排序',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_recruit_position` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL,
  `title` varchar(50) NOT NULL COMMENT '职位名称',
  `industry_pid` int(11) NOT NULL COMMENT '行业id(一级行业id)',
  `industry_id` int(11) NOT NULL COMMENT '行业id(二级行业id)',
  `sort` int(11) DEFAULT NULL COMMENT '排序',
  `create_time` int(11) NOT NULL COMMENT '添加时间',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_recruit_recruit` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL,
  `title` varchar(50) NOT NULL COMMENT '职位名称',
  `industry_pid` int(11) NOT NULL COMMENT '上级行业id',
  `industry_id` int(11) NOT NULL COMMENT '子行业id',
  `position_id` int(11) NOT NULL COMMENT '职位id',
  `recruitment_type` enum('1','2') NOT NULL DEFAULT '1' COMMENT '招聘类型:1=个人招聘,2=企业招聘',
  `release_mid` int(11) DEFAULT NULL COMMENT '发布用户id',
  `release_sid` int(11) DEFAULT NULL COMMENT '发布企业id',
  `job_type` enum('1','2') NOT NULL DEFAULT '1' COMMENT '工作类型：1=全职，2=兼职',
  `full_type` enum('1','2') DEFAULT NULL COMMENT '全职 - 薪资待遇：1=面议，2=指定',
  `full_salary_min` int(10) DEFAULT '0' COMMENT '全职 - 薪资待遇：最低薪资',
  `full_salary_max` int(10) DEFAULT '0' COMMENT '全职 - 薪资待遇：最高薪资',
  `welfare` varchar(255) DEFAULT NULL COMMENT '全职 - 职位福利',
  `part_type` enum('1','2') DEFAULT NULL COMMENT '兼职 - 薪资类型：1=元/时，2=元/天',
  `part_salary` int(10) DEFAULT '0' COMMENT '兼职 - 薪资金额',
  `part_settlement` enum('1','2','3','4') DEFAULT NULL COMMENT '兼职 - 结算方式：1=日结，2=周结，3=月结，4=完工结算',
  `work_province` int(11) DEFAULT NULL COMMENT '工作区域 - 省',
  `work_city` int(11) DEFAULT NULL COMMENT '工作区域 - 市',
  `work_area` int(11) DEFAULT NULL COMMENT '工作区域 - 区',
  `work_address` varchar(80) NOT NULL COMMENT '工作详细地址',
  `work_lng` varchar(20) NOT NULL COMMENT '经度',
  `work_lat` varchar(20) NOT NULL COMMENT '纬度',
  `contacts` varchar(50) NOT NULL COMMENT '联系人',
  `contact_phone` varchar(18) NOT NULL COMMENT '联系方式',
  `gender` enum('1','2','3') NOT NULL DEFAULT '1' COMMENT '性别要求：1=不限，2=男，3=女',
  `age_min` tinyint(2) NOT NULL COMMENT '最小年龄要求',
  `age_max` tinyint(2) NOT NULL COMMENT '最大年龄要求',
  `education_label_id` int(11) DEFAULT '0' COMMENT '学历要求',
  `experience_label_id` int(11) DEFAULT '0' COMMENT '经验要求',
  `status` enum('1','2','3','4','5') NOT NULL DEFAULT '1' COMMENT '招聘状态：1=待付款，2=审核中，3=未通过，4=招聘中，5=已结束',
  `job_description` text COMMENT '职位描述',
  `create_time` int(11) DEFAULT NULL COMMENT '发布时间',
  `sort` int(11) DEFAULT NULL COMMENT '排序信息',
  `pv` int(11) unsigned DEFAULT '0' COMMENT '浏览量',
  `is_top` tinyint(1) DEFAULT '0' COMMENT '是否置顶:0=未置顶，1=置顶中',
  `top_end_time` int(11) DEFAULT '0' COMMENT '置顶结束时间',
  `people_number` tinyint(2) DEFAULT '1' COMMENT '招聘人数',
  `fictitious_pv` int(11) DEFAULT '0' COMMENT '虚拟浏览量',
  `reason` varchar(255) NOT NULL COMMENT '驳回原因',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_recruit_resume` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL,
  `mid` int(11) NOT NULL COMMENT '关联用户id',
  `name` varchar(50) NOT NULL COMMENT '真实姓名',
  `phone` varchar(15) NOT NULL COMMENT '联系方式',
  `avatar` varchar(255) NOT NULL COMMENT '头像',
  `gender` enum('2','3') NOT NULL COMMENT '性别:2=男，3=女',
  `work_status` enum('1','2','3','4','5') NOT NULL COMMENT '上岗状态:1=随时上岗,2=一周之内,3=一月之内,4=考虑中,5=无换岗意向',
  `experience_label_id` int(11) NOT NULL COMMENT '工作经验(0则为无经验)',
  `education_label_id` int(11) NOT NULL COMMENT '最高学历',
  `birth_time` int(11) NOT NULL COMMENT '出生时间，年月日',
  `self_evaluation` text COMMENT '自我评价',
  `industry_pid` int(11) DEFAULT NULL COMMENT '上级行业id',
  `industry_id` int(11) DEFAULT NULL COMMENT '子行业id',
  `expect_position` varchar(30) NOT NULL COMMENT '期望职位',
  `job_type` enum('1','2') NOT NULL DEFAULT '1' COMMENT '工作类型：1=全职，2=兼职',
  `expect_salary_min` int(11) NOT NULL COMMENT '期望最低薪资',
  `expect_salary_max` int(11) DEFAULT NULL COMMENT '期望最高薪资',
  `expect_work_province` int(11) DEFAULT NULL COMMENT '期望工作区域 - 省',
  `expect_work_city` int(11) DEFAULT NULL COMMENT '期望工作区域 - 市(0则代表当前省所有区域)',
  `expect_work_area` int(11) DEFAULT NULL COMMENT '期望工作区域 - 区(0则代表当前市所有区域)',
  `work_experience` text COMMENT '工作经历',
  `educational_experience` text COMMENT '教育经历',
  `create_time` int(11) DEFAULT NULL COMMENT '添加时间',
  `update_time` int(11) DEFAULT NULL COMMENT '修改时间',
  `pv` int(11) DEFAULT NULL COMMENT '浏览量',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_recruit_submit` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `mid` int(11) NOT NULL COMMENT '用户id',
  `resume_id` int(11) NOT NULL COMMENT '简历id',
  `recruit_id` int(11) NOT NULL COMMENT '招聘信息id',
  `create_time` int(11) NOT NULL COMMENT '投递时间',
  `status` tinyint(1) DEFAULT '0' COMMENT '状态：0=未查看，1=已查看，2=已邀请，3=已完成',
  `interview_time` int(11) DEFAULT NULL COMMENT '邀请面试时间',
  `interview_area` varchar(80) DEFAULT NULL COMMENT '面试地点',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_red_envelope` (
  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `pid` int(11) unsigned NOT NULL COMMENT '关联贴子的id（红包的id）',
  `mid` int(11) NOT NULL COMMENT '领取红包的用户的id',
  `gettime` varchar(12) NOT NULL COMMENT '红包领取时间',
  `money` decimal(10,2) NOT NULL COMMENT '领取红包的金额',
  `uniacid` int(11) NOT NULL COMMENT '公众号id',
  `aid` int(11) NOT NULL COMMENT '代理商id',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_aid` (`aid`),
  KEY `idx_pid` (`pid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='红包领取记录表';


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_redpack_festival` (
  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '0=下架，1=上架',
  `name` varchar(50) NOT NULL COMMENT '节日名称',
  `label` char(8) NOT NULL COMMENT '红包标签',
  `images` varchar(255) NOT NULL COMMENT '主题图片',
  `color` varchar(255) NOT NULL COMMENT '颜色设置信息',
  `start_time` int(10) unsigned NOT NULL COMMENT '开始时间',
  `end_time` int(10) NOT NULL COMMENT '结束时间',
  `redpack_calss` tinyint(1) NOT NULL DEFAULT '5' COMMENT '2=中秋红包，3=国庆红包，4=圣诞红包，5=新年红包，6=端午红包',
  `aid` int(10) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_redpack_festival_join` (
  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) DEFAULT NULL,
  `pack_id` int(11) NOT NULL COMMENT '红包id',
  `festival_id` int(11) NOT NULL COMMENT '节日信息id',
  `limit` tinyint(3) NOT NULL COMMENT '每人可领取的限制',
  `aid` int(10) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_redpack_records` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `mid` int(10) unsigned NOT NULL COMMENT '用户ID',
  `status` tinyint(1) unsigned NOT NULL COMMENT '0未使用1已使用',
  `type` tinyint(1) NOT NULL COMMENT '0自主领取1后台发送2抽奖领取',
  `packid` int(10) unsigned NOT NULL COMMENT '红包ID',
  `start_time` int(10) unsigned NOT NULL COMMENT '开始时间',
  `end_time` int(10) unsigned NOT NULL COMMENT '截止时间',
  `usetime` int(10) unsigned NOT NULL COMMENT '使用时间',
  `orderid` int(10) NOT NULL COMMENT '订单ID',
  `createtime` int(10) unsigned NOT NULL,
  `festival_id` int(11) NOT NULL DEFAULT '0' COMMENT '节日红包id',
  `source` tinyint(1) NOT NULL DEFAULT '1' COMMENT '红包领取渠道（1=普通红包领取；2=新人红包领取；3=节日红包领取）',
  `plugin` varchar(125) NOT NULL COMMENT '使用插件',
  `aid` int(10) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_mid` (`mid`),
  KEY `idx_status` (`status`),
  KEY `idx_packid` (`packid`),
  KEY `idx_endtime` (`end_time`)
) ENGINE=InnoDB AUTO_INCREMENT=16 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_redpacks` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `title` varchar(32) NOT NULL COMMENT '昵称',
  `scene` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '0自助领取1系统发放',
  `status` tinyint(1) unsigned NOT NULL DEFAULT '1' COMMENT '0下架1上架',
  `full_money` decimal(10,2) unsigned NOT NULL DEFAULT '0.00' COMMENT '满减限制金额，0无门槛',
  `cut_money` decimal(10,2) unsigned NOT NULL DEFAULT '0.00' COMMENT '优惠金额',
  `all_count` int(11) NOT NULL COMMENT '红包总数，0无限',
  `limit_count` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '每人限领数量',
  `usetime_type` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '0固定时间1领取当日2领取次日',
  `usetime` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '限制时间',
  `usegoods_type` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '0=全平台;1=指定代理;2=指定商家;3=指定商品使用',
  `sort` tinyint(4) NOT NULL COMMENT '排序，数字越大越靠前',
  `createtime` int(10) unsigned NOT NULL COMMENT '创建时间',
  `use_start_time` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '使用开始时间',
  `use_end_time` int(10) unsigned NOT NULL COMMENT '使用截止时间',
  `usetime_day1` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '领取当日第几天有效',
  `usetime_day2` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '领取次日第几天有效',
  `use_aids` varchar(255) NOT NULL COMMENT '限使用的代理',
  `use_sids` varchar(255) NOT NULL COMMENT '限使用的商户',
  `aid` int(10) NOT NULL DEFAULT '0',
  `rush_ids` text COMMENT '限使用抢购商品',
  `group_ids` text COMMENT '限使用团购商品',
  `fight_ids` text COMMENT '限使用拼团商品',
  `bargain_ids` text COMMENT '限使用砍价商品',
  `redpack_type` int(11) NOT NULL COMMENT '红包类型 0通用红包 1商品红包 2买单红包',
  PRIMARY KEY (`id`),
  KEY `idx_sort` (`sort`),
  KEY `idx_scene` (`scene`),
  KEY `idx_status` (`status`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_refund_record` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `type` int(11) NOT NULL COMMENT '1手机端2Web端3最后一人退款4部分退款5计划任务退款',
  `payfee` varchar(100) NOT NULL COMMENT '支付金额',
  `paytype` int(3) NOT NULL COMMENT '支付方式：1=余额；2=微信；3=支付宝',
  `refundfee` varchar(100) NOT NULL COMMENT '退还金额',
  `transid` varchar(115) NOT NULL COMMENT '订单编号',
  `refund_id` varchar(115) NOT NULL COMMENT '微信退款单号',
  `refundername` varchar(100) NOT NULL COMMENT '退款人姓名',
  `refundermobile` varchar(100) NOT NULL COMMENT '退款人电话',
  `goodsname` varchar(100) NOT NULL COMMENT '商品名称',
  `createtime` varchar(45) NOT NULL COMMENT '退款时间',
  `status` int(11) NOT NULL COMMENT '0未成功1成功',
  `orderid` varchar(45) NOT NULL COMMENT '订单id',
  `sid` int(11) NOT NULL COMMENT '商家id',
  `remark` text NOT NULL COMMENT '退款备注',
  `plugin` varchar(32) NOT NULL COMMENT '插件名称',
  `errmsg` varchar(445) NOT NULL DEFAULT '0' COMMENT '退款错误信息',
  `aid` int(11) NOT NULL COMMENT '代理id',
  `orderno` varchar(32) NOT NULL COMMENT '订单编号',
  `mid` int(11) NOT NULL COMMENT '用户id',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_aid` (`aid`),
  KEY `idx_type` (`type`),
  KEY `idx_paytype` (`paytype`),
  KEY `idx_plugin` (`plugin`)
) ENGINE=InnoDB AUTO_INCREMENT=58 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_report` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL COMMENT '公众号id',
  `storeid` int(11) NOT NULL COMMENT '商户id',
  `money` decimal(10,2) NOT NULL COMMENT '金额',
  `createtime` int(11) NOT NULL COMMENT '创建时间',
  `num` int(11) NOT NULL COMMENT '订单数量',
  `status` int(11) NOT NULL COMMENT '0待填充数据 2待结算 1已结算',
  `setttype` int(11) NOT NULL COMMENT '结算时间 0每天 1每周 2每月',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_storeid` (`storeid`),
  KEY `idx_status` (`status`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_role` (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '角色id',
  `uniacid` int(11) NOT NULL COMMENT '公众号id',
  `limit` text NOT NULL COMMENT '该角色拥有的权限数组',
  `title` varchar(32) NOT NULL COMMENT '角色title',
  `status` int(2) NOT NULL COMMENT '角色是否显示状态：2显示；0、1不显示',
  `type` int(2) NOT NULL COMMENT '角色类型（备用）',
  `createtime` varchar(32) NOT NULL COMMENT '创建时间',
  `updatetime` varchar(32) NOT NULL COMMENT '修改时间',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='角色创建表';


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_rush_activity` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL COMMENT '公众号id',
  `sid` int(11) NOT NULL COMMENT '商家id',
  `aid` int(11) NOT NULL COMMENT '代理id',
  `name` varchar(145) NOT NULL COMMENT '活动名称【可和仓库的商品名称一致】',
  `code` varchar(145) NOT NULL COMMENT '商品编号',
  `detail` longtext NOT NULL COMMENT '详情',
  `price` decimal(10,2) NOT NULL COMMENT '抢购价',
  `oldprice` decimal(10,2) NOT NULL COMMENT '原价',
  `vipprice` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT 'vip价格',
  `num` int(11) NOT NULL COMMENT '限量',
  `levelnum` int(11) NOT NULL COMMENT '剩余数量',
  `status` int(11) NOT NULL DEFAULT '1' COMMENT '	未开始=1；进行中=2；已结束=3；已下架=4；待审核=5；未通过=6；已抢完=7;回收站 = 8',
  `starttime` varchar(225) NOT NULL COMMENT '活动开始时间',
  `endtime` varchar(225) NOT NULL COMMENT '活动结束时间',
  `follow` int(11) NOT NULL COMMENT '关注人数',
  `tag` text NOT NULL COMMENT '标签',
  `share_title` varchar(250) NOT NULL,
  `share_image` varchar(250) NOT NULL,
  `share_desc` varchar(250) NOT NULL,
  `unit` varchar(32) NOT NULL COMMENT '单位',
  `thumb` varchar(145) NOT NULL COMMENT '首页图片',
  `thumbs` text NOT NULL COMMENT '图集',
  `describe` text NOT NULL COMMENT '购买须知',
  `op_one_limit` int(11) NOT NULL COMMENT '单人限购',
  `cutofftime` int(11) NOT NULL COMMENT '使用截止时间',
  `is_indexshow` int(11) NOT NULL DEFAULT '1' COMMENT '是否首页显示',
  `allsalenum` int(11) NOT NULL COMMENT '虚拟销量',
  `sort` int(11) NOT NULL DEFAULT '0' COMMENT '设置排序',
  `cutoffstatus` int(11) NOT NULL COMMENT '截止时间类型',
  `cutoffday` int(11) NOT NULL COMMENT '购买后有效天数',
  `retainage` decimal(10,2) NOT NULL COMMENT '尾款',
  `appointment` int(11) NOT NULL COMMENT '预约小时',
  `integral` int(11) NOT NULL COMMENT '获得积分',
  `pv` int(11) NOT NULL COMMENT '人气',
  `vipstatus` int(11) NOT NULL COMMENT '0无 1会员特价 2会员特供',
  `cateid` int(11) NOT NULL COMMENT '抢购分类ID',
  `settlementmoney` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '结算金额',
  `onedismoney` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '一级分销',
  `twodismoney` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '二级分销',
  `threedismoney` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '三级分销',
  `orderinfo` varchar(255) NOT NULL COMMENT '订单信息',
  `isdistri` int(11) NOT NULL COMMENT '是否参与分销 0参与 1不参与',
  `falseorder` text NOT NULL COMMENT '虚拟订单',
  `specialid` int(11) NOT NULL COMMENT '主题ID',
  `bgmusic` varchar(255) NOT NULL COMMENT '背景音乐',
  `vipsettlementmoney` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT 'vip结算金额',
  `viponedismoney` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT 'vip一级分销',
  `viptwodismoney` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT 'vip二级分销',
  `vipthreedismoney` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT 'vip三级分销',
  `optionstatus` int(11) NOT NULL COMMENT '多规格标记',
  `userlabel` text NOT NULL COMMENT '用户标签',
  `creditmoney` decimal(10,2) NOT NULL COMMENT '积分能抵扣的金额',
  `sharemoney` decimal(10,2) NOT NULL COMMENT '金额',
  `sharestatus` int(11) NOT NULL COMMENT '分享有礼',
  `independent` int(11) NOT NULL COMMENT '独立结算开关 0开启 1关闭',
  `allowapplyre` int(11) NOT NULL COMMENT '是否允许退款 0允许 1不允许',
  `usestatus` int(11) NOT NULL COMMENT '使用方式 0到店核销 1快递 2同时支持',
  `expressid` int(11) NOT NULL COMMENT '运费模板',
  `fastpay` int(11) NOT NULL COMMENT '快速支付 0开启 1关闭',
  `overrefund` tinyint(1) NOT NULL COMMENT '过期退款 0关闭 1开启',
  `level` text NOT NULL COMMENT '适用等级',
  `dissettime` int(11) NOT NULL COMMENT '结算时间 0订单完成时 1订单支付时',
  `diyposter` int(11) NOT NULL COMMENT '自定义海报ID',
  `communityid` int(11) NOT NULL COMMENT '社群id',
  `lp_status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否开启阶梯价(0=关闭 1=开启)',
  `lp_set` text NOT NULL COMMENT '阶梯价基本设置信息',
  `share_wxapp_image` varchar(250) DEFAULT NULL COMMENT '小程序分享图片',
  `is_describe_tip` tinyint(1) unsigned DEFAULT '0' COMMENT '是否开启购买须知提醒(0=关闭，1=开启)',
  `extension_text` text NOT NULL COMMENT '推广文案',
  `extension_img` text NOT NULL COMMENT '推广图片路径',
  `pay_type` varchar(255) NOT NULL COMMENT '商品独立支付方式',
  `cash_back` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否开启支付返现(0=关闭，1=开启)',
  `return_proportion` tinyint(3) NOT NULL DEFAULT '0' COMMENT '返现比例（1=100）',
  `fullreduceid` int(11) NOT NULL COMMENT '满减活动id',
  `paidid` int(11) NOT NULL COMMENT '支付有礼活动id',
  `usedatestatus` tinyint(2) NOT NULL COMMENT '定时购买 1按星期 2按天数',
  `week` varchar(355) NOT NULL COMMENT '按星期时间',
  `day` varchar(355) NOT NULL COMMENT '按天数时间',
  `daylimit` int(11) NOT NULL COMMENT '每日限量',
  `viparray` text NOT NULL COMMENT '会员减免数组',
  `disarray` text NOT NULL COMMENT '分销商佣金数组',
  `diyformid` int(11) NOT NULL DEFAULT '0' COMMENT '自定义表单id',
  `alldaylimit` int(11) NOT NULL COMMENT '每天限购总量',
  `isdistristatus` tinyint(1) NOT NULL COMMENT '分销设置方式：0 百分比 1固定金额',
  `appointstatus` tinyint(1) NOT NULL COMMENT '预约类型：0 关闭 1开启',
  `appointdays` int(1) NOT NULL COMMENT '可预约天数',
  `appointarray` text NOT NULL COMMENT '预约数组',
  `videourl` varchar(255) NOT NULL COMMENT '顶部视频',
  `monthlimit` int(11) DEFAULT NULL COMMENT '没人每月限量',
  `yuecashback` decimal(10,2) NOT NULL COMMENT '普通用户余额返现',
  `vipyuecashback` decimal(10,2) DEFAULT NULL COMMENT '会员余额返现',
  `checkcodeflag` int(11) DEFAULT NULL COMMENT '核销码类型 0系统核销码 1导入核销码',
  `pftid` int(11) DEFAULT NULL COMMENT '票付通id',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_aid` (`aid`),
  KEY `idx_sid` (`sid`),
  KEY `idx_status` (`status`)
) ENGINE=InnoDB AUTO_INCREMENT=82 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_rush_category` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL DEFAULT '0',
  `name` varchar(255) NOT NULL DEFAULT '',
  `aid` int(11) NOT NULL DEFAULT '0',
  `sort` int(11) NOT NULL DEFAULT '0' COMMENT '抢购商品分类排序，从大到小',
  `thumb` varchar(255) NOT NULL COMMENT '抢购商品分类图片',
  `is_show` tinyint(1) NOT NULL DEFAULT '0' COMMENT '首页显示 0显示 1隐藏',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_aid` (`aid`),
  KEY `idx_is_show` (`is_show`),
  KEY `idx_sort` (`sort`)
) ENGINE=InnoDB AUTO_INCREMENT=60 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_rush_follows` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL,
  `mid` int(11) NOT NULL,
  `actid` int(11) NOT NULL COMMENT '抢购商品ID',
  `sendtime` int(11) NOT NULL COMMENT '发送时间',
  PRIMARY KEY (`id`),
  KEY `idx_aid` (`aid`),
  KEY `idx_sendtime` (`sendtime`),
  KEY `idx_uniacid` (`uniacid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_rush_order` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `unionid` varchar(145) NOT NULL COMMENT '用户微信id',
  `openid` varchar(225) NOT NULL,
  `mid` int(11) NOT NULL COMMENT '会员ID',
  `aid` int(11) NOT NULL COMMENT '代理id',
  `sid` int(11) NOT NULL COMMENT '商家id',
  `activityid` int(11) NOT NULL COMMENT '活动id',
  `status` int(11) NOT NULL COMMENT '0未支付 1已支付 2已消费 3已完成 4待收货 待消费 5已取消 6待退款 7已退款 9已过期',
  `orderno` varchar(145) NOT NULL COMMENT '订单号',
  `transid` varchar(145) NOT NULL COMMENT '微信支付ID',
  `price` decimal(10,2) NOT NULL COMMENT '商品价格',
  `mobile` varchar(145) NOT NULL COMMENT '电话',
  `num` int(11) NOT NULL COMMENT '抢购数量',
  `actualprice` decimal(10,2) NOT NULL COMMENT '实际支付',
  `goodscode` varchar(145) NOT NULL COMMENT '商品编号',
  `paytime` varchar(145) NOT NULL COMMENT '支付时间',
  `paytype` int(2) NOT NULL COMMENT '支付方式 1余额 2微信 3支付宝 4货到付款',
  `checkcode` varchar(145) NOT NULL COMMENT '核销码',
  `createtime` varchar(225) NOT NULL COMMENT '创建时间',
  `adminremark` text NOT NULL COMMENT '卖家备注',
  `verfmid` int(11) NOT NULL,
  `verftime` int(11) NOT NULL,
  `issettlement` int(11) NOT NULL DEFAULT '0',
  `cutoffnotice` int(11) NOT NULL,
  `applytime` varchar(145) NOT NULL,
  `refundtime` varchar(145) NOT NULL,
  `applyrefund` int(11) NOT NULL DEFAULT '0',
  `falsename` varchar(145) NOT NULL,
  `falseavatar` varchar(145) NOT NULL,
  `disorderid` int(11) NOT NULL DEFAULT '0' COMMENT '分销订单id\n',
  `username` varchar(255) NOT NULL COMMENT '购买人姓名',
  `address` varchar(255) NOT NULL COMMENT '地址信息',
  `usetimes` int(11) NOT NULL COMMENT '使用次数',
  `usedtime` text NOT NULL COMMENT '核销记录',
  `vipbuyflag` int(11) NOT NULL COMMENT '会员购买表示 1会员购买 0普通购买 ',
  `optionid` int(11) NOT NULL COMMENT '规格id',
  `dkcredit` decimal(10,2) NOT NULL COMMENT '抵扣的积分',
  `dkmoney` decimal(10,2) NOT NULL COMMENT '抵扣的金额',
  `overtime` int(11) NOT NULL COMMENT '标记过期的时间',
  `paidprid` int(11) NOT NULL COMMENT '支付有礼的记录id',
  `shareid` int(11) NOT NULL COMMENT '分享有礼记录id',
  `settlementmoney` decimal(10,2) NOT NULL COMMENT '结算金额',
  `estimatetime` int(11) NOT NULL COMMENT '预计过期时间',
  `changedispatchprice` decimal(10,2) NOT NULL COMMENT '订单改运费',
  `changeprice` decimal(10,0) NOT NULL COMMENT '订单改价',
  `failtimes` int(11) NOT NULL COMMENT '失败次数',
  `expressid` int(11) NOT NULL COMMENT '快递订单号',
  `remark` text NOT NULL COMMENT '买家备注',
  `vip_card_id` int(11) NOT NULL COMMENT '储存用户在购买当前商品时开通的会员卡的id',
  `originalprice` decimal(10,2) NOT NULL COMMENT '改价之前的原始价',
  `redisstatus` tinyint(1) NOT NULL COMMENT '退款分销订单状态修改',
  `neworderflag` tinyint(1) NOT NULL COMMENT '新订单标记',
  `reportid` int(11) NOT NULL COMMENT '报表id',
  `settletime` int(11) NOT NULL COMMENT '结算时间',
  `canceltime` int(11) NOT NULL COMMENT '预计取消时间',
  `remindtime` int(11) NOT NULL COMMENT '过期提醒时间',
  `discount` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '会员优惠金额',
  `salesarray` text NOT NULL COMMENT '业务员数组',
  `redpackid` int(11) NOT NULL COMMENT '使用的红包id',
  `redpackmoney` decimal(10,2) NOT NULL COMMENT '红包减免金额',
  `fullreduceid` int(11) NOT NULL COMMENT '满减活动id',
  `fullreducemoney` decimal(10,2) NOT NULL COMMENT '满减活动减免金额',
  `retype` int(11) NOT NULL COMMENT 'V3申请退款渠道 1原路 2余额',
  `blendcredit` decimal(10,2) NOT NULL COMMENT '混合支付的余额',
  `paysetid` int(11) NOT NULL COMMENT '支付商户设置id',
  `allocationtype` int(11) NOT NULL COMMENT '分账方式 0平台系统 1服务商分账',
  `drawid` int(11) NOT NULL COMMENT '抽奖记录id',
  `moinfo` text COMMENT '额外内容',
  `pftinfo` text COMMENT '票付通信息',
  `pftorderinfo` text COMMENT '票付通订单信息',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_aid` (`aid`),
  KEY `idx_status` (`status`),
  KEY `idx_mid` (`mid`),
  KEY `idx_sid` (`sid`),
  KEY `idx_orderno` (`orderno`),
  KEY `idx_activityid` (`activityid`)
) ENGINE=InnoDB AUTO_INCREMENT=130 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_rush_special` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL,
  `title` varchar(125) NOT NULL COMMENT '题目',
  `thumb` varchar(125) NOT NULL COMMENT '顶部图片',
  `share_title` varchar(255) NOT NULL COMMENT '分享标题',
  `share_desc` varchar(255) NOT NULL COMMENT '分享详情',
  `createtime` int(11) NOT NULL COMMENT '创建时间',
  `rule` text NOT NULL COMMENT '专题规则',
  `bgcolor` varchar(8) NOT NULL COMMENT '背景颜色',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_aid` (`aid`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_setting` (
  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `key` varchar(64) NOT NULL,
  `value` longtext NOT NULL,
  `v4flag` tinyint(1) NOT NULL COMMENT 'V4的设置项',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_key` (`key`)
) ENGINE=InnoDB AUTO_INCREMENT=184 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_settlement_record` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `sid` int(11) NOT NULL,
  `aid` int(11) NOT NULL,
  `status` int(11) NOT NULL DEFAULT '0' COMMENT '-1系统审核不通过-2代理审核不通过1代理审核中2系统审核中，3系统审核通过，待结算,4已结算给代理,5已结算到商家,6分销商申请提现，7分销提现代理审核通过，8分销提现平台审核通过，9分销提现已结算，10分销提现代理驳回，11分销提现平台驳回；15=红娘提现审核中,16=红娘提现审核通过(待打款),17=红娘提现驳回,18=红娘提现已完成(打款完成)',
  `type` int(11) NOT NULL DEFAULT '0' COMMENT '1商家提现申请2代理提现申请3分销商申请提现 4用户余额提现 5=红娘提现',
  `sapplymoney` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '申请结算金额',
  `aapplymoney` decimal(10,2) DEFAULT '0.00' COMMENT '代理申请金额',
  `sgetmoney` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '实际得到金额',
  `agetmoney` decimal(10,2) DEFAULT '0.00' COMMENT '代理实际得到金额',
  `spercentmoney` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '系统抽成金额',
  `apercentmoney` decimal(10,2) DEFAULT '0.00' COMMENT '代理缴纳佣金',
  `spercent` decimal(10,4) NOT NULL DEFAULT '0.0000' COMMENT '系统抽成比例',
  `apercent` decimal(10,4) DEFAULT '0.0000' COMMENT '代理给系统的抽成比例',
  `applytime` varchar(145) NOT NULL COMMENT '申请时间',
  `updatetime` varchar(145) NOT NULL COMMENT '最后操作时间',
  `settletype` int(11) NOT NULL DEFAULT '0' COMMENT '0未打款；1=手动处理；2=微信打款；3=分销商提现(手动处理)；4=分销商提现（余额到账）；5=红包打款；6=支付宝转账',
  `ids` text COMMENT '申请结算的订单id集',
  `ordernum` int(11) DEFAULT NULL COMMENT '结算订单数',
  `sopenid` varchar(145) NOT NULL COMMENT '收款人openid',
  `aopenid` varchar(145) NOT NULL,
  `type2` int(11) NOT NULL DEFAULT '0',
  `trade_no` varchar(45) NOT NULL COMMENT '商户打款单号',
  `payment_type` tinyint(1) NOT NULL COMMENT '代理商/商户期望的打款方式（1=支付宝，2=微信，3=银行卡,4=余额[仅分销商有余额打款]），5=代理后台申请商家提现',
  `mid` int(11) NOT NULL COMMENT '申请提现的分销商的id',
  `disid` int(11) NOT NULL COMMENT '分销提现申请人的代理商ID',
  `source` tinyint(1) NOT NULL DEFAULT '1' COMMENT '渠道 1公众号 3小程序',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_sid` (`sid`),
  KEY `idx_status` (`status`),
  KEY `idx_type` (`type`)
) ENGINE=InnoDB AUTO_INCREMENT=31 DEFAULT CHARSET=utf8 COMMENT='商家向代理提出结算申请记录';


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_settlement_temporary` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `type` tinyint(1) NOT NULL COMMENT '类型 1用户余额提现\n',
  `mid` int(11) NOT NULL COMMENT '用户id',
  `info` text NOT NULL COMMENT '体现信息数组压缩字符串',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8mb4;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_signmember` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `mid` int(11) NOT NULL COMMENT '用户id',
  `nickname` varchar(32) NOT NULL COMMENT '用户昵称',
  `avatar` varchar(445) NOT NULL COMMENT '用户头像',
  `createtime` int(11) NOT NULL COMMENT '创建时间',
  `times` int(11) NOT NULL COMMENT '累计(连续)签到天数\n',
  `integral` int(11) NOT NULL COMMENT '积分',
  `record` text NOT NULL COMMENT '详细记录',
  `totaltimes` int(11) NOT NULL COMMENT '总共签到次数',
  `total` text NOT NULL COMMENT '累计记录',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_mid` (`mid`),
  KEY `idx_times` (`times`),
  KEY `idx_createtime` (`createtime`)
) ENGINE=InnoDB AUTO_INCREMENT=363 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_signreceive` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `mid` int(11) NOT NULL COMMENT '用户ID',
  `date` int(11) NOT NULL COMMENT '月份',
  `total` int(11) NOT NULL COMMENT '累计天数',
  `reward` int(11) NOT NULL COMMENT '奖励',
  `createtime` int(11) NOT NULL COMMENT '创建时间',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_mid` (`mid`),
  KEY `idx_date` (`date`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_signrecord` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `mid` int(11) NOT NULL,
  `date` int(11) NOT NULL COMMENT '签到日期',
  `createtime` int(11) NOT NULL COMMENT '创建时间',
  `reward` int(11) NOT NULL COMMENT '获取积分',
  `sign_class` varchar(20) NOT NULL DEFAULT '0' COMMENT '签到类型',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_mid` (`mid`)
) ENGINE=InnoDB AUTO_INCREMENT=455 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_smallorder` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL COMMENT '公众号id',
  `mid` int(11) NOT NULL COMMENT '用户mid',
  `aid` int(11) NOT NULL COMMENT '代理id\n',
  `sid` int(11) NOT NULL COMMENT '商户id',
  `status` int(11) NOT NULL COMMENT '状态 1待使用 2已结算 3已退款 4申请退款中',
  `plugin` varchar(50) NOT NULL COMMENT '插件名称',
  `orderid` int(11) NOT NULL COMMENT '母订单id',
  `orderno` varchar(50) NOT NULL COMMENT '母订单编号',
  `createtime` int(11) NOT NULL COMMENT '创建时间',
  `hexiaotime` int(11) NOT NULL COMMENT '核销时间',
  `hexiaotype` int(11) NOT NULL COMMENT '核销方式 1输码 2扫码 3后台 4密码',
  `hxuid` int(11) NOT NULL COMMENT '核销员user表id',
  `settletime` int(11) NOT NULL COMMENT '结算时间',
  `checkcode` varchar(50) NOT NULL COMMENT '核销码',
  `orderprice` decimal(10,2) NOT NULL COMMENT '订单支付金额',
  `settlemoney` decimal(10,2) NOT NULL COMMENT '结算金额',
  `disorderid` int(11) NOT NULL COMMENT '分销订单id',
  `oneleadid` int(11) NOT NULL COMMENT '一级分销商id',
  `twoleadid` int(11) NOT NULL COMMENT '二级分销商id',
  `onedismoney` decimal(10,2) NOT NULL COMMENT '一级分销商佣金',
  `twodismoney` decimal(10,2) NOT NULL COMMENT '二级分销商佣金',
  `dissettletime` int(11) NOT NULL COMMENT '分销结算时间',
  `refundtime` int(11) NOT NULL COMMENT '退款时间',
  `gid` int(11) NOT NULL COMMENT '商品id',
  `specid` int(11) NOT NULL COMMENT '规格id',
  `blendcredit` decimal(10,2) NOT NULL COMMENT '混合支付金额',
  `allocationstatus` int(11) NOT NULL COMMENT '分账状态 0不需要分账 1需要分账但未分账 2已分账',
  `appointstatus` int(11) NOT NULL COMMENT '预约状态 0不需要预约 1 未预约 2预约中  3已预约',
  `appstarttime` int(11) NOT NULL COMMENT '预约开始时间',
  `appendtime` int(11) NOT NULL COMMENT '预约结束时间',
  PRIMARY KEY (`id`),
  KEY `idx_orderid` (`orderid`) USING BTREE,
  KEY `idx_checkcode` (`checkcode`) USING BTREE,
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_status` (`status`),
  KEY `idx_orderno` (`orderno`),
  KEY `idx_gid_specid_plugin_status` (`gid`,`specid`,`plugin`,`status`)
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8 COMMENT='小订单';


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_smstpl` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `name` varchar(50) NOT NULL COMMENT '模板名称',
  `type` varchar(32) NOT NULL COMMENT '类型',
  `smstplid` varchar(32) NOT NULL,
  `data` text NOT NULL,
  `status` smallint(2) NOT NULL COMMENT '0禁用1启用',
  `createtime` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_status` (`status`)
) ENGINE=InnoDB AUTO_INCREMENT=8 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_store_dynamic` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL,
  `sid` int(11) NOT NULL COMMENT '商户id',
  `mid` int(11) NOT NULL COMMENT '发布人id',
  `status` int(11) NOT NULL COMMENT '状态 0待审核 1审核通过 2已推送',
  `content` varchar(225) NOT NULL COMMENT '内容',
  `imgs` text NOT NULL COMMENT '图集',
  `createtime` int(11) NOT NULL COMMENT '创建时间',
  `passtime` int(11) NOT NULL COMMENT '审核时间',
  `sendtime` int(11) NOT NULL COMMENT '发送时间',
  `successnum` int(11) NOT NULL COMMENT '成功人数',
  `supportlist` text NOT NULL COMMENT '点赞列表',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_sid` (`sid`),
  KEY `idx_status` (`status`),
  KEY `idx_aid` (`aid`)
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_storefans` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `sid` int(11) NOT NULL,
  `mid` int(11) NOT NULL,
  `source` int(2) NOT NULL COMMENT '1收藏店铺2挪车卡绑定3店铺二维码',
  `createtime` int(11) NOT NULL,
  `isread` int(11) NOT NULL COMMENT '是否已查看 0未查看 1已查看',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_sid` (`sid`),
  KEY `idx_mid_uniacid` (`mid`,`uniacid`)
) ENGINE=InnoDB AUTO_INCREMENT=200 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_storeusers_group` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `uniacid` int(10) unsigned NOT NULL,
  `name` varchar(50) NOT NULL COMMENT '名称',
  `package` varchar(5000) NOT NULL,
  `isdefault` int(2) unsigned NOT NULL COMMENT '0非默认1默认',
  `enabled` int(2) unsigned NOT NULL COMMENT '0禁用1启用',
  `createtime` int(11) unsigned NOT NULL,
  `aid` int(11) NOT NULL,
  `authority` text NOT NULL COMMENT '商户权限',
  `chargeid` int(11) NOT NULL COMMENT '匹配付费入驻id',
  `defaultrate` int(11) NOT NULL COMMENT '默认结算比',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_aid` (`aid`),
  KEY `idx_enabled` (`enabled`)
) ENGINE=InnoDB AUTO_INCREMENT=49 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_subposter_log` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `uniacid` int(10) unsigned NOT NULL,
  `mid` int(10) unsigned NOT NULL COMMENT '用户ID',
  `invite_id` int(10) unsigned NOT NULL COMMENT '邀请人ID',
  `createtime` int(10) NOT NULL COMMENT '第一次生成的时间',
  `sort` int(10) NOT NULL COMMENT '排序',
  `scan_times` int(10) NOT NULL COMMENT '扫码次数',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_mid` (`mid`),
  KEY `idx_invite_id` (`invite_id`),
  KEY `idx_createtime` (`createtime`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_systemnotice` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL COMMENT '公众号id',
  `type` int(11) NOT NULL COMMENT '通知类型 1通知商户抢购已支付 2通知商户其他订单已支付 3通知商户提现信息 4通知商户新加会员 ',
  `sid` int(11) NOT NULL COMMENT '商户id',
  `mid` int(11) NOT NULL COMMENT '用户id',
  `objid` int(11) NOT NULL COMMENT '对象id： 类型12：订单 3结算记录 4用户id',
  `isread` int(11) NOT NULL COMMENT '是否已阅：0未阅读 1已阅读',
  `createtime` int(11) NOT NULL COMMENT '发送时间',
  `status` int(11) NOT NULL COMMENT '提现通知状态 1通过审核 2被驳回 3已打款',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`)
) ENGINE=InnoDB AUTO_INCREMENT=48 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_tags` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL,
  `title` varchar(145) NOT NULL COMMENT '标签内容',
  `type` int(11) NOT NULL COMMENT '标签类型 0首页 1抢购 2拼团 3团购',
  `enabled` int(11) NOT NULL COMMENT '0隐藏1显示',
  `sort` int(11) NOT NULL COMMENT '排序',
  `createtime` int(11) NOT NULL COMMENT '创建时间',
  `content` varchar(255) NOT NULL COMMENT '描述内容',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_aid` (`aid`),
  KEY `idx_enabled` (`enabled`),
  KEY `idx_sort` (`sort`)
) ENGINE=InnoDB AUTO_INCREMENT=26 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_taxipay_adv` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL COMMENT '平台ID',
  `sort` int(11) NOT NULL COMMENT '排序，数字越大越靠前',
  `title` varchar(32) NOT NULL COMMENT '名称',
  `thumb` varchar(255) NOT NULL COMMENT '广告图片',
  `status` tinyint(1) NOT NULL COMMENT '状态0禁用1启用',
  `charg_type` tinyint(1) NOT NULL COMMENT '计费形式0按时长1浏览次数',
  `endtime` int(11) NOT NULL COMMENT '广告到期时间',
  `cost` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '总费用',
  `cost_one` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '每人计费',
  `link` varchar(300) NOT NULL COMMENT '跳转链接',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid_status` (`uniacid`,`status`),
  KEY `idx_sort` (`sort`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_taxipay_advcids` (
  `advid` int(11) NOT NULL COMMENT '广告ID',
  `cid` int(11) NOT NULL COMMENT '公司ID',
  KEY `idx_advid` (`advid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_taxipay_advlog` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL COMMENT '平台ID',
  `mid` int(11) NOT NULL COMMENT '用户id',
  `advid` int(11) NOT NULL COMMENT '广告ID',
  `times` int(11) NOT NULL COMMENT '浏览次数',
  `lasttime` int(11) NOT NULL COMMENT '最近时间',
  `firsttime` int(11) NOT NULL COMMENT '最早时间',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_mid` (`mid`),
  KEY `idx_advid` (`advid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_taxipay_company` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL COMMENT '平台ID',
  `name` varchar(64) NOT NULL COMMENT '公司名称',
  `province` int(11) NOT NULL COMMENT '省',
  `city` int(11) NOT NULL COMMENT '市',
  `district` int(11) NOT NULL COMMENT '区',
  `address` varchar(300) NOT NULL COMMENT '详细地址',
  `tel` varchar(16) NOT NULL COMMENT '电话',
  `master` int(10) unsigned NOT NULL COMMENT '司机数量',
  `scale` tinyint(3) unsigned NOT NULL COMMENT '抽点比例',
  `money` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '佣金',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_taxipay_master` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL COMMENT '平台ID',
  `cid` int(11) NOT NULL COMMENT '所属公司',
  `mid` int(11) NOT NULL COMMENT '用户ID',
  `plate1` varchar(2) NOT NULL COMMENT '省简称',
  `plate2` varchar(1) NOT NULL COMMENT '英文前缀',
  `plate_number` varchar(8) NOT NULL COMMENT '车牌号',
  `name` varchar(32) NOT NULL COMMENT '姓名',
  `mobile` varchar(16) NOT NULL COMMENT '电话',
  `status` tinyint(1) NOT NULL COMMENT '状态0禁用1启用',
  `createtime` int(11) NOT NULL COMMENT '创建时间',
  `maxpay` decimal(10,2) unsigned NOT NULL DEFAULT '0.00' COMMENT '每日最高收款金额',
  `is_maxpay` tinyint(1) NOT NULL COMMENT '0跟随系统1单独设置',
  `cloudspeaker` text NOT NULL COMMENT '云喇叭配置信息',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_cid` (`cid`),
  KEY `idx_status` (`status`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_temporary_orderlist` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `orderno` varchar(32) NOT NULL COMMENT '订单号',
  `deteletime` int(11) NOT NULL COMMENT '删除时间',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_timecardrecord` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL,
  `mid` int(11) NOT NULL COMMENT '用户id',
  `cardid` int(11) NOT NULL COMMENT '一卡通id',
  `activeid` int(11) NOT NULL COMMENT '活动id',
  `merchantid` int(11) NOT NULL COMMENT '店铺id',
  `freeflag` tinyint(2) NOT NULL COMMENT '免费标记',
  `ordermoney` decimal(10,2) NOT NULL COMMENT '订单金额',
  `realmoney` decimal(10,2) NOT NULL COMMENT '实际支付金额',
  `verfmid` int(11) NOT NULL COMMENT '操作店员id',
  `usetime` int(11) NOT NULL COMMENT '使用时间',
  `type` int(11) NOT NULL COMMENT '记录类型 1折扣 2礼包',
  `createtime` int(11) NOT NULL COMMENT '创建时间',
  `commentflag` int(11) NOT NULL COMMENT '评价标志 1已评价 0未评价',
  `discount` decimal(10,1) NOT NULL COMMENT '折扣比例',
  `undismoney` decimal(10,2) NOT NULL COMMENT '不可优惠金额',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_mid` (`mid`)
) ENGINE=InnoDB AUTO_INCREMENT=39 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_token` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `number` varchar(145) NOT NULL DEFAULT '0.00',
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL DEFAULT '0',
  `days` int(11) NOT NULL COMMENT '时间',
  `price` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '价格',
  `type` int(11) NOT NULL COMMENT '可生成类型ID',
  `tokentype` int(11) NOT NULL COMMENT '邀请码类型1VIP2五折',
  `typename` varchar(145) NOT NULL COMMENT '可生成类型名称',
  `status` int(11) NOT NULL DEFAULT '0' COMMENT '0未使用1已使用2已锁定',
  `remark` text NOT NULL,
  `openid` varchar(145) NOT NULL,
  `mid` int(11) NOT NULL,
  `createtime` int(11) NOT NULL DEFAULT '0',
  `levelid` int(11) NOT NULL COMMENT '匹配等级',
  `give_price` decimal(10,0) NOT NULL COMMENT '使用激活码时赠送的金额',
  `caraid` int(11) NOT NULL COMMENT '客户定制，挪车代理',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_number` (`number`),
  KEY `idx_status` (`status`),
  KEY `idx_createtime` (`createtime`)
) ENGINE=InnoDB AUTO_INCREMENT=98 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_token_apply` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `aid` int(11) NOT NULL,
  `type` int(11) NOT NULL COMMENT '申请指定类型激活码的id',
  `tokentype` int(11) NOT NULL COMMENT '1VIP2特权',
  `num` int(11) NOT NULL COMMENT '申请生成个数',
  `createtime` varchar(145) NOT NULL COMMENT '申请时间',
  `status` int(11) NOT NULL COMMENT '申请状态',
  `uniacid` int(11) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_transfer_list` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL COMMENT '公众号id',
  `mid` int(11) NOT NULL COMMENT '用户id',
  `title` varchar(255) NOT NULL COMMENT '活动标题',
  `allnum` int(11) NOT NULL COMMENT '总数',
  `surplus` int(11) NOT NULL COMMENT '剩余数量',
  `money` decimal(10,2) NOT NULL COMMENT '单份金额',
  `allmoney` decimal(10,2) NOT NULL COMMENT '总金额',
  `createtime` int(11) NOT NULL COMMENT '创建时间',
  `wechatqrlink` varchar(255) NOT NULL COMMENT '公众号二维码',
  `wxappqrlink` varchar(255) NOT NULL COMMENT '小程序二维码',
  `pageurl` varchar(255) NOT NULL COMMENT '页面链接',
  `is_over` int(11) NOT NULL COMMENT '是否过期 0未过期 1已过期',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_transfer_record` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL COMMENT '公众号id',
  `tid` int(11) NOT NULL COMMENT '活动id',
  `mid` int(11) NOT NULL COMMENT '获取用户id',
  `money` decimal(10,2) NOT NULL COMMENT '获取金额',
  `realname` varchar(32) NOT NULL COMMENT '输入名字',
  `mobile` varchar(32) NOT NULL COMMENT '输入电话',
  `createtime` int(11) NOT NULL COMMENT '领取时间',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_userlabel` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `name` varchar(124) NOT NULL COMMENT '标签名称',
  `sort` int(11) NOT NULL COMMENT '标签排序',
  `status` int(11) NOT NULL COMMENT '0禁用1启用',
  `createtime` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_sort` (`sort`),
  KEY `idx_status` (`status`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_userlabel_record` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL,
  `labelid` int(11) NOT NULL COMMENT '标签ID',
  `mid` int(11) NOT NULL,
  `times` int(11) NOT NULL COMMENT '标记次数',
  `createtime` int(11) NOT NULL,
  `dotime` int(11) NOT NULL COMMENT '更新时间',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_vehicle` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) DEFAULT NULL,
  `aid` int(11) DEFAULT NULL,
  `mid` int(11) DEFAULT NULL COMMENT '用户id',
  `type` enum('1','2') DEFAULT '1' COMMENT '发布类型:1=乘客,2=车主',
  `transport_type` enum('1','2','3','4') DEFAULT '1' COMMENT '运输类型:1=载客,2=载货,3=找客,4=找货',
  `people` tinyint(3) unsigned DEFAULT NULL COMMENT '人数/空位',
  `weight` smallint(5) unsigned DEFAULT NULL COMMENT '重量/载重(kg)',
  `frequency` enum('1','2') DEFAULT '1' COMMENT '班次:1=一次,2=每天',
  `start_time` int(11) DEFAULT NULL COMMENT '出发时间',
  `start_province_id` int(11) DEFAULT NULL COMMENT '出发点省id',
  `start_city_id` int(11) DEFAULT NULL COMMENT '出发点市id',
  `start_area_id` int(11) DEFAULT NULL COMMENT '出发点区县id',
  `start_address` varchar(50) DEFAULT NULL COMMENT '出发点 - 详细地址',
  `start_lng` varchar(20) DEFAULT NULL COMMENT '出发点 - 经度',
  `start_lat` varchar(20) DEFAULT NULL COMMENT '出发点 - 纬度',
  `end_province_id` int(11) DEFAULT NULL COMMENT '终点 - 省id',
  `end_city_id` int(11) DEFAULT NULL COMMENT '终点 - 市id',
  `end_area_id` int(11) DEFAULT NULL COMMENT '终点 - 区县id',
  `end_address` varchar(50) DEFAULT NULL COMMENT '终点 - 详细地址',
  `end_lng` varchar(20) DEFAULT NULL COMMENT '终点 - 经度',
  `end_lat` varchar(20) DEFAULT NULL COMMENT '终点 - 纬度',
  `pass_by` varchar(255) DEFAULT NULL COMMENT '途径地点',
  `contacts` varchar(25) DEFAULT NULL COMMENT '联系人',
  `contacts_phone` varchar(25) DEFAULT NULL COMMENT '联系方式',
  `label_id` varchar(255) DEFAULT NULL COMMENT '标签',
  `remarks` varchar(255) DEFAULT NULL COMMENT '备注',
  `create_time` int(11) DEFAULT NULL COMMENT '发布时间',
  `pv` int(11) DEFAULT NULL COMMENT '浏览量',
  `status` enum('1','2','3','4','5') DEFAULT '2' COMMENT '状态:1=待付款,2=待审核,3=未通过,4=进行中,5=已完成',
  `reason` varchar(255) DEFAULT NULL COMMENT '驳回原因',
  `source` tinyint(1) NOT NULL DEFAULT '1' COMMENT '1=公众号（默认）；2=h5；3=小程序',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_vehicle_collection` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) DEFAULT NULL,
  `vehicle_id` int(11) DEFAULT NULL COMMENT '路线id',
  `mid` int(11) DEFAULT NULL COMMENT '用户id',
  `create_time` int(11) DEFAULT NULL COMMENT '收藏时间',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_vehicle_history` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) DEFAULT NULL,
  `vehicle_id` int(11) DEFAULT NULL COMMENT '路线id',
  `mid` int(11) DEFAULT NULL COMMENT '用户id',
  `create_time` int(11) DEFAULT NULL COMMENT '第一次浏览时间',
  `update_time` int(11) DEFAULT NULL COMMENT '最近浏览时间',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_vehicle_label` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) DEFAULT NULL,
  `aid` int(11) DEFAULT NULL,
  `name` varchar(30) DEFAULT NULL COMMENT '标签名称',
  `is_passenger` enum('1','2') DEFAULT '1' COMMENT '是否适用于载客:1=不适用,2=适用',
  `is_goods` enum('1','2') DEFAULT '1' COMMENT '是否适用于载货:1=不适用,2=适用',
  `are_passenger` enum('1','2') DEFAULT '1' COMMENT '是否适用于找客:1=不适用,2=适用',
  `are_goods` enum('1','2') DEFAULT '1' COMMENT '是否适用于找货:1=不适用,2=适用',
  `sort` int(11) DEFAULT NULL COMMENT '排序',
  `create_time` int(11) DEFAULT NULL COMMENT '添加时间',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_vehicle_report` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `vehicle_id` int(11) DEFAULT NULL COMMENT '路线id',
  `mid` int(11) DEFAULT NULL COMMENT '用户id',
  `describe` varchar(255) DEFAULT NULL COMMENT '具体描述',
  `create_time` int(11) DEFAULT NULL COMMENT '举报时间',
  `status` enum('1','2','3') DEFAULT '1' COMMENT '状态:1=待处理,2=处理中,3=已处理',
  `uniacid` int(11) DEFAULT NULL,
  `aid` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_verifrecord` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL COMMENT '代理ID',
  `storeid` int(11) NOT NULL COMMENT '商家ID',
  `mid` int(11) NOT NULL COMMENT '用户ID',
  `plugin` varchar(32) NOT NULL COMMENT '插件',
  `orderid` int(11) NOT NULL COMMENT '订单ID',
  `verifrcode` varchar(32) NOT NULL COMMENT '核销码',
  `verifmid` int(11) NOT NULL COMMENT '核销员ID',
  `verifnickname` varchar(100) NOT NULL COMMENT '核销员昵称',
  `verifmobile` varchar(32) NOT NULL COMMENT '核销员电话',
  `remark` varchar(100) NOT NULL COMMENT '备注',
  `createtime` int(11) NOT NULL,
  `type` int(11) NOT NULL DEFAULT '0',
  `num` int(11) NOT NULL COMMENT '核销数量',
  `orderno` varchar(145) NOT NULL COMMENT '订单编号',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_storeid` (`storeid`),
  KEY `idx_mid` (`mid`),
  KEY `idx_type` (`type`)
) ENGINE=InnoDB AUTO_INCREMENT=83 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_vip_record` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `mid` int(11) NOT NULL,
  `uid` int(11) NOT NULL,
  `areaid` int(11) NOT NULL,
  `aid` int(11) NOT NULL,
  `openid` varchar(145) NOT NULL,
  `price` decimal(10,2) DEFAULT '0.00' COMMENT '充值金额',
  `howlong` varchar(145) NOT NULL COMMENT '充值VIP月数',
  `createtime` varchar(145) NOT NULL COMMENT '创建时间',
  `paytime` varchar(145) NOT NULL COMMENT '充值时间',
  `orderno` varchar(145) NOT NULL COMMENT '充值单号',
  `limittime` varchar(145) NOT NULL COMMENT '下次会员到期时间',
  `status` int(11) DEFAULT '0' COMMENT '0未支付1已支付',
  `uniacid` int(11) NOT NULL,
  `unionid` varchar(145) NOT NULL,
  `paytype` int(11) NOT NULL,
  `transid` varchar(145) NOT NULL,
  `issettlement` int(11) NOT NULL,
  `typeid` int(11) NOT NULL,
  `is_half` int(11) NOT NULL,
  `disorderid` int(11) NOT NULL,
  `todistributor` int(11) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=7 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_waittask` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `value` text,
  `key` varchar(145) NOT NULL COMMENT '键',
  `createtime` int(11) NOT NULL COMMENT '创建时间',
  `dotime` int(11) NOT NULL COMMENT '操作时间',
  `finishtime` int(11) NOT NULL COMMENT '完成时间',
  `status` int(11) NOT NULL COMMENT '0未完成 1已完成',
  `important` varchar(145) NOT NULL COMMENT '重要参数',
  PRIMARY KEY (`id`),
  KEY `idx_status` (`status`),
  KEY `idx_dotime` (`dotime`),
  KEY `idx_key` (`key`),
  KEY `idx_important` (`important`)
) ENGINE=InnoDB AUTO_INCREMENT=12 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_wxapp_relation` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL COMMENT '公众号ID',
  `wxapp_uniacid` int(11) NOT NULL COMMENT '小程序ID',
  PRIMARY KEY (`id`),
  KEY `idx_uniacid` (`uniacid`),
  KEY `idx_wxapp_uniacid` (`wxapp_uniacid`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_yellowpage_cates` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL,
  `name` varchar(64) NOT NULL COMMENT '分类名称',
  `parentid` int(11) NOT NULL COMMENT '父分类id',
  `sort` int(11) NOT NULL COMMENT '排序',
  `enabled` tinyint(1) NOT NULL COMMENT '状态',
  `claimmoney` decimal(10,2) NOT NULL COMMENT '认领价格',
  `querymoney` decimal(10,2) NOT NULL COMMENT '查看价格',
  `logo` varchar(255) NOT NULL COMMENT '图片链接',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_yellowpage_claim_lists` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL,
  `mid` int(11) NOT NULL COMMENT '认领人的mid',
  `pageid` int(11) NOT NULL COMMENT '黄页id',
  `createtime` int(11) NOT NULL COMMENT '创建时间',
  `paystatus` tinyint(1) NOT NULL COMMENT '支付状态 0未支付 1已支付 2不需要支付 3已退款',
  `status` tinyint(1) NOT NULL COMMENT '审核状态 0待审核 1已审核 2被驳回',
  `orderid` int(11) NOT NULL COMMENT '关联订单id',
  `desc` text NOT NULL COMMENT '认领描述',
  `name` varchar(32) NOT NULL COMMENT '真实名称',
  `mobile` varchar(32) NOT NULL COMMENT '联系电话',
  `rejectreason` varchar(355) NOT NULL COMMENT '驳回原因',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_yellowpage_collect` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL,
  `mid` int(11) NOT NULL COMMENT '用户id',
  `pageid` int(11) NOT NULL COMMENT '关联黄页id',
  `createtime` int(11) NOT NULL COMMENT '创建时间',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_yellowpage_correction_lists` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL,
  `mid` int(11) NOT NULL COMMENT '纠错用户mid',
  `pageid` int(11) NOT NULL COMMENT '黄页id',
  `createtime` int(11) NOT NULL COMMENT '创建时间',
  `status` tinyint(1) NOT NULL COMMENT '状态 0未查看 1已查看',
  `desc` text NOT NULL COMMENT '描述',
  `name` varchar(32) NOT NULL COMMENT '姓名',
  `mobile` varchar(32) NOT NULL COMMENT '联系方式',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_yellowpage_lists` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL,
  `mid` int(11) NOT NULL COMMENT '认领的用户mid',
  `storeid` int(11) NOT NULL COMMENT '关联的店铺id',
  `sort` int(11) NOT NULL COMMENT '排序',
  `name` varchar(300) NOT NULL COMMENT '店铺名称',
  `logo` varchar(300) NOT NULL COMMENT '商户logo',
  `mobile` varchar(24) NOT NULL COMMENT '联系电话',
  `thumbs` text NOT NULL COMMENT '商家展示图集',
  `desc` varchar(500) NOT NULL COMMENT '商户简介',
  `address` varchar(300) NOT NULL COMMENT '详细地址',
  `one_class` int(11) NOT NULL COMMENT '一级分类id',
  `two_class` int(11) NOT NULL COMMENT '二级分类id',
  `meal_id` int(11) NOT NULL COMMENT '套餐id',
  `meal_endtime` int(11) NOT NULL COMMENT '有效期结束时间',
  `pv` int(11) NOT NULL COMMENT '浏览量',
  `share` int(11) NOT NULL COMMENT '分享数',
  `status` int(11) NOT NULL COMMENT '状态 0禁用 1启用',
  `checkstatus` int(11) NOT NULL COMMENT '审核状态0待审核 1已审核 2被驳回',
  `paystatus` int(11) NOT NULL COMMENT '支付状态 0未支付 1已支付',
  `pro_code` int(11) NOT NULL COMMENT '省id',
  `city_code` int(11) NOT NULL COMMENT '市id',
  `area_code` int(11) NOT NULL COMMENT '区县id',
  `lng` varchar(16) NOT NULL COMMENT '经度',
  `lat` varchar(16) NOT NULL COMMENT '纬度',
  `createtime` int(11) NOT NULL COMMENT '创建时间',
  `rejectreason` varchar(335) NOT NULL COMMENT '驳回原因',
  `wechat_number` varchar(32) DEFAULT NULL COMMENT '微信号',
  `wechat_qrcode` varchar(255) DEFAULT NULL COMMENT '微信二维码',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_yellowpage_meals` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL,
  `sort` int(11) NOT NULL COMMENT '排序',
  `name` varchar(64) NOT NULL COMMENT '套餐名称',
  `is_free` tinyint(1) NOT NULL COMMENT '是否免费 0付费 1免费',
  `price` decimal(10,2) NOT NULL COMMENT '入驻金额',
  `day` int(11) NOT NULL COMMENT '入驻天数',
  `check` tinyint(1) NOT NULL COMMENT '是否审核0免审核 1需要审核',
  `status` tinyint(1) NOT NULL COMMENT '状态 0禁用 1启用',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_yellowpage_report_lists` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(11) NOT NULL,
  `aid` int(11) NOT NULL,
  `mid` int(11) NOT NULL COMMENT '用户mid',
  `pageid` int(11) NOT NULL COMMENT '黄页id',
  `desc` text NOT NULL COMMENT '描述',
  `status` tinyint(1) NOT NULL COMMENT '状态 0未查看 1已查看',
  `createtime` int(11) NOT NULL COMMENT '创建时间',
  `name` int(11) NOT NULL COMMENT '姓名',
  `mobile` int(11) NOT NULL COMMENT '电话',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `ims_wlmerchant_yunsigninlist` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `merchantno` varchar(32) DEFAULT NULL COMMENT '商户号',
  `batchNo` varchar(32) DEFAULT NULL COMMENT '批次号',
  `traceNo` varchar(32) DEFAULT NULL COMMENT '当前跟踪号',
  `createtime` varchar(32) DEFAULT NULL COMMENT '时间戳',
  `serinfo` text COMMENT '返回的压缩数据',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

]]></install>
	<uninstall><![CDATA[DROP TABLE IF EXISTS `ims_wlmerchant_activity_category`;
DROP TABLE IF EXISTS `ims_wlmerchant_activity_record`;
DROP TABLE IF EXISTS `ims_wlmerchant_activity_spec`;
DROP TABLE IF EXISTS `ims_wlmerchant_activitylist`;
DROP TABLE IF EXISTS `ims_wlmerchant_address`;
DROP TABLE IF EXISTS `ims_wlmerchant_adv`;
DROP TABLE IF EXISTS `ims_wlmerchant_aftersale`;
DROP TABLE IF EXISTS `ims_wlmerchant_agentadmin`;
DROP TABLE IF EXISTS `ims_wlmerchant_agentsetting`;
DROP TABLE IF EXISTS `ims_wlmerchant_agentusers`;
DROP TABLE IF EXISTS `ims_wlmerchant_agentusers_group`;
DROP TABLE IF EXISTS `ims_wlmerchant_apirecord`;
DROP TABLE IF EXISTS `ims_wlmerchant_applydistributor`;
DROP TABLE IF EXISTS `ims_wlmerchant_appointlist`;
DROP TABLE IF EXISTS `ims_wlmerchant_area`;
DROP TABLE IF EXISTS `ims_wlmerchant_areagroup`;
DROP TABLE IF EXISTS `ims_wlmerchant_attachment`;
DROP TABLE IF EXISTS `ims_wlmerchant_attachment_group`;
DROP TABLE IF EXISTS `ims_wlmerchant_attestation_list`;
DROP TABLE IF EXISTS `ims_wlmerchant_attestation_money`;
DROP TABLE IF EXISTS `ims_wlmerchant_autosettlement_record`;
DROP TABLE IF EXISTS `ims_wlmerchant_banner`;
DROP TABLE IF EXISTS `ims_wlmerchant_bargain_activity`;
DROP TABLE IF EXISTS `ims_wlmerchant_bargain_category`;
DROP TABLE IF EXISTS `ims_wlmerchant_bargain_helprecord`;
DROP TABLE IF EXISTS `ims_wlmerchant_bargain_userlist`;
DROP TABLE IF EXISTS `ims_wlmerchant_browse_record`;
DROP TABLE IF EXISTS `ims_wlmerchant_call`;
DROP TABLE IF EXISTS `ims_wlmerchant_call_hit`;
DROP TABLE IF EXISTS `ims_wlmerchant_call_list`;
DROP TABLE IF EXISTS `ims_wlmerchant_cashback`;
DROP TABLE IF EXISTS `ims_wlmerchant_category_store`;
DROP TABLE IF EXISTS `ims_wlmerchant_chargelist`;
DROP TABLE IF EXISTS `ims_wlmerchant_checkcodelist`;
DROP TABLE IF EXISTS `ims_wlmerchant_citycard_cates`;
DROP TABLE IF EXISTS `ims_wlmerchant_citycard_collect`;
DROP TABLE IF EXISTS `ims_wlmerchant_citycard_lists`;
DROP TABLE IF EXISTS `ims_wlmerchant_citycard_meals`;
DROP TABLE IF EXISTS `ims_wlmerchant_citycard_tops`;
DROP TABLE IF EXISTS `ims_wlmerchant_collect`;
DROP TABLE IF EXISTS `ims_wlmerchant_comment`;
DROP TABLE IF EXISTS `ims_wlmerchant_community`;
DROP TABLE IF EXISTS `ims_wlmerchant_consumption`;
DROP TABLE IF EXISTS `ims_wlmerchant_consumption_adv`;
DROP TABLE IF EXISTS `ims_wlmerchant_consumption_category`;
DROP TABLE IF EXISTS `ims_wlmerchant_consumption_goods`;
DROP TABLE IF EXISTS `ims_wlmerchant_consumption_record`;
DROP TABLE IF EXISTS `ims_wlmerchant_couponlist`;
DROP TABLE IF EXISTS `ims_wlmerchant_credit2zero`;
DROP TABLE IF EXISTS `ims_wlmerchant_creditrecord`;
DROP TABLE IF EXISTS `ims_wlmerchant_current`;
DROP TABLE IF EXISTS `ims_wlmerchant_dating_comment_fabulous`;
DROP TABLE IF EXISTS `ims_wlmerchant_dating_dynamic`;
DROP TABLE IF EXISTS `ims_wlmerchant_dating_dynamic_comment`;
DROP TABLE IF EXISTS `ims_wlmerchant_dating_dynamic_fabulous`;
DROP TABLE IF EXISTS `ims_wlmerchant_dating_exchange`;
DROP TABLE IF EXISTS `ims_wlmerchant_dating_label`;
DROP TABLE IF EXISTS `ims_wlmerchant_dating_matchmaker`;
DROP TABLE IF EXISTS `ims_wlmerchant_dating_matchmaker_commission`;
DROP TABLE IF EXISTS `ims_wlmerchant_dating_member`;
DROP TABLE IF EXISTS `ims_wlmerchant_dating_member_open`;
DROP TABLE IF EXISTS `ims_wlmerchant_dating_member_use`;
DROP TABLE IF EXISTS `ims_wlmerchant_dating_record`;
DROP TABLE IF EXISTS `ims_wlmerchant_dating_vip`;
DROP TABLE IF EXISTS `ims_wlmerchant_dating_vip_record`;
DROP TABLE IF EXISTS `ims_wlmerchant_delivery_activity`;
DROP TABLE IF EXISTS `ims_wlmerchant_delivery_category`;
DROP TABLE IF EXISTS `ims_wlmerchant_delivery_order`;
DROP TABLE IF EXISTS `ims_wlmerchant_delivery_shopcart`;
DROP TABLE IF EXISTS `ims_wlmerchant_delivery_spec`;
DROP TABLE IF EXISTS `ims_wlmerchant_disapply`;
DROP TABLE IF EXISTS `ims_wlmerchant_disdetail`;
DROP TABLE IF EXISTS `ims_wlmerchant_dislevel`;
DROP TABLE IF EXISTS `ims_wlmerchant_disorder`;
DROP TABLE IF EXISTS `ims_wlmerchant_distributor`;
DROP TABLE IF EXISTS `ims_wlmerchant_diyform`;
DROP TABLE IF EXISTS `ims_wlmerchant_diypage`;
DROP TABLE IF EXISTS `ims_wlmerchant_diypage_adv`;
DROP TABLE IF EXISTS `ims_wlmerchant_diypage_menu`;
DROP TABLE IF EXISTS `ims_wlmerchant_diypage_temp`;
DROP TABLE IF EXISTS `ims_wlmerchant_diypage_temp_cate`;
DROP TABLE IF EXISTS `ims_wlmerchant_draw`;
DROP TABLE IF EXISTS `ims_wlmerchant_draw_goods`;
DROP TABLE IF EXISTS `ims_wlmerchant_draw_help`;
DROP TABLE IF EXISTS `ims_wlmerchant_draw_join`;
DROP TABLE IF EXISTS `ims_wlmerchant_draw_record`;
DROP TABLE IF EXISTS `ims_wlmerchant_express`;
DROP TABLE IF EXISTS `ims_wlmerchant_express_template`;
DROP TABLE IF EXISTS `ims_wlmerchant_fabulous`;
DROP TABLE IF EXISTS `ims_wlmerchant_fightgroup_category`;
DROP TABLE IF EXISTS `ims_wlmerchant_fightgroup_falsemember`;
DROP TABLE IF EXISTS `ims_wlmerchant_fightgroup_goods`;
DROP TABLE IF EXISTS `ims_wlmerchant_fightgroup_group`;
DROP TABLE IF EXISTS `ims_wlmerchant_fightgroup_userecord`;
DROP TABLE IF EXISTS `ims_wlmerchant_formid`;
DROP TABLE IF EXISTS `ims_wlmerchant_fullreduce_list`;
DROP TABLE IF EXISTS `ims_wlmerchant_goods_option`;
DROP TABLE IF EXISTS `ims_wlmerchant_goods_spec`;
DROP TABLE IF EXISTS `ims_wlmerchant_goods_spec_item`;
DROP TABLE IF EXISTS `ims_wlmerchant_goodshouse`;
DROP TABLE IF EXISTS `ims_wlmerchant_groupon_activity`;
DROP TABLE IF EXISTS `ims_wlmerchant_groupon_category`;
DROP TABLE IF EXISTS `ims_wlmerchant_groupon_userecord`;
DROP TABLE IF EXISTS `ims_wlmerchant_gvccode`;
DROP TABLE IF EXISTS `ims_wlmerchant_halfcard_qrscan`;
DROP TABLE IF EXISTS `ims_wlmerchant_halfcard_realcard`;
DROP TABLE IF EXISTS `ims_wlmerchant_halfcard_record`;
DROP TABLE IF EXISTS `ims_wlmerchant_halfcard_type`;
DROP TABLE IF EXISTS `ims_wlmerchant_halfcardlist`;
DROP TABLE IF EXISTS `ims_wlmerchant_halfcardmember`;
DROP TABLE IF EXISTS `ims_wlmerchant_halfcardrecord`;
DROP TABLE IF EXISTS `ims_wlmerchant_halflevel`;
DROP TABLE IF EXISTS `ims_wlmerchant_headline_class`;
DROP TABLE IF EXISTS `ims_wlmerchant_headline_comment`;
DROP TABLE IF EXISTS `ims_wlmerchant_headline_content`;
DROP TABLE IF EXISTS `ims_wlmerchant_helper_question`;
DROP TABLE IF EXISTS `ims_wlmerchant_helper_slide`;
DROP TABLE IF EXISTS `ims_wlmerchant_helper_type`;
DROP TABLE IF EXISTS `ims_wlmerchant_housekeep_artificer`;
DROP TABLE IF EXISTS `ims_wlmerchant_housekeep_demand`;
DROP TABLE IF EXISTS `ims_wlmerchant_housekeep_meals`;
DROP TABLE IF EXISTS `ims_wlmerchant_housekeep_praise`;
DROP TABLE IF EXISTS `ims_wlmerchant_housekeep_relation`;
DROP TABLE IF EXISTS `ims_wlmerchant_housekeep_reply`;
DROP TABLE IF EXISTS `ims_wlmerchant_housekeep_service`;
DROP TABLE IF EXISTS `ims_wlmerchant_housekeep_type`;
DROP TABLE IF EXISTS `ims_wlmerchant_im`;
DROP TABLE IF EXISTS `ims_wlmerchant_indexset`;
DROP TABLE IF EXISTS `ims_wlmerchant_live`;
DROP TABLE IF EXISTS `ims_wlmerchant_live_goods`;
DROP TABLE IF EXISTS `ims_wlmerchant_live_member`;
DROP TABLE IF EXISTS `ims_wlmerchant_login`;
DROP TABLE IF EXISTS `ims_wlmerchant_marking`;
DROP TABLE IF EXISTS `ims_wlmerchant_member`;
DROP TABLE IF EXISTS `ims_wlmerchant_member_coupons`;
DROP TABLE IF EXISTS `ims_wlmerchant_member_type`;
DROP TABLE IF EXISTS `ims_wlmerchant_member_visitor_record`;
DROP TABLE IF EXISTS `ims_wlmerchant_merchant_account`;
DROP TABLE IF EXISTS `ims_wlmerchant_merchant_cate`;
DROP TABLE IF EXISTS `ims_wlmerchant_merchant_money_record`;
DROP TABLE IF EXISTS `ims_wlmerchant_merchant_record`;
DROP TABLE IF EXISTS `ims_wlmerchant_merchantdata`;
DROP TABLE IF EXISTS `ims_wlmerchant_merchantuser`;
DROP TABLE IF EXISTS `ims_wlmerchant_merchantuser_qrlog`;
DROP TABLE IF EXISTS `ims_wlmerchant_nav`;
DROP TABLE IF EXISTS `ims_wlmerchant_notice`;
DROP TABLE IF EXISTS `ims_wlmerchant_oparea`;
DROP TABLE IF EXISTS `ims_wlmerchant_oplog`;
DROP TABLE IF EXISTS `ims_wlmerchant_order`;
DROP TABLE IF EXISTS `ims_wlmerchant_package`;
DROP TABLE IF EXISTS `ims_wlmerchant_paidrecord`;
DROP TABLE IF EXISTS `ims_wlmerchant_payactive`;
DROP TABLE IF EXISTS `ims_wlmerchant_payback_bank`;
DROP TABLE IF EXISTS `ims_wlmerchant_payback_record`;
DROP TABLE IF EXISTS `ims_wlmerchant_paylog`;
DROP TABLE IF EXISTS `ims_wlmerchant_paylogvfour`;
DROP TABLE IF EXISTS `ims_wlmerchant_payment`;
DROP TABLE IF EXISTS `ims_wlmerchant_perm_account`;
DROP TABLE IF EXISTS `ims_wlmerchant_pincode`;
DROP TABLE IF EXISTS `ims_wlmerchant_plugin`;
DROP TABLE IF EXISTS `ims_wlmerchant_pocket_blacklist`;
DROP TABLE IF EXISTS `ims_wlmerchant_pocket_collection`;
DROP TABLE IF EXISTS `ims_wlmerchant_pocket_comment`;
DROP TABLE IF EXISTS `ims_wlmerchant_pocket_informations`;
DROP TABLE IF EXISTS `ims_wlmerchant_pocket_reply`;
DROP TABLE IF EXISTS `ims_wlmerchant_pocket_slide`;
DROP TABLE IF EXISTS `ims_wlmerchant_pocket_type`;
DROP TABLE IF EXISTS `ims_wlmerchant_poster`;
DROP TABLE IF EXISTS `ims_wlmerchant_puv`;
DROP TABLE IF EXISTS `ims_wlmerchant_puvrecord`;
DROP TABLE IF EXISTS `ims_wlmerchant_qrcode`;
DROP TABLE IF EXISTS `ims_wlmerchant_qrcode_apply`;
DROP TABLE IF EXISTS `ims_wlmerchant_rank`;
DROP TABLE IF EXISTS `ims_wlmerchant_recruit_industry`;
DROP TABLE IF EXISTS `ims_wlmerchant_recruit_label`;
DROP TABLE IF EXISTS `ims_wlmerchant_recruit_position`;
DROP TABLE IF EXISTS `ims_wlmerchant_recruit_recruit`;
DROP TABLE IF EXISTS `ims_wlmerchant_recruit_resume`;
DROP TABLE IF EXISTS `ims_wlmerchant_recruit_submit`;
DROP TABLE IF EXISTS `ims_wlmerchant_red_envelope`;
DROP TABLE IF EXISTS `ims_wlmerchant_redpack_festival`;
DROP TABLE IF EXISTS `ims_wlmerchant_redpack_festival_join`;
DROP TABLE IF EXISTS `ims_wlmerchant_redpack_records`;
DROP TABLE IF EXISTS `ims_wlmerchant_redpacks`;
DROP TABLE IF EXISTS `ims_wlmerchant_refund_record`;
DROP TABLE IF EXISTS `ims_wlmerchant_report`;
DROP TABLE IF EXISTS `ims_wlmerchant_role`;
DROP TABLE IF EXISTS `ims_wlmerchant_rush_activity`;
DROP TABLE IF EXISTS `ims_wlmerchant_rush_category`;
DROP TABLE IF EXISTS `ims_wlmerchant_rush_follows`;
DROP TABLE IF EXISTS `ims_wlmerchant_rush_order`;
DROP TABLE IF EXISTS `ims_wlmerchant_rush_special`;
DROP TABLE IF EXISTS `ims_wlmerchant_setting`;
DROP TABLE IF EXISTS `ims_wlmerchant_settlement_record`;
DROP TABLE IF EXISTS `ims_wlmerchant_settlement_temporary`;
DROP TABLE IF EXISTS `ims_wlmerchant_signmember`;
DROP TABLE IF EXISTS `ims_wlmerchant_signreceive`;
DROP TABLE IF EXISTS `ims_wlmerchant_signrecord`;
DROP TABLE IF EXISTS `ims_wlmerchant_smallorder`;
DROP TABLE IF EXISTS `ims_wlmerchant_smstpl`;
DROP TABLE IF EXISTS `ims_wlmerchant_store_dynamic`;
DROP TABLE IF EXISTS `ims_wlmerchant_storefans`;
DROP TABLE IF EXISTS `ims_wlmerchant_storeusers_group`;
DROP TABLE IF EXISTS `ims_wlmerchant_subposter_log`;
DROP TABLE IF EXISTS `ims_wlmerchant_systemnotice`;
DROP TABLE IF EXISTS `ims_wlmerchant_tags`;
DROP TABLE IF EXISTS `ims_wlmerchant_taxipay_adv`;
DROP TABLE IF EXISTS `ims_wlmerchant_taxipay_advcids`;
DROP TABLE IF EXISTS `ims_wlmerchant_taxipay_advlog`;
DROP TABLE IF EXISTS `ims_wlmerchant_taxipay_company`;
DROP TABLE IF EXISTS `ims_wlmerchant_taxipay_master`;
DROP TABLE IF EXISTS `ims_wlmerchant_temporary_orderlist`;
DROP TABLE IF EXISTS `ims_wlmerchant_timecardrecord`;
DROP TABLE IF EXISTS `ims_wlmerchant_token`;
DROP TABLE IF EXISTS `ims_wlmerchant_token_apply`;
DROP TABLE IF EXISTS `ims_wlmerchant_transfer_list`;
DROP TABLE IF EXISTS `ims_wlmerchant_transfer_record`;
DROP TABLE IF EXISTS `ims_wlmerchant_userlabel`;
DROP TABLE IF EXISTS `ims_wlmerchant_userlabel_record`;
DROP TABLE IF EXISTS `ims_wlmerchant_vehicle`;
DROP TABLE IF EXISTS `ims_wlmerchant_vehicle_collection`;
DROP TABLE IF EXISTS `ims_wlmerchant_vehicle_history`;
DROP TABLE IF EXISTS `ims_wlmerchant_vehicle_label`;
DROP TABLE IF EXISTS `ims_wlmerchant_vehicle_report`;
DROP TABLE IF EXISTS `ims_wlmerchant_verifrecord`;
DROP TABLE IF EXISTS `ims_wlmerchant_vip_record`;
DROP TABLE IF EXISTS `ims_wlmerchant_waittask`;
DROP TABLE IF EXISTS `ims_wlmerchant_wxapp_relation`;
DROP TABLE IF EXISTS `ims_wlmerchant_yellowpage_cates`;
DROP TABLE IF EXISTS `ims_wlmerchant_yellowpage_claim_lists`;
DROP TABLE IF EXISTS `ims_wlmerchant_yellowpage_collect`;
DROP TABLE IF EXISTS `ims_wlmerchant_yellowpage_correction_lists`;
DROP TABLE IF EXISTS `ims_wlmerchant_yellowpage_lists`;
DROP TABLE IF EXISTS `ims_wlmerchant_yellowpage_meals`;
DROP TABLE IF EXISTS `ims_wlmerchant_yellowpage_report_lists`;
DROP TABLE IF EXISTS `ims_wlmerchant_yunsigninlist`;
]]></uninstall>
	<upgrade><![CDATA[upgrade.php]]></upgrade>

</manifest>
