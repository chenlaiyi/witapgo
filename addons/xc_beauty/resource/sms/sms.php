<?php
 goto mH3Sv; UJh49: $endpoint_filename = dirname(__FILE__) . DIRECTORY_SEPARATOR . "\145\x6e\x64\160\157\x69\156\x74\x73\56\170\155\x6c"; goto qZTPl; BwIU0: class ClientException extends \Exception { function __construct($errorMessage, $errorCode) { goto gtt9Y; FD2EJ: $this->errorMessage = $errorMessage; goto qisiF; qisiF: $this->errorCode = $errorCode; goto DIPiL; gtt9Y: parent::__construct($errorMessage); goto FD2EJ; DIPiL: $this->setErrorType("\x43\154\151\x65\x6e\x74"); goto p5i9i; p5i9i: } private $errorCode; private $errorMessage; private $errorType; public function getErrorCode() { return $this->errorCode; } public function setErrorCode($errorCode) { $this->errorCode = $errorCode; } public function getErrorMessage() { return $this->errorMessage; } public function setErrorMessage($errorMessage) { $this->errorMessage = $errorMessage; } public function getErrorType() { return $this->errorType; } public function setErrorType($errorType) { $this->errorType = $errorType; } } goto dplfG; KzSOi: define("\x48\124\124\120\x5f\x50\x52\x4f\x58\x59\137\120\x4f\x52\x54", "\x38\70\x38\70"); goto hpVVJ; wdd0t: IXMfx: goto WsXBu; PP7xG: class DefaultProfile implements IClientProfile { private static $profile; private static $endpoints; private static $credential; private static $regionId; private static $acceptFormat; private static $isigner; private static $iCredential; private function __construct($regionId, $credential) { self::$regionId = $regionId; self::$credential = $credential; } public static function getProfile($regionId, $accessKeyId, $accessSecret) { goto Ky_rk; Ky_rk: $credential = new Credential($accessKeyId, $accessSecret); goto DYTL1; DYTL1: self::$profile = new DefaultProfile($regionId, $credential); goto pc9kQ; pc9kQ: return self::$profile; goto y3pOk; y3pOk: } public function getSigner() { goto GvWIQ; UXxzW: self::$isigner = new ShaHmac1Signer(); goto iMje6; GvWIQ: if (!(null == self::$isigner)) { goto tW7py; } goto UXxzW; PWmQk: return self::$isigner; goto oLN2I; iMje6: tW7py: goto PWmQk; oLN2I: } public function getRegionId() { return self::$regionId; } public function getFormat() { return self::$acceptFormat; } public function getCredential() { goto pDHeS; Gv2PX: return self::$credential; goto wMjID; xmgaI: self::$credential = self::$iCredential; goto m2sCM; pDHeS: if (!(null == self::$credential && null != self::$iCredential)) { goto ayEx2; } goto xmgaI; m2sCM: ayEx2: goto Gv2PX; wMjID: } public static function getEndpoints() { goto mThil; gVSXG: self::$endpoints = EndpointProvider::getEndpoints(); goto Hfk_F; mThil: if (!(null == self::$endpoints)) { goto IW2rs; } goto gVSXG; Hfk_F: IW2rs: goto SrqWo; SrqWo: return self::$endpoints; goto Rw2Ov; Rw2Ov: } public static function addEndpoint($endpointName, $regionId, $product, $domain) { goto wZsse; QkmBg: self::$endpoints = self::getEndpoints(); goto xZ9fB; BHzGL: self::updateEndpoint($regionId, $product, $domain, $endpoint); goto AOGrA; GcZqK: MfwrF: goto ZYEmg; qowzH: if (null == $endpoint) { goto MfwrF; } goto BHzGL; xZ9fB: BwPwc: goto N4tm0; AOGrA: goto U4ocQ; goto GcZqK; ZYEmg: self::addEndpoint_($endpointName, $regionId, $product, $domain); goto hS9fG; hS9fG: U4ocQ: goto X8dYi; wZsse: if (!(null == self::$endpoints)) { goto BwPwc; } goto QkmBg; N4tm0: $endpoint = self::findEndpointByName($endpointName); goto qowzH; X8dYi: } public static function findEndpointByName($endpointName) { foreach (self::$endpoints as $key => $endpoint) { goto qZf7a; pSdFG: NSduA: goto pLDzL; qZf7a: if (!($endpoint->getName() == $endpointName)) { goto NSduA; } goto VBjvA; pLDzL: cu2vV: goto bzel2; VBjvA: return $endpoint; goto pSdFG; bzel2: } TW9J5: } private static function addEndpoint_($endpointName, $regionId, $product, $domain) { goto HpIV2; HpIV2: $regionIds = array($regionId); goto Zes1f; Zes1f: $productDomains = array(new ProductDomain($product, $domain)); goto qLJvd; qLJvd: $endpoint = new Endpoint($endpointName, $regionIds, $productDomains); goto k_SnO; k_SnO: array_push(self::$endpoints, $endpoint); goto WuGD9; WuGD9: } private static function updateEndpoint($regionId, $product, $domain, $endpoint) { goto HffvH; pWZ1F: array_push($productDomains, new ProductDomain($product, $domain)); goto mCx83; gpfUU: array_push($regionIds, $regionId); goto AtHko; HoZaE: qqmCo: goto UgDGz; aMD4Z: if (in_array($regionId, $regionIds)) { goto qqmCo; } goto gpfUU; mCx83: Nb7tJ: goto I1zKC; E3e3V: if (!(null == self::findProductDomain($productDomains, $product, $domain))) { goto Nb7tJ; } goto pWZ1F; I1zKC: $endpoint->setProductDomains($productDomains); goto lLA9T; HffvH: $regionIds = $endpoint->getRegionIds(); goto aMD4Z; UgDGz: $productDomains = $endpoint->getProductDomains(); goto E3e3V; AtHko: $endpoint->setRegionIds($regionIds); goto HoZaE; lLA9T: } private static function findProductDomain($productDomains, $product, $domain) { goto blxgi; fleGL: return null; goto ciYNt; eaFev: H2Crj: goto fleGL; blxgi: foreach ($productDomains as $key => $productDomain) { goto CU52V; CU52V: if (!($productDomain->getProductName() == $product && $productDomain->getDomainName() == $domain)) { goto i_s0H; } goto iwysx; iwysx: return $productDomain; goto R3jRC; XgnV2: iNzjL: goto c4qW4; R3jRC: i_s0H: goto XgnV2; c4qW4: } goto eaFev; ciYNt: } } goto i4anv; hpVVJ: class HttpRequest { public $timeoutMs; public $url; public $method; public $customHeaders; public $dataToPost; public $userData; } goto QeEnz; qZTPl: $xml = simplexml_load_string(file_get_contents($endpoint_filename)); goto EkXec; DlMtB: $json_array = json_decode($json, TRUE); goto FzsnA; DBwmt: header("\103\157\x6e\164\145\156\x74\55\x54\x79\160\145\x3a\40\164\145\x78\x74\57\x70\154\x61\151\x6e\73\x20\x63\x68\141\162\x73\145\164\75\165\x74\x66\x2d\70"); goto UJh49; YIqF4: class HttpHelper { public static $connectTimeout = 30; public static $readTimeout = 80; public static function curl($url, $httpMethod = "\x47\105\x54", $postFields = null, $headers = null) { goto C5EYo; jliIf: return $httpResponse; goto tHnv2; dcWUR: $httpResponse = new xcHttpResponse(); goto Gauci; qyH97: Bg7pG: goto jcwj4; qHseD: curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, self::$connectTimeout); goto qyH97; YYFX2: curl_setopt($ch, CURLOPT_PROXYPORT, HTTP_PROXY_PORT); goto mPCNf; UyqbL: if (!(is_array($headers) && 0 < count($headers))) { goto HC0TA; } goto AvijX; mPCNf: curl_setopt($ch, CURLOPT_PROXYTYPE, CURLPROXY_HTTP); goto u397I; C5EYo: $ch = curl_init(); goto yWMrP; bqsFm: curl_setopt($ch, CURLOPT_TIMEOUT, self::$readTimeout); goto OHb3H; AvijX: $httpHeaders = self::getHttpHearders($headers); goto eYXZV; nSpG5: if (!self::$readTimeout) { goto lycRI; } goto bqsFm; nrOHF: curl_close($ch); goto jliIf; Gauci: $httpResponse->setBody(curl_exec($ch)); goto Pu3vm; uIvll: if (!self::$connectTimeout) { goto Bg7pG; } goto qHseD; tIihl: curl_setopt($ch, CURLOPT_PROXYAUTH, CURLAUTH_BASIC); goto N8A06; gP3zg: curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); goto F4Nwu; N8A06: curl_setopt($ch, CURLOPT_PROXY, HTTP_PROXY_IP); goto YYFX2; AJNpn: Uo6ni: goto UyqbL; F4Nwu: curl_setopt($ch, CURLOPT_POSTFIELDS, is_array($postFields) ? self::getPostHttpBody($postFields) : $postFields); goto nSpG5; jcwj4: if (!(strlen($url) > 5 && strtolower(substr($url, 0, 5)) == "\x68\164\x74\160\163")) { goto Uo6ni; } goto STXfy; AEItr: throw new ClientException("\123\x65\162\x76\x65\162\x20\x75\156\x72\145\x61\143\150\x61\x62\x6c\145\72\40\x45\x72\162\156\x6f\x3a\x20" . curl_errno($ch) . "\40" . curl_error($ch), "\x53\104\113\56\x53\x65\x72\x76\145\162\125\x6e\162\x65\x61\x63\x68\x61\142\154\145"); goto Jy0BQ; Yzgc6: if (!ENABLE_HTTP_PROXY) { goto xROpJ; } goto tIihl; l72ZI: if (!curl_errno($ch)) { goto WWFM5; } goto AEItr; STXfy: curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false); goto s8Sps; OHb3H: lycRI: goto uIvll; eYXZV: curl_setopt($ch, CURLOPT_HTTPHEADER, $httpHeaders); goto Ky01U; Jy0BQ: WWFM5: goto nrOHF; yWMrP: curl_setopt($ch, CURLOPT_CUSTOMREQUEST, $httpMethod); goto Yzgc6; Pu3vm: $httpResponse->setStatus(curl_getinfo($ch, CURLINFO_HTTP_CODE)); goto l72ZI; TJPJO: curl_setopt($ch, CURLOPT_FAILONERROR, false); goto gP3zg; vf10S: curl_setopt($ch, CURLOPT_URL, $url); goto TJPJO; s8Sps: curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, false); goto AJNpn; Ky01U: HC0TA: goto dcWUR; u397I: xROpJ: goto vf10S; tHnv2: } static function getPostHttpBody($postFildes) { goto XYDoQ; vZWFh: m1hJL: goto aRzJY; aRzJY: return substr($content, 0, -1); goto HTQdP; XYDoQ: $content = ''; goto CsE_v; CsE_v: foreach ($postFildes as $apiParamKey => $apiParamValue) { $content .= "{$apiParamKey}\x3d" . urlencode($apiParamValue) . "\46"; bUBHX: } goto vZWFh; HTQdP: } static function getHttpHearders($headers) { goto NZJAN; NZJAN: $httpHeader = array(); goto c0nSW; YmF6J: return $httpHeader; goto C5cIk; Jrfa8: tmeDv: goto YmF6J; c0nSW: foreach ($headers as $key => $value) { array_push($httpHeader, $key . "\72" . $value); jTe1z: } goto Jrfa8; C5cIk: } } goto BwIU0; hYfwc: define("\105\116\101\102\114\105\x5f\110\124\124\120\x5f\x50\x52\x4f\130\131", FALSE); goto t8zf7; f8utv: interface IAcsClient { public function doAction($requst); } goto YUDIY; L5Gwt: set_time_limit(0); goto DBwmt; EkXec: $json = json_encode($xml); goto DlMtB; mH3Sv: error_reporting(0); goto b7F3g; b7F3g: ini_set("\x64\151\163\160\x6c\x61\x79\137\145\162\x72\x6f\x72\163", 0); goto hYfwc; t8zf7: define("\x48\x54\124\x50\x5f\x50\122\x4f\x58\131\x5f\x49\x50", "\x31\62\x37\56\60\x2e\x30\x2e\x31"); goto KzSOi; jDvPB: class Credential { private $dateTimeFormat = "\x59\55\x6d\55\x64\x5c\x54\110\72\151\72\x73\x5c\132"; private $refreshDate; private $expiredDate; private $accessKeyId; private $accessSecret; private $securityToken; function __construct($accessKeyId, $accessSecret) { goto J4EZu; GpAg_: $this->accessSecret = $accessSecret; goto IhbVO; J4EZu: $this->accessKeyId = $accessKeyId; goto GpAg_; IhbVO: $this->refreshDate = date($this->dateTimeFormat); goto Xbd0W; Xbd0W: } public function isExpired() { goto eS23L; I_o25: hzsD1: goto nnclw; wycmU: if (!(strtotime($this->expiredDate) > date($this->dateTimeFormat))) { goto hzsD1; } goto UOpJR; iZEow: return false; goto WZ7Kk; UOpJR: return false; goto I_o25; WZ7Kk: qhCpO: goto wycmU; eS23L: if (!($this->expiredDate == null)) { goto qhCpO; } goto iZEow; nnclw: return true; goto wSxY6; wSxY6: } public function getRefreshDate() { return $this->refreshDate; } public function getExpiredDate() { return $this->expiredDate; } public function setExpiredDate($expiredHours) { goto hryS8; hryS8: if (!($expiredHours > 0)) { goto QcDpI; } goto Y1jby; Y1jby: return $this->expiredDate = date($this->dateTimeFormat, strtotime("\x2b" . $expiredHours . "\x20\x68\157\165\x72")); goto ZrIdi; ZrIdi: QcDpI: goto xyOWp; xyOWp: } public function getAccessKeyId() { return $this->accessKeyId; } public function setAccessKeyId($accessKeyId) { $this->accessKeyId = $accessKeyId; } public function getAccessSecret() { return $this->accessSecret; } public function setAccessSecret($accessSecret) { $this->accessSecret = $accessSecret; } } goto KZQvo; QeEnz: class HttpResponse { public $curlErrorCode; public $curlErrorMessage; public $statusCode; public $headers; public $body; } goto foZSL; VCfvY: class SendSmsRequest extends RpcAcsRequest { public function __construct() { parent::__construct("\x44\x79\x73\155\x73\x61\x70\x69", "\x32\x30\61\67\55\60\65\x2d\x32\65", "\x53\x65\156\x64\123\x6d\163"); $this->setMethod("\120\117\123\124"); } private $templateCode; private $phoneNumbers; private $signName; private $resourceOwnerAccount; private $templateParam; private $resourceOwnerId; private $ownerId; private $outId; private $smsUpExtendCode; public function getTemplateCode() { return $this->templateCode; } public function setTemplateCode($templateCode) { $this->templateCode = $templateCode; $this->queryParameters["\124\x65\x6d\160\154\141\x74\x65\x43\x6f\x64\x65"] = $templateCode; } public function getPhoneNumbers() { return $this->phoneNumbers; } public function setPhoneNumbers($phoneNumbers) { $this->phoneNumbers = $phoneNumbers; $this->queryParameters["\x50\150\157\156\145\116\165\x6d\x62\145\162\x73"] = $phoneNumbers; } public function getSignName() { return $this->signName; } public function setSignName($signName) { $this->signName = $signName; $this->queryParameters["\x53\151\x67\156\116\x61\155\x65"] = $signName; } public function getResourceOwnerAccount() { return $this->resourceOwnerAccount; } public function setResourceOwnerAccount($resourceOwnerAccount) { $this->resourceOwnerAccount = $resourceOwnerAccount; $this->queryParameters["\x52\x65\163\157\x75\162\x63\x65\117\x77\x6e\x65\162\x41\143\143\157\165\156\x74"] = $resourceOwnerAccount; } public function getTemplateParam() { return $this->templateParam; } public function setTemplateParam($templateParam) { $this->templateParam = $templateParam; $this->queryParameters["\x54\145\155\x70\x6c\x61\164\145\x50\x61\x72\x61\155"] = $templateParam; } public function getResourceOwnerId() { return $this->resourceOwnerId; } public function setResourceOwnerId($resourceOwnerId) { $this->resourceOwnerId = $resourceOwnerId; $this->queryParameters["\x52\145\x73\157\x75\162\143\145\x4f\x77\x6e\x65\162\x49\144"] = $resourceOwnerId; } public function getOwnerId() { return $this->ownerId; } public function setOwnerId($ownerId) { $this->ownerId = $ownerId; $this->queryParameters["\x4f\x77\156\x65\162\x49\144"] = $ownerId; } public function getOutId() { return $this->outId; } public function setOutId($outId) { $this->outId = $outId; $this->queryParameters["\117\x75\x74\x49\144"] = $outId; } public function getSmsUpExtendCode() { return $this->smsUpExtendCode; } public function setSmsUpExtendCode($smsUpExtendCode) { $this->smsUpExtendCode = $smsUpExtendCode; $this->queryParameters["\x53\x6d\163\125\x70\x45\x78\164\145\x6e\x64\x43\157\144\145"] = $smsUpExtendCode; } } goto AeejP; KZQvo: interface IClientProfile { public function getSigner(); public function getRegionId(); public function getFormat(); public function getCredential(); } goto PP7xG; nJj82: class EndpointProvider { private static $endpoints; public static function findProductDomain($regionId, $product) { goto HVGKJ; einbB: foreach (self::$endpoints as $key => $endpoint) { goto M9Q6k; yLhs0: return self::findProductDomainByProduct($endpoint->getProductDomains(), $product); goto nVAN6; M9Q6k: if (!in_array($regionId, $endpoint->getRegionIds())) { goto Ooudu; } goto yLhs0; GvYhX: Lx3M0: goto nj8Fj; nVAN6: Ooudu: goto GvYhX; nj8Fj: } goto Y6xqw; HVGKJ: if (!(null == $regionId || null == $product || null == self::$endpoints)) { goto oV3oI; } goto sCs1Y; sCs1Y: return null; goto ND4pI; ND4pI: oV3oI: goto einbB; Y6xqw: YA_jl: goto UUxC6; UUxC6: return null; goto xC28b; xC28b: } private static function findProductDomainByProduct($productDomains, $product) { goto sxpv6; UonAe: return null; goto GR0SZ; Qs6t6: foreach ($productDomains as $key => $productDomain) { goto falLK; falLK: if (!($product == $productDomain->getProductName())) { goto aiDdE; } goto G6A0b; pL0Sg: aiDdE: goto f8HBv; f8HBv: sLvqs: goto LVBS4; G6A0b: return $productDomain->getDomainName(); goto pL0Sg; LVBS4: } goto qNb93; Ux10n: return null; goto O9myY; qNb93: jwVOm: goto Ux10n; GR0SZ: SVvgi: goto Qs6t6; sxpv6: if (!(null == $productDomains)) { goto SVvgi; } goto UonAe; O9myY: } public static function getEndpoints() { return self::$endpoints; } public static function setEndpoints($endpoints) { self::$endpoints = $endpoints; } } goto jDvPB; nn00s: abstract class RpcAcsRequest extends AcsRequest { private $dateTimeFormat = "\x59\x2d\155\55\144\x5c\124\110\72\x69\72\x73\x5c\x5a"; private $domainParameters = array(); function __construct($product, $version, $actionName) { parent::__construct($product, $version, $actionName); $this->initialize(); } private function initialize() { $this->setMethod("\x47\105\x54"); $this->setAcceptFormat("\x4a\123\117\x4e"); } private function prepareValue($value) { goto GKdTu; U8Tiw: return "\164\162\165\x65"; goto gJIus; FHJCz: j03b9: goto U8Tiw; GKdTu: if (is_bool($value)) { goto v42so; } goto r192Q; k7jDD: goto Jnpym; goto FHJCz; s0DTT: vzf_o: goto xtZR5; sja2f: v42so: goto T9lSz; gJIus: Jnpym: goto s0DTT; r192Q: return $value; goto Y1snv; k7u1f: return "\x66\x61\x6c\x73\x65"; goto k7jDD; T9lSz: if ($value) { goto j03b9; } goto k7u1f; Y1snv: goto vzf_o; goto sja2f; xtZR5: } public function composeUrl($iSigner, $credential, $domain) { goto QlEdn; yZyFh: jXLAA: goto rNMYW; I1JPt: $apiParams["\123\151\147\156\x61\164\165\x72\x65\x4e\x6f\x6e\143\145"] = uniqid(mt_rand(0, 0xffff), true); goto IP85S; au8X9: KF2ie: goto lNo3f; UwHcX: tAeOC: goto lbkH2; mTyTV: $apiParams["\123\x69\x67\x6e\x61\164\165\x72\145"] = $this->computeSignature($apiParams, $credential->getAccessSecret(), $iSigner); goto EO53H; jwmuR: $apiParams["\106\x6f\162\155\141\164"] = $this->getAcceptFormat(); goto RDldH; EO53H: if (parent::getMethod() == "\x50\x4f\x53\124") { goto jXLAA; } goto s_BTo; s_BTo: $requestUrl = $this->getProtocol() . "\72\x2f\57" . $domain . "\57\x3f"; goto lUpXy; M6LGn: gTGSB: goto a9CQv; lUpXy: foreach ($apiParams as $apiParamKey => $apiParamValue) { $requestUrl .= "{$apiParamKey}\75" . urlencode($apiParamValue) . "\46"; yw0KM: } goto sv4vP; QlEdn: $apiParams = parent::getQueryParameters(); goto qiW7d; fASQz: foreach ($apiParams as $apiParamKey => $apiParamValue) { $this->putDomainParameters($apiParamKey, $apiParamValue); XYRdc: } goto M6LGn; qXHPb: $apiParams["\x41\143\x74\151\x6f\x6e"] = $this->getActionName(); goto WeZgq; nuHXM: $apiParams["\x53\151\147\156\x61\164\165\162\x65\126\x65\162\163\x69\157\x6e"] = $iSigner->getSignatureVersion(); goto I1JPt; VpsFH: $apiParams["\x41\143\x63\145\163\x73\113\x65\171\111\144"] = $credential->getAccessKeyId(); goto jwmuR; U3x9K: $apiParams["\x54\x69\x6d\x65\x73\x74\x61\155\160"] = date($this->dateTimeFormat); goto qXHPb; WeZgq: $apiParams["\x56\145\162\163\x69\157\156"] = $this->getVersion(); goto mTyTV; dHKzY: goto tAeOC; goto yZyFh; rNMYW: $requestUrl = $this->getProtocol() . "\x3a\x2f\57" . $domain . "\x2f"; goto fASQz; IP85S: date_default_timezone_set("\x47\115\x54"); goto U3x9K; a9CQv: return $requestUrl; goto UwHcX; qiW7d: foreach ($apiParams as $key => $value) { $apiParams[$key] = $this->prepareValue($value); cDb6t: } goto au8X9; wz6hN: return substr($requestUrl, 0, -1); goto dHKzY; RDldH: $apiParams["\123\151\147\x6e\x61\x74\165\162\145\115\145\164\x68\x6f\144"] = $iSigner->getSignatureMethod(); goto nuHXM; lNo3f: $apiParams["\122\x65\x67\151\x6f\156\111\144"] = $this->getRegionId(); goto VpsFH; sv4vP: y796i: goto wz6hN; lbkH2: } private function computeSignature($parameters, $accessKeySecret, $iSigner) { goto duaGC; CARKR: CIQ72: goto PgScK; cFTyc: foreach ($parameters as $key => $value) { $canonicalizedQueryString .= "\x26" . $this->percentEncode($key) . "\75" . $this->percentEncode($value); Zs1CR: } goto CARKR; zBT5c: $signature = $iSigner->signString($stringToSign, $accessKeySecret . "\46"); goto wk1mm; Lhzbq: $canonicalizedQueryString = ''; goto cFTyc; PgScK: $stringToSign = parent::getMethod() . "\46\x25\62\x46\46" . $this->percentencode(substr($canonicalizedQueryString, 1)); goto zBT5c; wk1mm: return $signature; goto tHZpe; duaGC: ksort($parameters); goto Lhzbq; tHZpe: } protected function percentEncode($str) { goto MfhNJ; L55wi: return $res; goto gw3V5; MfhNJ: $res = urlencode($str); goto yG_E3; NE3BJ: $res = preg_replace("\x2f\x25\x37\105\x2f", "\176", $res); goto L55wi; yG_E3: $res = preg_replace("\57\134\x2b\x2f", "\x25\x32\60", $res); goto iUiAp; iUiAp: $res = preg_replace("\x2f\134\52\57", "\x25\62\x41", $res); goto NE3BJ; gw3V5: } public function getDomainParameter() { return $this->domainParameters; } public function putDomainParameters($name, $value) { $this->domainParameters[$name] = $value; } } goto VCfvY; z4I4X: foreach ($json_array["\105\x6e\144\160\157\151\x6e\164"] as $json_endpoint) { goto d28Hk; PxSNc: $region_ids = array($json_region_ids); goto y6gtI; HJEMW: goto BT2kE; goto e3n0O; CP1Xq: UL7YX: goto QrIhR; syscw: FGtwo: goto a5yLd; ZpW15: if (array() === $json_products or !is_array($json_products)) { goto Ke4Ms; } goto QXy3D; k9Ix_: goto F8Rkv; goto xlNUT; pb6Gb: $region_ids = $json_region_ids; goto PaNHV; OVasq: BT2kE: goto nxdEd; qA57c: $products = array($json_products); goto eUtWa; LahXv: $products = array(); goto OVasq; qeB2e: X5urI: goto tYry4; B1UmN: $products = array(); goto wPRPE; QrIhR: $endpoint = new Endpoint($region_ids[0], $region_ids, $product_domains); goto c8pC6; C4zkt: $products = $json_products; goto yKEYX; j8uoi: ovCje: goto yvscL; QXy3D: if (array_keys($json_products) !== range(0, count($json_products) - 1)) { goto ji6V8; } goto C4zkt; gVkaB: ji6V8: goto qA57c; S3Vxf: H6fnV: goto PxSNc; e3n0O: qMMbj: goto LahXv; c288n: $json_products = $json_endpoint["\x50\x72\157\144\x75\143\x74\x73"]["\120\x72\x6f\x64\x75\143\164"]; goto ZpW15; d28Hk: if (!array_key_exists("\122\145\x67\x69\x6f\x6e\x49\144", $json_endpoint["\122\x65\147\151\157\156\111\x64\163"])) { goto FGtwo; } goto a6gKP; wPRPE: F8Rkv: goto HJEMW; SBXbM: goto X5urI; goto syscw; xlNUT: Ke4Ms: goto B1UmN; a6gKP: $json_region_ids = $json_endpoint["\x52\x65\x67\151\157\x6e\111\x64\163"]["\x52\x65\147\151\x6f\x6e\111\x64"]; goto bVjYZ; nxdEd: $product_domains = array(); goto C1iVw; PaNHV: goto Rv4Im; goto S3Vxf; yKEYX: goto IzMYh; goto gVkaB; C1iVw: foreach ($products as $product) { goto vCMCe; vCMCe: $product_domain = new ProductDomain($product["\x50\x72\x6f\144\x75\143\x74\x4e\x61\155\145"], $product["\104\x6f\155\141\151\156\116\141\155\x65"]); goto cm7DT; cm7DT: array_push($product_domains, $product_domain); goto XLii5; XLii5: nKf39: goto awuvp; awuvp: } goto CP1Xq; tYry4: if (!array_key_exists("\120\x72\x6f\x64\165\x63\x74", $json_endpoint["\120\x72\x6f\144\x75\143\164\163"])) { goto qMMbj; } goto c288n; a5yLd: $region_ids = array(); goto qeB2e; bVjYZ: if (!is_array($json_region_ids)) { goto H6fnV; } goto pb6Gb; y6gtI: Rv4Im: goto SBXbM; c8pC6: array_push($endpoints, $endpoint); goto j8uoi; eUtWa: IzMYh: goto k9Ix_; yvscL: } goto wdd0t; foZSL: class LibcurlWrapper { private $curlMultiHandle; private $curlHandleInfo; private $idleCurlHandle; public function __construct() { $this->curlMultiHandle = curl_multi_init(); $this->idleCurlHandle = array(); } public function __destruct() { goto UXsp7; eBHK9: gbboc: goto RbzM4; LFupt: foreach ($this->idleCurlHandle as $handle) { curl_close($handle); F2AVE: } goto eBHK9; RbzM4: $this->idleCurlHandle = array(); goto Qt7cy; UXsp7: curl_multi_close($this->curlMultiHandle); goto LFupt; Qt7cy: } public function startSendingRequest($httpRequest, $done) { goto m3rts; VPxNr: zBmto: goto Ms3rg; Tbf44: curl_setopt($curlHandle, CURLOPT_POST, true); goto vmsvo; kJKMj: nR4ip: goto groJA; lv_4g: $curlHandle = array_pop($this->idleCurlHandle); goto wlOCC; vmsvo: $arr = buildCustomPostFields($httpRequest->dataToPost); goto FxCM_; m3rts: if (count($this->idleCurlHandle) !== 0) { goto t8QBb; } goto vlPE6; kBiGR: $this->curlHandleInfo[$curlHandle]["\162\145\161\x75\145\x73\164"] = $httpRequest; goto g8i4p; VmIJq: curl_setopt($curlHandle, CURLOPT_POSTFIELDS, $arr[1]); goto VPxNr; Ms3rg: curl_setopt($curlHandle, CURLOPT_HTTPHEADER, $headers); goto yd7wr; yd7wr: curl_multi_add_handle($this->curlMultiHandle, $curlHandle); goto BA_QE; vWZ94: array_push($headers, "\125\163\x65\162\55\x41\147\145\156\164\x3a" . Conf::getUserAgent()); goto BjdUx; vlPE6: $curlHandle = curl_init(); goto JAnqI; fG7iE: t8QBb: goto lv_4g; groJA: goto kW3DV; goto fG7iE; FxCM_: array_push($headers, "\105\x78\x70\x65\143\x74\x3a\x20\x31\x30\60\x2d\143\157\156\164\x69\x6e\165\145"); goto NIzAh; jQzNx: $headers = $httpRequest->customHeaders; goto vWZ94; BjdUx: if (!($httpRequest->method === "\x50\x4f\x53\x54")) { goto zBmto; } goto fIqu5; fIqu5: if (!defined("\103\125\x52\x4c\117\120\x54\137\123\101\106\105\x5f\x55\120\x4c\117\101\104")) { goto YzpHX; } goto gDZ4y; VvJYM: curl_setopt($curlHandle, CURLOPT_URL, $httpRequest->url); goto INhxG; S2o_5: curl_setopt($curlHandle, CURLOPT_TIMEOUT_MS, $httpRequest->timeoutMs); goto VvJYM; INhxG: curl_setopt($curlHandle, CURLOPT_HEADER, 1); goto wARw1; wARw1: curl_setopt($curlHandle, CURLOPT_RETURNTRANSFER, 1); goto jQzNx; ghhkl: YzpHX: goto Tbf44; BA_QE: $this->curlHandleInfo[$curlHandle]["\144\x6f\x6e\x65"] = $done; goto kBiGR; NIzAh: array_push($headers, "\x43\x6f\156\x74\x65\x6e\164\55\x54\171\160\145\72\x20\155\x75\154\x74\x69\x70\x61\x72\x74\57\146\157\x72\155\55\144\x61\164\141\73\40\142\157\165\x6e\x64\x61\162\171\x3d" . $arr[0]); goto VmIJq; gDZ4y: curl_setopt($curlHandle, CURLOPT_SAFE_UPLOAD, true); goto ghhkl; QCFiS: return false; goto kJKMj; wlOCC: kW3DV: goto S2o_5; JAnqI: if (!($curlHandle === false)) { goto nR4ip; } goto QCFiS; g8i4p: } public function performSendingRequest() { goto v6BKn; JxvYb: XVQBS: goto jWcZe; Uy_QH: usleep(1); goto E_GZI; BeWwn: TCmqs: goto x0uO_; jWcZe: goto r0hRK; goto DLHTm; lz0wo: p_PZ4: goto YHiOO; iN_x0: $this->processResult($info); goto lz0wo; jVpl4: if (!(count($this->curlHandleInfo) == 0)) { goto Q7i4Y; } goto tvDKr; fsc0d: qjvfg: goto WGOFq; x0uO_: if ($mrc == CURLM_CALL_MULTI_PERFORM) { goto boTfz; } goto fsc0d; yRmsg: BPGaw: goto sRrA1; YHiOO: if ($mrc == CURLM_CALL_MULTI_PERFORM) { goto CwPKk; } goto JxvYb; WGOFq: r0hRK: goto peSY6; m3NRT: $info = curl_multi_info_read($this->curlMultiHandle); goto ULyMg; b1gd9: $info = curl_multi_info_read($this->curlMultiHandle); goto erDEo; wByAl: $active = null; goto MkRdB; peSY6: if (!($active && $mrc == CURLM_OK)) { goto P1Prx; } goto IxXT5; sBcY9: x1sUx: goto T8IHS; DLHTm: P1Prx: goto jVpl4; Ma1Dr: $this->processResult($info); goto BeWwn; b4_Ye: $mrc = curl_multi_exec($this->curlMultiHandle, $active); goto b1gd9; hJxRs: Q7i4Y: goto sBcY9; erDEo: if (!($info !== false)) { goto TCmqs; } goto Ma1Dr; VFr3M: CwPKk: goto EQAQn; ULyMg: if (!($info !== false)) { goto p_PZ4; } goto iN_x0; tvDKr: goto BPGaw; goto hJxRs; IxXT5: if (!(curl_multi_select($this->curlMultiHandle) == -1)) { goto EpFnx; } goto Uy_QH; EQAQn: $mrc = curl_multi_exec($this->curlMultiHandle, $active); goto m3NRT; E_GZI: EpFnx: goto VFr3M; v6BKn: Ell1j: goto wByAl; T8IHS: goto Ell1j; goto yRmsg; MkRdB: boTfz: goto b4_Ye; sRrA1: } private function processResult($info) { goto FUkso; esBsw: array_push($this->idleCurlHandle, $handle); goto pHD6U; c2hDc: call_user_func($done, $request, $response); goto RfejY; ZDLFw: $headerSize = curl_getinfo($handle, CURLINFO_HEADER_SIZE); goto PFUT4; nr53t: $done = $this->curlHandleInfo[$handle]["\x64\157\x6e\x65"]; goto Spt4L; aZi2X: $response->curlErrorCode = $result; goto HWseR; EnajO: u6hiv: goto eEtbb; DYv_E: $body = substr($responseStr, $headerSize); goto IV3z1; eSzer: $handle = $info["\150\x61\156\x64\x6c\145"]; goto xCfUo; gom6Z: $response->statusCode = curl_getinfo($handle, CURLINFO_HTTP_CODE); goto FbaG0; Spt4L: $response = new HttpResponse(); goto jxhXk; d_Ugd: unset($this->curlHandleInfo[$handle]); goto SQtzu; FbaG0: $headLines = explode("\xd\xa", $headerStr); goto dhHXA; jxhXk: if ($result !== CURLE_OK) { goto SiKCl; } goto oMcR8; eEtbb: $response->body = $body; goto c2hDc; IXExg: SiKCl: goto aZi2X; A9dPq: qW6KG: goto d_Ugd; i1WAD: $response->curlErrorMessage = curl_error($handle); goto gom6Z; PFUT4: $headerStr = substr($responseStr, 0, $headerSize); goto DYv_E; FUkso: $result = $info["\162\145\163\165\154\164"]; goto eSzer; SQtzu: curl_multi_remove_handle($this->curlMultiHandle, $handle); goto esBsw; IV3z1: $response->curlErrorCode = curl_errno($handle); goto i1WAD; dhHXA: foreach ($headLines as $head) { goto czXFx; yDW31: cPDg8: goto N_b3j; czXFx: $arr = explode("\x3a", $head); goto p3GCG; N_b3j: jdKyI: goto g9X5P; p3GCG: if (!(count($arr) >= 2)) { goto cPDg8; } goto OgtkF; OgtkF: $response->headers[trim($arr[0])] = trim($arr[1]); goto yDW31; g9X5P: } goto EnajO; RfejY: goto qW6KG; goto IXExg; oMcR8: $responseStr = curl_multi_getcontent($handle); goto ZDLFw; HWseR: $response->curlErrorMessage = curl_error($handle); goto ZKcj3; ZKcj3: call_user_func($done, $request, $response); goto A9dPq; xCfUo: $request = $this->curlHandleInfo[$handle]["\x72\x65\161\x75\x65\x73\164"]; goto nr53t; pHD6U: } private function resetCurl($handle) { goto CZnfg; FCPQo: curl_setopt($handler, CURLOPT_HTTPHEADER, array()); goto HjIgl; XQT1w: curl_setopt($handler, CURLOPT_URL, ''); goto FCPQo; CZnfg: if (function_exists("\143\165\x72\x6c\x5f\162\x65\x73\x65\164")) { goto lccs9; } goto XQT1w; QcbX3: curl_reset($handle); goto M1cgI; wO_Rx: lccs9: goto QcbX3; ZsJ26: goto d8gy6; goto wO_Rx; kjRfT: curl_setopt($handler, CURLOPT_TIMEOUT, 0); goto Bq7kI; X5AVy: curl_setopt($handler, CURLOPT_SSL_VERIFYHOST, 0); goto ZsJ26; HjIgl: curl_setopt($handler, CURLOPT_POSTFIELDS, array()); goto kjRfT; Bq7kI: curl_setopt($handler, CURLOPT_SSL_VERIFYPEER, false); goto X5AVy; M1cgI: d8gy6: goto jY2x_; jY2x_: } } goto zIM_C; i4anv: abstract class AcsRequest { protected $version; protected $product; protected $actionName; protected $regionId; protected $acceptFormat; protected $method; protected $protocolType = "\x68\x74\164\x70"; protected $content; protected $queryParameters = array(); protected $headers = array(); function __construct($product, $version, $actionName) { goto W9tL1; W9tL1: $this->headers["\170\x2d\x73\144\x6b\x2d\143\154\151\x65\x6e\x74"] = "\160\150\x70\57\62\x2e\x30\56\x30"; goto f3L3w; f3L3w: $this->product = $product; goto sc9II; sc9II: $this->version = $version; goto J3IDI; J3IDI: $this->actionName = $actionName; goto PpKKy; PpKKy: } public abstract function composeUrl($iSigner, $credential, $domain); public function getVersion() { return $this->version; } public function setVersion($version) { $this->version = $version; } public function getProduct() { return $this->product; } public function setProduct($product) { $this->product = $product; } public function getActionName() { return $this->actionName; } public function setActionName($actionName) { $this->actionName = $actionName; } public function getAcceptFormat() { return $this->acceptFormat; } public function setAcceptFormat($acceptFormat) { $this->acceptFormat = $acceptFormat; } public function getQueryParameters() { return $this->queryParameters; } public function getHeaders() { return $this->headers; } public function getMethod() { return $this->method; } public function setMethod($method) { $this->method = $method; } public function getProtocol() { return $this->protocolType; } public function setProtocol($protocol) { $this->protocolType = $protocol; } public function getRegionId() { return $this->regionId; } public function setRegionId($region) { $this->regionId = $region; } public function getContent() { return $this->content; } public function setContent($content) { $this->content = $content; } public function addHeader($headerKey, $headerValue) { $this->headers[$headerKey] = $headerValue; } } goto nn00s; AeejP: class xcap_SmsDemo { static $acsClient = null; public static function getAcsClient($AccessKeyId, $AccessKeySecret) { goto M6gcG; I4Nnx: $region = "\x63\x6e\55\x68\x61\x6e\x67\172\x68\157\x75"; goto LhP1N; XK83S: DefaultProfile::addEndpoint($endPointName, $region, $product, $domain); goto jBQ6G; U6HcQ: return static::$acsClient; goto vRWfQ; Qw8Ld: ORBmH: goto U6HcQ; M6gcG: $product = "\x44\171\163\155\163\141\x70\151"; goto L2qBf; jDp6f: $accessKeySecret = $AccessKeySecret; goto I4Nnx; L2qBf: $domain = "\144\171\x73\x6d\163\141\x70\151\56\141\154\x69\171\x75\x6e\x63\163\56\x63\x6f\155"; goto vh8qa; AVutt: if (!(static::$acsClient == null)) { goto ORBmH; } goto cQ0h7; cQ0h7: $profile = DefaultProfile::getProfile($region, $accessKeyId, $accessKeySecret); goto XK83S; jBQ6G: static::$acsClient = new DefaultAcsClient($profile); goto Qw8Ld; LhP1N: $endPointName = "\x63\156\x2d\x68\141\x6e\147\172\150\157\165"; goto AVutt; vh8qa: $accessKeyId = $AccessKeyId; goto jDp6f; vRWfQ: } public static function sendSms($AccessKeyId, $AccessKeySecret, $signName, $templateCode, $phoneNumbers, $templateParam = null, $outId = null, $smsUpExtendCode = null) { goto tZfLw; TLv39: $request->setSignName($signName); goto RqNKh; kjucy: eN1ZS: goto Fi94w; Vk4Mk: $request->setTemplateParam(json_encode($templateParam)); goto kjucy; tk7g4: if (!$smsUpExtendCode) { goto vM1wV; } goto Xpqag; Xpqag: $request->setSmsUpExtendCode($smsUpExtendCode); goto h5mrz; RqNKh: $request->setTemplateCode($templateCode); goto BQAFb; Fi94w: if (!$outId) { goto imFdg; } goto MYFjG; c8PkQ: $acsResponse = static::getAcsClient($AccessKeyId, $AccessKeySecret)->getAcsResponse($request); goto k7RRA; k8573: $request->setPhoneNumbers($phoneNumbers); goto TLv39; k7RRA: return $acsResponse; goto ltsnB; h5mrz: vM1wV: goto c8PkQ; MYFjG: $request->setOutId($outId); goto BDXYD; tZfLw: $request = new SendSmsRequest(); goto k8573; BQAFb: if (!$templateParam) { goto eN1ZS; } goto Vk4Mk; BDXYD: imFdg: goto tk7g4; ltsnB: } public function queryDetails($phoneNumbers, $sendDate, $pageSize = 10, $currentPage = 1, $bizId = null) { goto r5Mbt; D7fhQ: $request->setPhoneNumber($phoneNumbers); goto awDY9; Zfb1q: return $acsResponse; goto ocKpC; xPdph: $request->setSendDate($sendDate); goto kiMRj; r5Mbt: $request = new QuerySendDetailsRequest(); goto D7fhQ; eDpeB: $acsResponse = static::getAcsClient()->getAcsResponse($request); goto Zfb1q; Drk0P: $request->setCurrentPage($currentPage); goto eDpeB; awDY9: $request->setBizId($bizId); goto xPdph; kiMRj: $request->setPageSize($pageSize); goto Drk0P; ocKpC: } } goto L5Gwt; zIM_C: class xcHttpResponse { private $body; private $status; public function getBody() { return $this->body; } public function setBody($body) { $this->body = $body; } public function getStatus() { return $this->status; } public function setStatus($status) { $this->status = $status; } public function isSuccess() { goto BzWUv; p6oCr: return true; goto vL5mM; vL5mM: MtxFb: goto OhZZs; BzWUv: if (!(200 <= $this->status && 300 > $this->status)) { goto MtxFb; } goto p6oCr; OhZZs: return false; goto qyGj9; qyGj9: } } goto YIqF4; YUDIY: class DefaultAcsClient implements IAcsClient { public $iClientProfile; public $__urlTestFlag__; function __construct($iClientProfile) { $this->iClientProfile = $iClientProfile; $this->__urlTestFlag__ = false; } public function getAcsResponse($request, $iSigner = null, $credential = null, $autoRetry = true, $maxRetryNumber = 3) { goto taASr; gJNdP: $this->buildApiException($respObject, $httpResponse->getStatus()); goto xsLwG; taASr: $httpResponse = $this->doActionImpl($request, $iSigner, $credential, $autoRetry, $maxRetryNumber); goto bacPI; DXcjg: if (!(false == $httpResponse->isSuccess())) { goto sPUor; } goto gJNdP; bacPI: $respObject = $this->parseAcsResponse($httpResponse->getBody(), $request->getAcceptFormat()); goto DXcjg; kkMEe: return $respObject; goto TJw6o; xsLwG: sPUor: goto kkMEe; TJw6o: } private function doActionImpl($request, $iSigner = null, $credential = null, $autoRetry = true, $maxRetryNumber = 3) { goto jhL03; K8z1Y: goto n5h5U; goto zVfHy; RlSIA: $request = $this->prepareRequest($request); goto g7vDL; iz0oH: if (!(null == $credential)) { goto EbC1j; } goto Gf_2A; jhL03: if (!(null == $this->iClientProfile && (null == $iSigner || null == $credential || null == $request->getRegionId() || null == $request->getAcceptFormat()))) { goto YfKWK; } goto g1yHR; ukoVP: if (!(null == $iSigner)) { goto sLm6Z; } goto xIr2B; QI_YQ: goto ahHPK; goto u_Bk2; AZ2CT: throw new ClientException("\103\x61\x6e\x20\156\x6f\164\40\x66\x69\x6e\144\40\145\156\144\x70\x6f\151\x6e\x74\x20\164\157\x20\141\143\x63\145\x73\163\56", "\x53\x44\x4b\x2e\x49\x6e\166\x61\154\x69\x64\x52\145\x67\151\x6f\156\x49\x64"); goto Yppdf; H97Xt: $httpResponse = HttpHelper::curl($requestUrl, $request->getDomainParameter(), $request->getHeaders()); goto l3Cf8; ve5Zt: $retryTimes++; goto K8z1Y; sJ7Md: EbC1j: goto RlSIA; nVZ56: n5h5U: goto d05hQ; Y1Yhz: goto u4fXw; goto JKT7a; g1yHR: throw new ClientException("\x4e\x6f\40\141\x63\x74\151\166\145\x20\160\x72\157\x66\151\154\x65\x20\146\157\165\156\x64\56", "\123\x44\113\x2e\111\x6e\x76\x61\154\151\144\x50\162\157\x66\x69\x6c\145"); goto khPXW; Yppdf: FmF5m: goto CCy2m; Wicc3: $httpResponse = HttpHelper::curl($requestUrl, $request->getMethod(), $request->getContent(), $request->getHeaders()); goto QI_YQ; WOQbl: ahHPK: goto q4Vqb; vMzMT: $httpResponse = HttpHelper::curl($requestUrl, $request->getMethod(), $request->getContent(), $request->getHeaders()); goto Y1Yhz; l3Cf8: u4fXw: goto ve5Zt; g7vDL: $domain = EndpointProvider::findProductDomain($request->getRegionId(), $request->getProduct()); goto xrhPj; lsd7K: return $httpResponse; goto aTpbh; Ike5M: if (count($request->getDomainParameter()) > 0) { goto HgAvd; } goto Wicc3; x5TPY: if (count($request->getDomainParameter()) > 0) { goto bUL6v; } goto vMzMT; hz4g7: throw new ClientException($requestUrl, "\125\x52\114\124\145\x73\x74\x46\154\x61\147\x49\x73\123\x65\x74"); goto QvgsI; xIr2B: $iSigner = $this->iClientProfile->getSigner(); goto Zp3xc; QvgsI: eqqKQ: goto Ike5M; khPXW: YfKWK: goto ukoVP; WpSBN: $requestUrl = $request->composeUrl($iSigner, $credential, $domain); goto x5TPY; u_Bk2: HgAvd: goto pTfVg; d05hQ: if (!(500 <= $httpResponse->getStatus() && $autoRetry && $retryTimes < $maxRetryNumber)) { goto lXkCy; } goto WpSBN; xrhPj: if (!(null == $domain)) { goto FmF5m; } goto AZ2CT; Zp3xc: sLm6Z: goto iz0oH; q4Vqb: $retryTimes = 1; goto nVZ56; FzfTV: if (!$this->__urlTestFlag__) { goto eqqKQ; } goto hz4g7; Gf_2A: $credential = $this->iClientProfile->getCredential(); goto sJ7Md; pTfVg: $httpResponse = HttpHelper::curl($requestUrl, $request->getMethod(), $request->getDomainParameter(), $request->getHeaders()); goto WOQbl; CCy2m: $requestUrl = $request->composeUrl($iSigner, $credential, $domain); goto FzfTV; zVfHy: lXkCy: goto lsd7K; JKT7a: bUL6v: goto H97Xt; aTpbh: } public function doAction($request, $iSigner = null, $credential = null, $autoRetry = true, $maxRetryNumber = 3) { trigger_error("\x64\157\x41\x63\x74\151\x6f\x6e\50\x29\x20\x69\163\40\x64\x65\160\162\x65\x63\141\164\x65\x64\56\x20\x50\154\145\141\x73\145\x20\165\163\x65\x20\147\x65\164\101\143\163\x52\x65\163\x70\157\x6e\163\145\x28\x29\40\151\x6e\163\164\x65\141\x64\x2e", E_USER_NOTICE); return $this->doActionImpl($request, $iSigner, $credential, $autoRetry, $maxRetryNumber); } private function prepareRequest($request) { goto xCi7w; xCi7w: if (!(null == $request->getRegionId())) { goto GKWYb; } goto H2Qh3; WMqfD: if (!(null == $request->getAcceptFormat())) { goto Hl13S; } goto sa0r8; DEgQR: ERsSd: goto oG2XZ; amLoq: GKWYb: goto WMqfD; mIzo0: if (!(null == $request->getMethod())) { goto ERsSd; } goto zIwBp; sa0r8: $request->setAcceptFormat($this->iClientProfile->getFormat()); goto ZjJgw; zIwBp: $request->setMethod("\x47\105\124"); goto DEgQR; oG2XZ: return $request; goto U66Uy; H2Qh3: $request->setRegionId($this->iClientProfile->getRegionId()); goto amLoq; ZjJgw: Hl13S: goto mIzo0; U66Uy: } private function buildApiException($respObject, $httpStatus) { throw new ServerException($respObject->Message, $respObject->Code, $httpStatus, $respObject->RequestId); } private function parseAcsResponse($body, $format) { goto oUg3h; r3ov1: if (!("\122\x41\x57" == $format)) { goto PyuMN; } goto rB1jF; H0JML: $respObject = json_decode($body); goto DXRkB; n2bQK: G9R0J: goto fzoS3; oUg3h: if ("\112\x53\117\x4e" == $format) { goto jf3R6; } goto GeLY3; GeLY3: if ("\x58\x4d\114" == $format) { goto hdYaG; } goto r3ov1; iGsmv: jf3R6: goto H0JML; DXRkB: A_Ion: goto fyT4j; rB1jF: $respObject = $body; goto TzL7D; fyT4j: return $respObject; goto b7kql; fzoS3: goto A_Ion; goto iGsmv; mQf95: goto G9R0J; goto IKyot; JeeI5: $respObject = @simplexml_load_string($body); goto n2bQK; TzL7D: PyuMN: goto mQf95; IKyot: hdYaG: goto JeeI5; b7kql: } } goto Hebv5; FzsnA: $endpoints = array(); goto z4I4X; Hebv5: class Endpoint { private $name; private $regionIds; private $productDomains; function __construct($name, $regionIds, $productDomains) { goto cnVy_; H_Wff: $this->regionIds = $regionIds; goto iDGjU; cnVy_: $this->name = $name; goto H_Wff; iDGjU: $this->productDomains = $productDomains; goto KT1iA; KT1iA: } public function getName() { return $this->name; } public function setName($name) { $this->name = $name; } public function getRegionIds() { return $this->regionIds; } public function setRegionIds($regionIds) { $this->regionIds = $regionIds; } public function getProductDomains() { return $this->productDomains; } public function setProductDomains($productDomains) { $this->productDomains = $productDomains; } } goto WXMUZ; dplfG: interface ISigner { public function getSignatureMethod(); public function getSignatureVersion(); public function signString($source, $accessSecret); } goto k1vzM; WXMUZ: class ProductDomain { private $productName; private $domainName; function __construct($product, $domain) { $this->productName = $product; $this->domainName = $domain; } public function getProductName() { return $this->productName; } public function setProductName($productName) { $this->productName = $productName; } public function getDomainName() { return $this->domainName; } public function setDomainName($domainName) { $this->domainName = $domainName; } } goto nJj82; k1vzM: class ShaHmac1Signer implements ISigner { public function signString($source, $accessSecret) { return base64_encode(hash_hmac("\163\x68\141\61", $source, $accessSecret, true)); } public function getSignatureMethod() { return "\110\115\101\103\55\123\110\101\x31"; } public function getSignatureVersion() { return "\61\x2e\60"; } } goto f8utv; WsXBu: EndpointProvider::setEndpoints($endpoints);