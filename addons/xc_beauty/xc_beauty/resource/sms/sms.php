<?php
 goto DYS8h; Hd72Y: $json_array = json_decode($json, TRUE); goto z2DQ_; jhRRj: interface IClientProfile { public function getSigner(); public function getRegionId(); public function getFormat(); public function getCredential(); } goto kNS9X; KvtiL: class LibcurlWrapper { private $curlMultiHandle; private $curlHandleInfo; private $idleCurlHandle; public function __construct() { $this->curlMultiHandle = curl_multi_init(); $this->idleCurlHandle = array(); } public function __destruct() { goto qiX7S; CEcrL: $this->idleCurlHandle = array(); goto Ek_Xc; B72mS: avVuF: goto CEcrL; WzPi_: foreach ($this->idleCurlHandle as $handle) { curl_close($handle); fUJvr: } goto B72mS; qiX7S: curl_multi_close($this->curlMultiHandle); goto WzPi_; Ek_Xc: } public function startSendingRequest($httpRequest, $done) { goto w807E; xdYeR: curl_setopt($curlHandle, CURLOPT_RETURNTRANSFER, 1); goto U3UZH; w807E: if (count($this->idleCurlHandle) !== 0) { goto wwdbA; } goto tLg5A; n46vz: curl_setopt($curlHandle, CURLOPT_HEADER, 1); goto xdYeR; ZnP5u: Rjusy: goto eGPkf; c1gaY: $curlHandle = array_pop($this->idleCurlHandle); goto ZnP5u; Rdxsf: curl_setopt($curlHandle, CURLOPT_SAFE_UPLOAD, true); goto wm514; R6Wz6: $this->curlHandleInfo[$curlHandle]["\144\x6f\156\145"] = $done; goto FjG5k; wlsmO: curl_setopt($curlHandle, CURLOPT_HTTPHEADER, $headers); goto NbH5S; zf5aN: C7ROg: goto OZIbU; rRnHO: return false; goto zf5aN; eGPkf: curl_setopt($curlHandle, CURLOPT_TIMEOUT_MS, $httpRequest->timeoutMs); goto XTq7N; NbH5S: curl_multi_add_handle($this->curlMultiHandle, $curlHandle); goto R6Wz6; ARDph: ynLWG: goto wlsmO; x9qQu: array_push($headers, "\x55\x73\145\162\55\101\147\145\156\164\72" . Conf::getUserAgent()); goto VN4ah; U3UZH: $headers = $httpRequest->customHeaders; goto x9qQu; H8Zdx: array_push($headers, "\x43\157\x6e\164\145\x6e\164\55\x54\x79\x70\x65\72\x20\155\165\x6c\x74\151\x70\141\162\164\x2f\x66\x6f\x72\155\55\x64\141\164\x61\x3b\40\142\x6f\165\x6e\144\141\162\x79\75" . $arr[0]); goto mEyJy; p6T_7: if (!($curlHandle === false)) { goto C7ROg; } goto rRnHO; tLg5A: $curlHandle = curl_init(); goto p6T_7; NmkNz: curl_setopt($curlHandle, CURLOPT_POST, true); goto X_9Ea; FjG5k: $this->curlHandleInfo[$curlHandle]["\162\x65\x71\x75\x65\163\x74"] = $httpRequest; goto vt7fT; r70O6: array_push($headers, "\x45\170\160\x65\143\164\72\x20\x31\60\x30\x2d\x63\157\156\164\x69\156\165\145"); goto H8Zdx; wm514: cjtlU: goto NmkNz; X_9Ea: $arr = buildCustomPostFields($httpRequest->dataToPost); goto r70O6; OO66o: wwdbA: goto c1gaY; azktd: if (!defined("\103\x55\x52\114\x4f\120\x54\x5f\123\x41\106\105\x5f\x55\x50\x4c\x4f\101\x44")) { goto cjtlU; } goto Rdxsf; OZIbU: goto Rjusy; goto OO66o; VN4ah: if (!($httpRequest->method === "\120\117\x53\x54")) { goto ynLWG; } goto azktd; XTq7N: curl_setopt($curlHandle, CURLOPT_URL, $httpRequest->url); goto n46vz; mEyJy: curl_setopt($curlHandle, CURLOPT_POSTFIELDS, $arr[1]); goto ARDph; vt7fT: } public function performSendingRequest() { goto hvffI; B4ZXM: WlqRi: goto Fn5L3; zJTnU: $this->processResult($info); goto xbOXP; TpLQo: if (!($info !== false)) { goto DFiG4; } goto d5rrj; AY4D5: goto yIRqo; goto B4ZXM; hQALa: DFiG4: goto IMu8x; wHaPx: $info = curl_multi_info_read($this->curlMultiHandle); goto LEHDN; OSSmq: $mrc = curl_multi_exec($this->curlMultiHandle, $active); goto KX1He; Tt1KU: wKb3X: goto xaXVw; qYCae: $active = null; goto m3P0c; bup18: TmgwA: goto KFrDt; aE3vO: p56wc: goto MOPD2; d5rrj: $this->processResult($info); goto hQALa; FCRYy: if (!(curl_multi_select($this->curlMultiHandle) == -1)) { goto TmgwA; } goto qXNpa; LEHDN: if (!($info !== false)) { goto wwb16; } goto zJTnU; eDkos: yIRqo: goto u4geG; Cun1j: $mrc = curl_multi_exec($this->curlMultiHandle, $active); goto wHaPx; NKljF: bZJ3j: goto OF3Kz; IMu8x: if ($mrc == CURLM_CALL_MULTI_PERFORM) { goto PjpjX; } goto Tt1KU; qXNpa: usleep(1); goto bup18; KFrDt: XTDeH: goto Cun1j; KX1He: $info = curl_multi_info_read($this->curlMultiHandle); goto TpLQo; HFm0g: goto MLu0q; goto eDkos; OF3Kz: goto zK3lY; goto aE3vO; xbOXP: wwb16: goto IssAT; xaXVw: zK3lY: goto jleos; MOPD2: if (!(count($this->curlHandleInfo) == 0)) { goto WlqRi; } goto AY4D5; Fn5L3: eesSx: goto HFm0g; hvffI: MLu0q: goto qYCae; m3P0c: PjpjX: goto OSSmq; IssAT: if ($mrc == CURLM_CALL_MULTI_PERFORM) { goto XTDeH; } goto NKljF; jleos: if (!($active && $mrc == CURLM_OK)) { goto p56wc; } goto FCRYy; u4geG: } private function processResult($info) { goto yJ_pG; tSwMq: array_push($this->idleCurlHandle, $handle); goto h8I_b; vItgD: $response->statusCode = curl_getinfo($handle, CURLINFO_HTTP_CODE); goto U98S0; Yipz5: curl_multi_remove_handle($this->curlMultiHandle, $handle); goto tSwMq; iM5_j: $response->curlErrorCode = curl_errno($handle); goto e1Qw1; Kbhzr: $response->body = $body; goto dD7qN; fUwyp: call_user_func($done, $request, $response); goto PQzVy; oIUOO: xgzZN: goto Kbhzr; U98S0: $headLines = explode("\xd\12", $headerStr); goto itV5b; mzboX: goto ebAuQ; goto WtzLS; y3NEe: unset($this->curlHandleInfo[$handle]); goto Yipz5; Zxa33: $response->curlErrorCode = $result; goto KkvXF; xCEC2: $response = new HttpResponse(); goto P_XV2; OYfD0: $headerSize = curl_getinfo($handle, CURLINFO_HEADER_SIZE); goto kJJq_; HXsrR: $responseStr = curl_multi_getcontent($handle); goto OYfD0; dD7qN: call_user_func($done, $request, $response); goto mzboX; WtzLS: cdZgi: goto Zxa33; itV5b: foreach ($headLines as $head) { goto Gpp8J; E0mnI: $response->headers[trim($arr[0])] = trim($arr[1]); goto ZbO8C; Gpp8J: $arr = explode("\x3a", $head); goto Ysp2v; Ysp2v: if (!(count($arr) >= 2)) { goto B4lHo; } goto E0mnI; qUliq: zKYxl: goto IKgkk; ZbO8C: B4lHo: goto qUliq; IKgkk: } goto oIUOO; P_XV2: if ($result !== CURLE_OK) { goto cdZgi; } goto HXsrR; dyxK5: $request = $this->curlHandleInfo[$handle]["\162\x65\161\x75\145\163\164"]; goto BumKl; yJ_pG: $result = $info["\x72\145\163\165\154\164"]; goto G_qzm; KkvXF: $response->curlErrorMessage = curl_error($handle); goto fUwyp; PQzVy: ebAuQ: goto y3NEe; kJJq_: $headerStr = substr($responseStr, 0, $headerSize); goto o3dFV; o3dFV: $body = substr($responseStr, $headerSize); goto iM5_j; e1Qw1: $response->curlErrorMessage = curl_error($handle); goto vItgD; BumKl: $done = $this->curlHandleInfo[$handle]["\144\x6f\156\145"]; goto xCEC2; G_qzm: $handle = $info["\x68\x61\x6e\x64\x6c\145"]; goto dyxK5; h8I_b: } private function resetCurl($handle) { goto MkG6T; cdRk3: curl_setopt($handler, CURLOPT_SSL_VERIFYHOST, 0); goto awYvJ; aVqmv: curl_setopt($handler, CURLOPT_HTTPHEADER, array()); goto oZTF1; MkG6T: if (function_exists("\x63\165\x72\x6c\137\x72\x65\163\x65\164")) { goto IzOeI; } goto jHlpk; k_pCy: curl_setopt($handler, CURLOPT_SSL_VERIFYPEER, false); goto cdRk3; CgCoR: Fjbix: goto f1ABl; nb7pv: IzOeI: goto vSWHb; oZTF1: curl_setopt($handler, CURLOPT_POSTFIELDS, array()); goto R36S4; awYvJ: goto Fjbix; goto nb7pv; R36S4: curl_setopt($handler, CURLOPT_TIMEOUT, 0); goto k_pCy; jHlpk: curl_setopt($handler, CURLOPT_URL, ''); goto aVqmv; vSWHb: curl_reset($handle); goto CgCoR; f1ABl: } } goto qIWcA; j8bab: header("\x43\157\156\164\x65\x6e\x74\x2d\x54\x79\x70\x65\x3a\40\164\x65\170\164\x2f\160\x6c\141\x69\156\73\x20\x63\x68\141\162\163\x65\164\75\165\x74\146\x2d\x38"); goto hx1Hp; z2DQ_: $endpoints = array(); goto NCL0U; u1aXr: define("\x48\x54\x54\x50\137\x50\x52\117\x58\131\x5f\x49\120", "\61\x32\x37\x2e\60\x2e\x30\x2e\61"); goto oLfpS; IGefS: ini_set("\144\151\x73\x70\154\x61\x79\137\x65\162\162\157\162\163", 0); goto YLI65; Rjzyq: class EndpointProvider { private static $endpoints; public static function findProductDomain($regionId, $product) { goto oYt3d; qPO40: foreach (self::$endpoints as $key => $endpoint) { goto DIYr8; vMtuq: g0tEo: goto nTnRh; DIYr8: if (!in_array($regionId, $endpoint->getRegionIds())) { goto g0tEo; } goto F98KG; F98KG: return self::findProductDomainByProduct($endpoint->getProductDomains(), $product); goto vMtuq; nTnRh: Ck7mC: goto GpALi; GpALi: } goto uR99u; oYt3d: if (!(null == $regionId || null == $product || null == self::$endpoints)) { goto C1xvW; } goto C023q; inhvG: C1xvW: goto qPO40; C023q: return null; goto inhvG; uR99u: WPwe4: goto MEiSI; MEiSI: return null; goto pAofQ; pAofQ: } private static function findProductDomainByProduct($productDomains, $product) { goto zTVsP; l6KHm: foreach ($productDomains as $key => $productDomain) { goto cXfpY; cXfpY: if (!($product == $productDomain->getProductName())) { goto n55k_; } goto vcFy0; X4UsX: Exi0l: goto mnaRv; vcFy0: return $productDomain->getDomainName(); goto oDxs8; oDxs8: n55k_: goto X4UsX; mnaRv: } goto hlttp; QzjRx: MiV4j: goto l6KHm; Fj1gc: return null; goto Cr4sK; zTVsP: if (!(null == $productDomains)) { goto MiV4j; } goto t7jZY; hlttp: JwQmH: goto Fj1gc; t7jZY: return null; goto QzjRx; Cr4sK: } public static function getEndpoints() { return self::$endpoints; } public static function setEndpoints($endpoints) { self::$endpoints = $endpoints; } } goto CQhho; dLIcu: class DefaultAcsClient implements IAcsClient { public $iClientProfile; public $__urlTestFlag__; function __construct($iClientProfile) { $this->iClientProfile = $iClientProfile; $this->__urlTestFlag__ = false; } public function getAcsResponse($request, $iSigner = null, $credential = null, $autoRetry = true, $maxRetryNumber = 3) { goto gzOST; bV_h5: return $respObject; goto qwkfa; gzOST: $httpResponse = $this->doActionImpl($request, $iSigner, $credential, $autoRetry, $maxRetryNumber); goto N4UHu; Ckts9: $this->buildApiException($respObject, $httpResponse->getStatus()); goto NHp4X; N4UHu: $respObject = $this->parseAcsResponse($httpResponse->getBody(), $request->getAcceptFormat()); goto E9IdT; NHp4X: Edhqx: goto bV_h5; E9IdT: if (!(false == $httpResponse->isSuccess())) { goto Edhqx; } goto Ckts9; qwkfa: } private function doActionImpl($request, $iSigner = null, $credential = null, $autoRetry = true, $maxRetryNumber = 3) { goto PGQ6X; KKUWj: $credential = $this->iClientProfile->getCredential(); goto aFVtk; hWEE0: p1LRA: goto ZrMQj; V0lrn: $httpResponse = HttpHelper::curl($requestUrl, $request->getMethod(), $request->getContent(), $request->getHeaders()); goto Iugr6; tNF3B: $retryTimes = 1; goto VMSIp; BOGeV: o_HaW: goto JjHMo; edXYL: if (!(null == $iSigner)) { goto JKUWO; } goto s9yC1; r8xyY: if (count($request->getDomainParameter()) > 0) { goto n19zB; } goto V0lrn; s9yC1: $iSigner = $this->iClientProfile->getSigner(); goto L8YiD; WhMvU: throw new ClientException("\116\157\40\x61\143\164\151\x76\x65\40\x70\162\157\146\x69\154\x65\40\x66\157\165\x6e\144\x2e", "\x53\x44\x4b\x2e\111\x6e\x76\141\154\151\144\120\162\x6f\146\151\154\145"); goto eq4Jb; ijWJS: blkW2: goto vFMlf; kiTu3: if (!(500 <= $httpResponse->getStatus() && $autoRetry && $retryTimes < $maxRetryNumber)) { goto blkW2; } goto axi7J; ETOp1: j40lU: goto r8xyY; ZFVsI: if (count($request->getDomainParameter()) > 0) { goto o_HaW; } goto of53M; bgpN6: if (!(null == $domain)) { goto p1LRA; } goto YnuvA; qVwJV: $retryTimes++; goto VjmRB; PGQ6X: if (!(null == $this->iClientProfile && (null == $iSigner || null == $credential || null == $request->getRegionId() || null == $request->getAcceptFormat()))) { goto ax31l; } goto WhMvU; uMcG4: throw new ClientException($requestUrl, "\125\x52\114\x54\x65\x73\164\106\x6c\x61\147\111\163\x53\x65\164"); goto ETOp1; Xun7A: goto z33L2; goto BOGeV; L8YiD: JKUWO: goto Bv1r5; axi7J: $requestUrl = $request->composeUrl($iSigner, $credential, $domain); goto ZFVsI; VjmRB: goto tJWpg; goto ijWJS; JjHMo: $httpResponse = HttpHelper::curl($requestUrl, $request->getDomainParameter(), $request->getHeaders()); goto cYhOk; vFMlf: return $httpResponse; goto hscQZ; Bv1r5: if (!(null == $credential)) { goto YlAHr; } goto KKUWj; bHCy8: $request = $this->prepareRequest($request); goto ycrU1; eP6KB: dVir2: goto tNF3B; ZrMQj: $requestUrl = $request->composeUrl($iSigner, $credential, $domain); goto pfw3y; pfw3y: if (!$this->__urlTestFlag__) { goto j40lU; } goto uMcG4; VGQVI: n19zB: goto i03oM; of53M: $httpResponse = HttpHelper::curl($requestUrl, $request->getMethod(), $request->getContent(), $request->getHeaders()); goto Xun7A; aFVtk: YlAHr: goto bHCy8; Iugr6: goto dVir2; goto VGQVI; VMSIp: tJWpg: goto kiTu3; ycrU1: $domain = EndpointProvider::findProductDomain($request->getRegionId(), $request->getProduct()); goto bgpN6; i03oM: $httpResponse = HttpHelper::curl($requestUrl, $request->getMethod(), $request->getDomainParameter(), $request->getHeaders()); goto eP6KB; cYhOk: z33L2: goto qVwJV; YnuvA: throw new ClientException("\103\141\156\40\156\x6f\x74\40\146\x69\156\x64\40\145\x6e\x64\x70\157\151\x6e\x74\40\x74\x6f\x20\x61\x63\143\145\x73\x73\x2e", "\123\104\113\56\111\156\166\141\x6c\151\144\122\x65\147\151\x6f\x6e\111\144"); goto hWEE0; eq4Jb: ax31l: goto edXYL; hscQZ: } public function doAction($request, $iSigner = null, $credential = null, $autoRetry = true, $maxRetryNumber = 3) { trigger_error("\x64\x6f\x41\143\x74\x69\157\x6e\50\x29\40\x69\163\x20\144\145\160\x72\x65\143\141\164\x65\144\56\40\120\154\145\x61\x73\x65\40\x75\163\145\x20\x67\145\x74\x41\143\x73\122\145\163\160\157\156\163\145\x28\x29\40\151\156\x73\x74\145\141\x64\x2e", E_USER_NOTICE); return $this->doActionImpl($request, $iSigner, $credential, $autoRetry, $maxRetryNumber); } private function prepareRequest($request) { goto boazZ; TRx9i: $request->setMethod("\x47\x45\x54"); goto mfGeH; wiwc3: $request->setRegionId($this->iClientProfile->getRegionId()); goto dPyM0; VyOTj: if (!(null == $request->getAcceptFormat())) { goto lEzj5; } goto CVpA1; D2V39: return $request; goto qsN87; CVpA1: $request->setAcceptFormat($this->iClientProfile->getFormat()); goto bgAtX; aKEOF: if (!(null == $request->getMethod())) { goto fuuYQ; } goto TRx9i; dPyM0: rquek: goto VyOTj; bgAtX: lEzj5: goto aKEOF; mfGeH: fuuYQ: goto D2V39; boazZ: if (!(null == $request->getRegionId())) { goto rquek; } goto wiwc3; qsN87: } private function buildApiException($respObject, $httpStatus) { throw new ServerException($respObject->Message, $respObject->Code, $httpStatus, $respObject->RequestId); } private function parseAcsResponse($body, $format) { goto QPL6V; BV5aw: Xe10T: goto ICJi9; GXl9Y: G74yw: goto h_B82; QPL6V: if ("\x4a\123\117\x4e" == $format) { goto WYLKd; } goto KSqSB; ngf2H: F5x9k: goto yo2yg; yo2yg: return $respObject; goto y8gom; Be32B: if (!("\122\101\127" == $format)) { goto S9BsS; } goto evpUw; h_B82: $respObject = @simplexml_load_string($body); goto BV5aw; KSqSB: if ("\130\115\114" == $format) { goto G74yw; } goto Be32B; xBjr3: S9BsS: goto Uslfn; evpUw: $respObject = $body; goto xBjr3; Uslfn: goto Xe10T; goto GXl9Y; ICJi9: goto F5x9k; goto CGk4J; Daq5m: $respObject = json_decode($body); goto ngf2H; CGk4J: WYLKd: goto Daq5m; y8gom: } } goto IpDMO; C5x3h: class ShaHmac1Signer implements ISigner { public function signString($source, $accessSecret) { return base64_encode(hash_hmac("\x73\x68\x61\61", $source, $accessSecret, true)); } public function getSignatureMethod() { return "\110\115\x41\x43\55\x53\110\101\61"; } public function getSignatureVersion() { return "\61\56\60"; } } goto dU3Rt; kNS9X: class DefaultProfile implements IClientProfile { private static $profile; private static $endpoints; private static $credential; private static $regionId; private static $acceptFormat; private static $isigner; private static $iCredential; private function __construct($regionId, $credential) { self::$regionId = $regionId; self::$credential = $credential; } public static function getProfile($regionId, $accessKeyId, $accessSecret) { goto Wlm_p; HPndt: self::$profile = new DefaultProfile($regionId, $credential); goto VFt5r; Wlm_p: $credential = new Credential($accessKeyId, $accessSecret); goto HPndt; VFt5r: return self::$profile; goto RQHCP; RQHCP: } public function getSigner() { goto EeBEc; T_9Yg: self::$isigner = new ShaHmac1Signer(); goto W6yw4; O3xJA: return self::$isigner; goto aCni4; EeBEc: if (!(null == self::$isigner)) { goto AwW4Y; } goto T_9Yg; W6yw4: AwW4Y: goto O3xJA; aCni4: } public function getRegionId() { return self::$regionId; } public function getFormat() { return self::$acceptFormat; } public function getCredential() { goto f6Y45; OPkKV: return self::$credential; goto GzFcR; f6Y45: if (!(null == self::$credential && null != self::$iCredential)) { goto fYk3o; } goto qQGiP; P_zfg: fYk3o: goto OPkKV; qQGiP: self::$credential = self::$iCredential; goto P_zfg; GzFcR: } public static function getEndpoints() { goto Forrx; enwH_: self::$endpoints = EndpointProvider::getEndpoints(); goto Zg4ll; Forrx: if (!(null == self::$endpoints)) { goto Cl4HF; } goto enwH_; K9vCq: return self::$endpoints; goto gayOo; Zg4ll: Cl4HF: goto K9vCq; gayOo: } public static function addEndpoint($endpointName, $regionId, $product, $domain) { goto Yv6s6; gHycL: $endpoint = self::findEndpointByName($endpointName); goto DAPXN; DAPXN: if (null == $endpoint) { goto WsibH; } goto CduXQ; GIp9m: WsibH: goto yQ4fv; erjM6: goto Z1ThO; goto GIp9m; L1516: TFCTo: goto gHycL; yQ4fv: self::addEndpoint_($endpointName, $regionId, $product, $domain); goto veYQh; CduXQ: self::updateEndpoint($regionId, $product, $domain, $endpoint); goto erjM6; O1TC3: self::$endpoints = self::getEndpoints(); goto L1516; Yv6s6: if (!(null == self::$endpoints)) { goto TFCTo; } goto O1TC3; veYQh: Z1ThO: goto NH26O; NH26O: } public static function findEndpointByName($endpointName) { foreach (self::$endpoints as $key => $endpoint) { goto fQEDR; pIxxj: fwic4: goto fvi_m; NGGMO: return $endpoint; goto ewPOp; ewPOp: GhgwA: goto pIxxj; fQEDR: if (!($endpoint->getName() == $endpointName)) { goto GhgwA; } goto NGGMO; fvi_m: } baDhp: } private static function addEndpoint_($endpointName, $regionId, $product, $domain) { goto x50V7; x50V7: $regionIds = array($regionId); goto TrByd; TrByd: $productDomains = array(new ProductDomain($product, $domain)); goto DhT4B; K0iyq: array_push(self::$endpoints, $endpoint); goto KVX4B; DhT4B: $endpoint = new Endpoint($endpointName, $regionIds, $productDomains); goto K0iyq; KVX4B: } private static function updateEndpoint($regionId, $product, $domain, $endpoint) { goto b3SkR; fLYk7: cgPhx: goto vPz7i; Tg6pJ: Z6imU: goto BcrXY; Phowf: $endpoint->setRegionIds($regionIds); goto Tg6pJ; Mys3o: array_push($productDomains, new ProductDomain($product, $domain)); goto fLYk7; b3SkR: $regionIds = $endpoint->getRegionIds(); goto IXWcl; IXWcl: if (in_array($regionId, $regionIds)) { goto Z6imU; } goto JiNGy; qMwqD: if (!(null == self::findProductDomain($productDomains, $product, $domain))) { goto cgPhx; } goto Mys3o; JiNGy: array_push($regionIds, $regionId); goto Phowf; vPz7i: $endpoint->setProductDomains($productDomains); goto PCfTJ; BcrXY: $productDomains = $endpoint->getProductDomains(); goto qMwqD; PCfTJ: } private static function findProductDomain($productDomains, $product, $domain) { goto lmm1a; GCY09: return null; goto Ej0KU; lmm1a: foreach ($productDomains as $key => $productDomain) { goto dSx02; mlFRU: sE3sZ: goto wJ72c; yRT06: return $productDomain; goto mlFRU; wJ72c: ouXXs: goto l0PtO; dSx02: if (!($productDomain->getProductName() == $product && $productDomain->getDomainName() == $domain)) { goto sE3sZ; } goto yRT06; l0PtO: } goto Oh5Gy; Oh5Gy: C0dQe: goto GCY09; Ej0KU: } } goto vtBOQ; OqNcZ: class SendSmsRequest extends RpcAcsRequest { public function __construct() { parent::__construct("\x44\171\163\155\x73\141\x70\x69", "\x32\60\61\67\55\60\x35\x2d\x32\65", "\123\145\156\144\x53\x6d\163"); $this->setMethod("\x50\x4f\123\124"); } private $templateCode; private $phoneNumbers; private $signName; private $resourceOwnerAccount; private $templateParam; private $resourceOwnerId; private $ownerId; private $outId; private $smsUpExtendCode; public function getTemplateCode() { return $this->templateCode; } public function setTemplateCode($templateCode) { $this->templateCode = $templateCode; $this->queryParameters["\x54\145\155\x70\154\141\164\x65\x43\157\x64\x65"] = $templateCode; } public function getPhoneNumbers() { return $this->phoneNumbers; } public function setPhoneNumbers($phoneNumbers) { $this->phoneNumbers = $phoneNumbers; $this->queryParameters["\120\x68\x6f\156\x65\x4e\x75\x6d\142\x65\162\163"] = $phoneNumbers; } public function getSignName() { return $this->signName; } public function setSignName($signName) { $this->signName = $signName; $this->queryParameters["\x53\151\147\x6e\x4e\141\x6d\x65"] = $signName; } public function getResourceOwnerAccount() { return $this->resourceOwnerAccount; } public function setResourceOwnerAccount($resourceOwnerAccount) { $this->resourceOwnerAccount = $resourceOwnerAccount; $this->queryParameters["\122\145\163\157\x75\162\x63\145\117\167\x6e\x65\x72\x41\x63\143\157\165\x6e\164"] = $resourceOwnerAccount; } public function getTemplateParam() { return $this->templateParam; } public function setTemplateParam($templateParam) { $this->templateParam = $templateParam; $this->queryParameters["\x54\x65\155\x70\154\x61\x74\145\x50\x61\162\x61\155"] = $templateParam; } public function getResourceOwnerId() { return $this->resourceOwnerId; } public function setResourceOwnerId($resourceOwnerId) { $this->resourceOwnerId = $resourceOwnerId; $this->queryParameters["\x52\x65\x73\x6f\x75\x72\x63\x65\117\167\156\145\x72\x49\x64"] = $resourceOwnerId; } public function getOwnerId() { return $this->ownerId; } public function setOwnerId($ownerId) { $this->ownerId = $ownerId; $this->queryParameters["\x4f\167\x6e\x65\162\111\144"] = $ownerId; } public function getOutId() { return $this->outId; } public function setOutId($outId) { $this->outId = $outId; $this->queryParameters["\117\165\x74\111\144"] = $outId; } public function getSmsUpExtendCode() { return $this->smsUpExtendCode; } public function setSmsUpExtendCode($smsUpExtendCode) { $this->smsUpExtendCode = $smsUpExtendCode; $this->queryParameters["\123\x6d\163\x55\160\105\x78\x74\145\x6e\x64\x43\157\144\x65"] = $smsUpExtendCode; } } goto lM3wB; YLI65: define("\105\116\101\x42\x4c\x45\137\x48\124\124\120\137\x50\122\117\x58\x59", FALSE); goto u1aXr; kyO_l: class ClientException extends \Exception { function __construct($errorMessage, $errorCode) { goto QhR6H; xvLz5: $this->errorCode = $errorCode; goto u2WQJ; u2WQJ: $this->setErrorType("\103\x6c\151\145\x6e\x74"); goto E6qY8; FIlYR: $this->errorMessage = $errorMessage; goto xvLz5; QhR6H: parent::__construct($errorMessage); goto FIlYR; E6qY8: } private $errorCode; private $errorMessage; private $errorType; public function getErrorCode() { return $this->errorCode; } public function setErrorCode($errorCode) { $this->errorCode = $errorCode; } public function getErrorMessage() { return $this->errorMessage; } public function setErrorMessage($errorMessage) { $this->errorMessage = $errorMessage; } public function getErrorType() { return $this->errorType; } public function setErrorType($errorType) { $this->errorType = $errorType; } } goto rfTih; rfTih: interface ISigner { public function getSignatureMethod(); public function getSignatureVersion(); public function signString($source, $accessSecret); } goto C5x3h; dU3Rt: interface IAcsClient { public function doAction($requst); } goto dLIcu; Bxcmg: WwDuM: goto ZEU9D; oLfpS: define("\x48\x54\124\120\137\x50\122\117\x58\x59\137\x50\117\x52\x54", "\70\x38\70\x38"); goto tMfwm; u1abK: abstract class RpcAcsRequest extends AcsRequest { private $dateTimeFormat = "\x59\55\155\55\x64\134\124\110\72\151\72\163\x5c\132"; private $domainParameters = array(); function __construct($product, $version, $actionName) { parent::__construct($product, $version, $actionName); $this->initialize(); } private function initialize() { $this->setMethod("\x47\x45\124"); $this->setAcceptFormat("\x4a\123\x4f\116"); } private function prepareValue($value) { goto UTQnv; Ah6qG: lGEOE: goto nvBk2; UTQnv: if (is_bool($value)) { goto vBsGn; } goto C3D2N; C3D2N: return $value; goto LAhS3; LAhS3: goto z7GOx; goto btC4b; btC4b: vBsGn: goto qOT6X; nvBk2: return "\x74\x72\x75\145"; goto Gf5Xg; jxf8D: return "\x66\x61\154\x73\145"; goto gUNx_; qOT6X: if ($value) { goto lGEOE; } goto jxf8D; gUNx_: goto mWpYZ; goto Ah6qG; Gf5Xg: mWpYZ: goto BPb8Z; BPb8Z: z7GOx: goto ZVgzn; ZVgzn: } public function composeUrl($iSigner, $credential, $domain) { goto vdsp2; UAHJP: $apiParams["\124\151\155\145\x73\164\141\155\160"] = date($this->dateTimeFormat); goto WeXv6; Pw5Hu: return substr($requestUrl, 0, -1); goto hJFMQ; vdsp2: $apiParams = parent::getQueryParameters(); goto sttvj; sD3PS: $apiParams["\x53\x69\x67\x6e\141\164\x75\162\x65\115\x65\x74\150\x6f\144"] = $iSigner->getSignatureMethod(); goto EMFci; ZkzXH: $apiParams["\x56\145\162\163\x69\x6f\156"] = $this->getVersion(); goto nPYlv; wZ_2M: $apiParams["\106\157\162\x6d\141\x74"] = $this->getAcceptFormat(); goto sD3PS; Sj9P2: $apiParams["\x53\x69\147\x6e\141\x74\x75\x72\x65\x4e\x6f\156\143\145"] = uniqid(mt_rand(0, 0xffff), true); goto NtQAN; nPYlv: $apiParams["\x53\x69\x67\x6e\x61\164\165\162\x65"] = $this->computeSignature($apiParams, $credential->getAccessSecret(), $iSigner); goto kl4Ss; dJ3qd: yY9Yi: goto ibZ2Q; hJFMQ: goto zXvca; goto dJ3qd; DcT0j: $apiParams["\x41\x63\x63\145\163\x73\x4b\x65\x79\x49\144"] = $credential->getAccessKeyId(); goto wZ_2M; ibZ2Q: $requestUrl = $this->getProtocol() . "\72\x2f\x2f" . $domain . "\x2f"; goto AQKa1; WeXv6: $apiParams["\x41\x63\164\151\x6f\x6e"] = $this->getActionName(); goto ZkzXH; AQKa1: foreach ($apiParams as $apiParamKey => $apiParamValue) { $this->putDomainParameters($apiParamKey, $apiParamValue); htLoR: } goto rp2w5; AFulU: return $requestUrl; goto te3X6; jZmrw: Lssjv: goto v14Ts; te3X6: zXvca: goto y9X2v; rp2w5: L3HIP: goto AFulU; v14Ts: $apiParams["\122\x65\147\151\x6f\x6e\111\x64"] = $this->getRegionId(); goto DcT0j; kl4Ss: if (parent::getMethod() == "\x50\x4f\123\x54") { goto yY9Yi; } goto MCcwj; NtQAN: date_default_timezone_set("\107\115\124"); goto UAHJP; sttvj: foreach ($apiParams as $key => $value) { $apiParams[$key] = $this->prepareValue($value); C8Zuy: } goto jZmrw; haUfH: foreach ($apiParams as $apiParamKey => $apiParamValue) { $requestUrl .= "{$apiParamKey}\75" . urlencode($apiParamValue) . "\46"; LbVl9: } goto RKaiO; RKaiO: J1FBB: goto Pw5Hu; MCcwj: $requestUrl = $this->getProtocol() . "\72\x2f\57" . $domain . "\x2f\x3f"; goto haUfH; EMFci: $apiParams["\x53\x69\x67\156\141\x74\165\x72\145\x56\x65\162\163\151\157\x6e"] = $iSigner->getSignatureVersion(); goto Sj9P2; y9X2v: } private function computeSignature($parameters, $accessKeySecret, $iSigner) { goto eiDtm; JvYr7: $signature = $iSigner->signString($stringToSign, $accessKeySecret . "\x26"); goto futrh; RC3tP: foreach ($parameters as $key => $value) { $canonicalizedQueryString .= "\x26" . $this->percentEncode($key) . "\75" . $this->percentEncode($value); rrIzK: } goto SR1lI; diAlk: $canonicalizedQueryString = ''; goto RC3tP; futrh: return $signature; goto V5dLu; QPLB_: $stringToSign = parent::getMethod() . "\46\x25\62\x46\46" . $this->percentencode(substr($canonicalizedQueryString, 1)); goto JvYr7; SR1lI: o1PZy: goto QPLB_; eiDtm: ksort($parameters); goto diAlk; V5dLu: } protected function percentEncode($str) { goto Ahhux; nBX3J: $res = preg_replace("\x2f\x5c\x2b\57", "\x25\62\x30", $res); goto x3nf2; A6jir: return $res; goto hdIfG; Ahhux: $res = urlencode($str); goto nBX3J; zbZma: $res = preg_replace("\x2f\x25\67\x45\57", "\176", $res); goto A6jir; x3nf2: $res = preg_replace("\57\x5c\52\57", "\x25\62\x41", $res); goto zbZma; hdIfG: } public function getDomainParameter() { return $this->domainParameters; } public function putDomainParameters($name, $value) { $this->domainParameters[$name] = $value; } } goto OqNcZ; vtBOQ: abstract class AcsRequest { protected $version; protected $product; protected $actionName; protected $regionId; protected $acceptFormat; protected $method; protected $protocolType = "\150\164\x74\160"; protected $content; protected $queryParameters = array(); protected $headers = array(); function __construct($product, $version, $actionName) { goto im2N6; im2N6: $this->headers["\x78\55\x73\144\x6b\55\x63\154\x69\x65\x6e\164"] = "\x70\150\x70\57\62\56\60\56\x30"; goto sSt0R; ts0E6: $this->version = $version; goto XucAO; sSt0R: $this->product = $product; goto ts0E6; XucAO: $this->actionName = $actionName; goto bnuvY; bnuvY: } public abstract function composeUrl($iSigner, $credential, $domain); public function getVersion() { return $this->version; } public function setVersion($version) { $this->version = $version; } public function getProduct() { return $this->product; } public function setProduct($product) { $this->product = $product; } public function getActionName() { return $this->actionName; } public function setActionName($actionName) { $this->actionName = $actionName; } public function getAcceptFormat() { return $this->acceptFormat; } public function setAcceptFormat($acceptFormat) { $this->acceptFormat = $acceptFormat; } public function getQueryParameters() { return $this->queryParameters; } public function getHeaders() { return $this->headers; } public function getMethod() { return $this->method; } public function setMethod($method) { $this->method = $method; } public function getProtocol() { return $this->protocolType; } public function setProtocol($protocol) { $this->protocolType = $protocol; } public function getRegionId() { return $this->regionId; } public function setRegionId($region) { $this->regionId = $region; } public function getContent() { return $this->content; } public function setContent($content) { $this->content = $content; } public function addHeader($headerKey, $headerValue) { $this->headers[$headerKey] = $headerValue; } } goto u1abK; He1j0: class HttpResponse { public $curlErrorCode; public $curlErrorMessage; public $statusCode; public $headers; public $body; } goto KvtiL; ywodK: class ProductDomain { private $productName; private $domainName; function __construct($product, $domain) { $this->productName = $product; $this->domainName = $domain; } public function getProductName() { return $this->productName; } public function setProductName($productName) { $this->productName = $productName; } public function getDomainName() { return $this->domainName; } public function setDomainName($domainName) { $this->domainName = $domainName; } } goto Rjzyq; IpDMO: class Endpoint { private $name; private $regionIds; private $productDomains; function __construct($name, $regionIds, $productDomains) { goto FOBxB; FOBxB: $this->name = $name; goto pEAYP; UFUq0: $this->productDomains = $productDomains; goto uAqLG; pEAYP: $this->regionIds = $regionIds; goto UFUq0; uAqLG: } public function getName() { return $this->name; } public function setName($name) { $this->name = $name; } public function getRegionIds() { return $this->regionIds; } public function setRegionIds($regionIds) { $this->regionIds = $regionIds; } public function getProductDomains() { return $this->productDomains; } public function setProductDomains($productDomains) { $this->productDomains = $productDomains; } } goto ywodK; WoqVf: $json = json_encode($xml); goto Hd72Y; wRb_1: class HttpHelper { public static $connectTimeout = 30; public static $readTimeout = 80; public static function curl($url, $httpMethod = "\x47\x45\x54", $postFields = null, $headers = null) { goto Y0hM7; Y0hM7: $ch = curl_init(); goto YQA8A; EABlh: curl_setopt($ch, CURLOPT_TIMEOUT, self::$readTimeout); goto SeN7T; wKPuN: H2lGr: goto sc8hV; J3F8R: curl_setopt($ch, CURLOPT_URL, $url); goto mqfke; nIDZK: curl_setopt($ch, CURLOPT_PROXYAUTH, CURLAUTH_BASIC); goto gipSP; hmyND: $httpResponse->setStatus(curl_getinfo($ch, CURLINFO_HTTP_CODE)); goto GojBg; QBL4R: curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); goto JQVX1; Ad2F4: curl_setopt($ch, CURLOPT_PROXYTYPE, CURLPROXY_HTTP); goto Z5fVX; gipSP: curl_setopt($ch, CURLOPT_PROXY, HTTP_PROXY_IP); goto ly5LO; mqfke: curl_setopt($ch, CURLOPT_FAILONERROR, false); goto QBL4R; MwLKh: curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, false); goto gK9gX; babF2: $httpHeaders = self::getHttpHearders($headers); goto q1GN8; q1GN8: curl_setopt($ch, CURLOPT_HTTPHEADER, $httpHeaders); goto wKPuN; lvBhs: $httpResponse->setBody(curl_exec($ch)); goto hmyND; gK9gX: MbGWl: goto Mezcl; Ijgjx: AQiqu: goto IlzuJ; ly5LO: curl_setopt($ch, CURLOPT_PROXYPORT, HTTP_PROXY_PORT); goto Ad2F4; sc8hV: $httpResponse = new xcHttpResponse(); goto lvBhs; LoSBE: if (!ENABLE_HTTP_PROXY) { goto Er0vj; } goto nIDZK; Z5fVX: Er0vj: goto J3F8R; FeqrT: curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, self::$connectTimeout); goto Soaec; LgklK: throw new ClientException("\x53\x65\x72\x76\x65\x72\x20\165\156\x72\x65\141\x63\150\141\142\154\145\72\40\x45\162\x72\x6e\157\72\40" . curl_errno($ch) . "\x20" . curl_error($ch), "\x53\x44\x4b\56\x53\x65\162\x76\x65\162\x55\x6e\162\145\141\143\x68\141\x62\154\x65"); goto Ijgjx; B9zd_: return $httpResponse; goto SS8RV; YQA8A: curl_setopt($ch, CURLOPT_CUSTOMREQUEST, $httpMethod); goto LoSBE; JQVX1: curl_setopt($ch, CURLOPT_POSTFIELDS, is_array($postFields) ? self::getPostHttpBody($postFields) : $postFields); goto SqEG2; kxlRR: curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false); goto MwLKh; GojBg: if (!curl_errno($ch)) { goto AQiqu; } goto LgklK; hjprd: if (!(strlen($url) > 5 && strtolower(substr($url, 0, 5)) == "\x68\164\x74\160\163")) { goto MbGWl; } goto kxlRR; Mezcl: if (!(is_array($headers) && 0 < count($headers))) { goto H2lGr; } goto babF2; SeN7T: U7OLy: goto L73ra; IlzuJ: curl_close($ch); goto B9zd_; Soaec: LIU8_: goto hjprd; SqEG2: if (!self::$readTimeout) { goto U7OLy; } goto EABlh; L73ra: if (!self::$connectTimeout) { goto LIU8_; } goto FeqrT; SS8RV: } static function getPostHttpBody($postFildes) { goto mKfm6; uLK6l: return substr($content, 0, -1); goto BjV0X; Li7Eq: PZSzm: goto uLK6l; mKfm6: $content = ''; goto ZXPf2; ZXPf2: foreach ($postFildes as $apiParamKey => $apiParamValue) { $content .= "{$apiParamKey}\75" . urlencode($apiParamValue) . "\x26"; na0Pf: } goto Li7Eq; BjV0X: } static function getHttpHearders($headers) { goto tA5ht; PxsgM: return $httpHeader; goto P3Q9U; aqKeu: gTIOM: goto PxsgM; tA5ht: $httpHeader = array(); goto Sno_M; Sno_M: foreach ($headers as $key => $value) { array_push($httpHeader, $key . "\72" . $value); yuK1B: } goto aqKeu; P3Q9U: } } goto kyO_l; NCL0U: foreach ($json_array["\x45\156\144\x70\157\151\156\x74"] as $json_endpoint) { goto vs9cO; U0nvX: if (array_keys($json_products) !== range(0, count($json_products) - 1)) { goto d8x5o; } goto NGQN0; U2M2n: $json_products = $json_endpoint["\x50\x72\x6f\144\x75\143\164\163"]["\x50\162\x6f\x64\x75\x63\x74"]; goto jY9nr; y9VWK: u26RJ: goto iWpwZ; lSkgJ: if (!array_key_exists("\x50\162\x6f\144\165\x63\164", $json_endpoint["\x50\162\157\x64\165\143\164\x73"])) { goto Retc4; } goto U2M2n; unLuf: if (!is_array($json_region_ids)) { goto u26RJ; } goto QobGJ; qhtkk: goto RSYb8; goto y9VWK; OzWvX: Ohn_Z: goto ptJ35; QobGJ: $region_ids = $json_region_ids; goto qhtkk; M6TnH: $products = array(); goto vUYAh; NGQN0: $products = $json_products; goto Zv658; Zv658: goto fUNtm; goto i1X64; W6oC9: fUNtm: goto aDaLX; vUYAh: OJvEE: goto TEapl; iWpwZ: $region_ids = array($json_region_ids); goto TvK3D; TvK3D: RSYb8: goto JJC8W; ptJ35: $region_ids = array(); goto MIBqz; mBMVN: oULfs: goto zP3ku; D_umC: array_push($endpoints, $endpoint); goto gnLUZ; kRwpe: goto OJvEE; goto PYH7X; MIBqz: rRpaM: goto lSkgJ; jY9nr: if (array() === $json_products or !is_array($json_products)) { goto oULfs; } goto U0nvX; rofCO: ouJxz: goto RPhXM; sIFjk: foreach ($products as $product) { goto QpmvG; U5Znp: array_push($product_domains, $product_domain); goto okt7g; okt7g: oCEU4: goto eWTKh; QpmvG: $product_domain = new ProductDomain($product["\120\162\157\144\165\x63\x74\x4e\141\155\x65"], $product["\x44\157\x6d\141\151\x6e\x4e\141\155\145"]); goto U5Znp; eWTKh: } goto rofCO; aDaLX: goto jur0I; goto mBMVN; TEapl: $product_domains = array(); goto sIFjk; RPhXM: $endpoint = new Endpoint($region_ids[0], $region_ids, $product_domains); goto D_umC; kDYey: $products = array($json_products); goto W6oC9; PYH7X: Retc4: goto M6TnH; JJC8W: goto rRpaM; goto OzWvX; vs9cO: if (!array_key_exists("\x52\x65\x67\x69\157\x6e\x49\x64", $json_endpoint["\122\145\147\151\157\156\111\144\163"])) { goto Ohn_Z; } goto fEWCv; gnLUZ: hduWD: goto h6Lnr; U3l9Z: jur0I: goto kRwpe; fEWCv: $json_region_ids = $json_endpoint["\x52\x65\x67\151\157\x6e\x49\144\163"]["\122\x65\147\151\157\x6e\111\144"]; goto unLuf; i1X64: d8x5o: goto kDYey; zP3ku: $products = array(); goto U3l9Z; h6Lnr: } goto Bxcmg; y6sNj: $xml = simplexml_load_string(file_get_contents($endpoint_filename)); goto WoqVf; qIWcA: class xcHttpResponse { private $body; private $status; public function getBody() { return $this->body; } public function setBody($body) { $this->body = $body; } public function getStatus() { return $this->status; } public function setStatus($status) { $this->status = $status; } public function isSuccess() { goto KgSUV; OuGJr: return true; goto GtRaO; VUIA1: return false; goto lXC5L; KgSUV: if (!(200 <= $this->status && 300 > $this->status)) { goto KVmoG; } goto OuGJr; GtRaO: KVmoG: goto VUIA1; lXC5L: } } goto wRb_1; hx1Hp: $endpoint_filename = dirname(__FILE__) . DIRECTORY_SEPARATOR . "\x65\156\144\x70\157\x69\156\164\163\56\x78\x6d\x6c"; goto y6sNj; lM3wB: class xcap_SmsDemo { static $acsClient = null; public static function getAcsClient($AccessKeyId, $AccessKeySecret) { goto Juau3; KuaDY: DefaultProfile::addEndpoint($endPointName, $region, $product, $domain); goto UinKP; q8H0S: Uudx8: goto KTmmw; UinKP: static::$acsClient = new DefaultAcsClient($profile); goto q8H0S; KTmmw: return static::$acsClient; goto Q6V6K; Cm9d8: $domain = "\144\171\163\155\163\141\x70\151\x2e\x61\154\x69\x79\165\x6e\143\x73\56\143\x6f\155"; goto Dl3f3; AfcNB: $accessKeySecret = $AccessKeySecret; goto g3Ba9; Dl3f3: $accessKeyId = $AccessKeyId; goto AfcNB; Juau3: $product = "\x44\x79\x73\155\x73\141\160\x69"; goto Cm9d8; HCjZg: $profile = DefaultProfile::getProfile($region, $accessKeyId, $accessKeySecret); goto KuaDY; nxD4Y: $endPointName = "\143\x6e\55\150\141\156\x67\x7a\150\157\x75"; goto tWG_T; tWG_T: if (!(static::$acsClient == null)) { goto Uudx8; } goto HCjZg; g3Ba9: $region = "\x63\156\x2d\x68\141\x6e\x67\172\150\157\165"; goto nxD4Y; Q6V6K: } public static function sendSms($AccessKeyId, $AccessKeySecret, $signName, $templateCode, $phoneNumbers, $templateParam = null, $outId = null, $smsUpExtendCode = null) { goto YGl2t; uIBF0: $acsResponse = static::getAcsClient($AccessKeyId, $AccessKeySecret)->getAcsResponse($request); goto uZUJP; oROlW: G8F7L: goto Gh0pd; xhHOG: $request->setSignName($signName); goto axTjZ; lY2ri: Nxrmo: goto uIBF0; YGl2t: $request = new SendSmsRequest(); goto L4Z2q; GgY51: $request->setTemplateParam(json_encode($templateParam)); goto jtQah; uZUJP: return $acsResponse; goto kcBKB; jgI_1: $request->setOutId($outId); goto oROlW; coo5n: $request->setSmsUpExtendCode($smsUpExtendCode); goto lY2ri; L4Z2q: $request->setPhoneNumbers($phoneNumbers); goto xhHOG; kKsq3: if (!$templateParam) { goto kt4Bp; } goto GgY51; jtQah: kt4Bp: goto HUGEW; axTjZ: $request->setTemplateCode($templateCode); goto kKsq3; Gh0pd: if (!$smsUpExtendCode) { goto Nxrmo; } goto coo5n; HUGEW: if (!$outId) { goto G8F7L; } goto jgI_1; kcBKB: } public function queryDetails($phoneNumbers, $sendDate, $pageSize = 10, $currentPage = 1, $bizId = null) { goto dgctf; Ljr89: return $acsResponse; goto Rmcmc; j_0TZ: $request->setBizId($bizId); goto f0ixR; uUhpf: $acsResponse = static::getAcsClient()->getAcsResponse($request); goto Ljr89; f0ixR: $request->setSendDate($sendDate); goto UYw3R; dgctf: $request = new QuerySendDetailsRequest(); goto tY34O; t1j3c: $request->setCurrentPage($currentPage); goto uUhpf; tY34O: $request->setPhoneNumber($phoneNumbers); goto j_0TZ; UYw3R: $request->setPageSize($pageSize); goto t1j3c; Rmcmc: } } goto FYqaX; DYS8h: error_reporting(0); goto IGefS; CQhho: class Credential { private $dateTimeFormat = "\x59\55\x6d\x2d\144\x5c\124\110\72\151\x3a\163\x5c\x5a"; private $refreshDate; private $expiredDate; private $accessKeyId; private $accessSecret; private $securityToken; function __construct($accessKeyId, $accessSecret) { goto hKmDS; hKmDS: $this->accessKeyId = $accessKeyId; goto AIREB; iP2le: $this->refreshDate = date($this->dateTimeFormat); goto MgOsA; AIREB: $this->accessSecret = $accessSecret; goto iP2le; MgOsA: } public function isExpired() { goto kOlv4; HPuEJ: return true; goto yDEOx; pm63L: return false; goto OAJrE; OAJrE: U3bNi: goto HPuEJ; sTppW: return false; goto Of1tA; CU9X4: if (!(strtotime($this->expiredDate) > date($this->dateTimeFormat))) { goto U3bNi; } goto pm63L; Of1tA: tXI1Y: goto CU9X4; kOlv4: if (!($this->expiredDate == null)) { goto tXI1Y; } goto sTppW; yDEOx: } public function getRefreshDate() { return $this->refreshDate; } public function getExpiredDate() { return $this->expiredDate; } public function setExpiredDate($expiredHours) { goto mRDJs; CBMKU: qJBPP: goto MMc_o; x0S2A: return $this->expiredDate = date($this->dateTimeFormat, strtotime("\53" . $expiredHours . "\40\150\x6f\165\x72")); goto CBMKU; mRDJs: if (!($expiredHours > 0)) { goto qJBPP; } goto x0S2A; MMc_o: } public function getAccessKeyId() { return $this->accessKeyId; } public function setAccessKeyId($accessKeyId) { $this->accessKeyId = $accessKeyId; } public function getAccessSecret() { return $this->accessSecret; } public function setAccessSecret($accessSecret) { $this->accessSecret = $accessSecret; } } goto jhRRj; FYqaX: set_time_limit(0); goto j8bab; tMfwm: class HttpRequest { public $timeoutMs; public $url; public $method; public $customHeaders; public $dataToPost; public $userData; } goto He1j0; ZEU9D: EndpointProvider::setEndpoints($endpoints);