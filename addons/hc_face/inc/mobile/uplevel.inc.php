<?php
 goto LgO1F; C1mLj: $data["\156\x6f\x74\x69\x66\171\x5f\165\x72\x6c"] = $notify_url; goto zYO6o; S9uPk: if (!($level == 2)) { goto LAZ_i; } goto Xunzq; piG9A: $paydata["\165\151\x64"] = $openid; goto fXJ_I; RWupi: $notify_url = $_W["\x73\151\164\x65\x72\x6f\x6f\x74"] . "\141\144\144\157\156\x73\57\150\x63\137\146\x61\143\x65\x2f\x75\160\154\145\166\145\x6c\x2e\160\150\x70"; goto FZ48q; gVWBV: require_once IA_ROOT . "\x2f\141\144\x64\157\156\163\x2f\150\143\x5f\x66\x61\x63\145\57\151\x6e\x63\57\x6d\157\x64\145\x6c\x2f\146\165\x6e\x63\164\151\157\x6e\163\56\x70\150\x70"; goto L3PYC; opYCk: $geturl = fastpay_order($paydata); goto i013q; WvijE: $model = new HcfkModel(); goto ICX25; lVheU: IBsDO: goto i10ET; vffJz: $datas["\160\141\171\x53\x69\147\156"] = $model->MakeSign($datas, $wechat_payment["\x73\151\x67\156\153\x65\x79"]); goto O2HcZ; zUCoR: $paydata["\160\141\162\141\155"] = $weid; goto S3O69; NSwLQ: $data["\x73\x70\142\151\x6c\x6c\x5f\x63\x72\x65\x61\164\x65\137\x69\x70"] = $model->get_client_ip(); goto UkTaL; i9WQ8: $wechat_payment = array("\x61\160\160\151\x64" => $_W["\x61\x63\143\157\x75\x6e\164"]["\x6b\x65\171"], "\x73\x69\x67\156\153\x65\x79" => $setting["\160\x61\171\x6d\145\156\x74"]["\167\145\x63\150\x61\x74"]["\163\x69\147\156\x6b\x65\x79"], "\x6d\143\x68\151\x64" => $setting["\160\141\171\155\145\156\x74"]["\x77\145\x63\150\141\164"]["\x6d\x63\x68\151\144"]); goto DbACN; UkTaL: $data["\x74\157\x74\141\154\x5f\146\x65\x65"] = $params["\160\x72\151\143\x65"] * 100; goto Svtw2; Duxsl: goto MRH30; goto PB12R; b04RY: $setting = uni_setting($weid, array("\x70\x61\x79\155\145\156\x74")); goto i9WQ8; Svtw2: $data["\164\162\141\x64\145\137\x74\171\x70\145"] = "\x4a\x53\x41\120\x49"; goto mrOfE; Dg9xh: $ress = $model->xmlstr_to_array($response); goto lkj05; FXo7D: define("\x53\105\x43\x52\x45\124\137\x4b\x45\131", $pay["\163\x65\143\x72\x65\x74\153\145\171"]); goto Xl3CK; u_wLI: if (empty($fenxiao[grade][1][grade])) { goto P7MZc; } goto CVyap; S3O69: $paydata["\155\145\x5f\x62\x61\x63\x6b\x5f\x75\x72\x6c"] = $_W["\x73\151\x74\x65\x73\x63\x68\x65\155\x65"] . $_SERVER["\x48\x54\x54\120\137\x48\x4f\x53\124"] . "\57\x61\x70\x70\x2f\x69\x6e\x64\x65\170\56\160\150\x70\77\151\x3d" . $_W["\165\x6e\x69\x61\143\151\x64"] . "\46\x63\75\x65\156\x74\x72\x79\x26\144\x6f\75\x75\160\147\162\141\x64\145\46\155\75\x68\143\137\146\x61\143\145"; goto zYaP_; HfVn8: if (empty($fenxiao[grade][2][grade])) { goto YSDCQ; } goto FQXnZ; gy5ml: exit(json_encode(array("\143\157\144\145" => 0, "\155\163\147" => $ress["\x72\145\x74\165\162\x6e\137\x6d\163\x67"]))); goto vCfHZ; mysDZ: $title = "\xe5\220\210\344\274\231\xe4\xba\272"; goto Je7zE; mWU5B: WQZIs: goto u_wLI; zm2C3: $fenxiao = json_decode(pdo_getcolumn("\150\143\x66\141\x63\x65\x5f\163\x65\164\x74\x69\x6e\x67", array("\157\156\154\171" => "\x66\145\x6e\x78\x69\141\157" . $weid), array("\166\141\x6c\x75\x65")), "\x74\162\165\x65"); goto uBmc_; W3j7R: if ($res) { goto AdpM_; } goto F4EYu; swKw7: $data["\142\x6f\x64\171"] = "\344\xbc\232\xe5\221\230\345\215\x87\xe7\272\xa7"; goto pYNzj; ctSPr: pHOdX: goto oMKcj; pZOCa: $data["\163\x69\147\x6e"] = $model->getSign($data, $wechat_payment["\163\x69\147\156\153\x65\x79"]); goto SJoC_; OCBUu: $url = "\150\x74\x74\x70\x73\72\x2f\57\141\x70\151\56\155\x63\150\56\167\145\x69\170\x69\156\56\161\x71\x2e\x63\x6f\x6d\x2f\x70\x61\x79\x2f\x75\x6e\151\x66\151\145\x64\x6f\x72\x64\145\x72"; goto VXAvz; t2dtR: if (!($ress["\162\x65\163\165\x6c\164\x5f\x63\x6f\144\145"] == "\106\101\111\114")) { goto sZxCu; } goto bF6Lg; c4CEK: pWRpk: goto HfVn8; XHPKP: $data["\x6e\x6f\x6e\x63\x65\137\163\x74\162"] = $model->getRandChar(32); goto C1mLj; zYaP_: $paydata["\156\x6f\164\x69\x66\x79\137\x75\x72\154"] = $_W["\163\x69\x74\145\x73\143\x68\x65\x6d\145"] . $_SERVER["\110\124\124\x50\137\x48\117\123\124"] . "\57\x61\x64\144\157\x6e\x73\57\150\143\x5f\146\141\143\x65\x2f\165\160\154\x65\166\x65\154\x32\56\x70\x68\160\77\x69\x3d" . $_W["\x75\156\151\x61\x63\x69\x64"]; goto opYCk; SJoC_: $xml = $model->arrayToXml($data); goto vr8Ct; ML4G0: Hd84w: goto LUhyV; imJLE: Q4Jtr: goto TQqcl; asjP7: $uid = $_COOKIE["\165\151\144"]; goto NWdfF; p04Ea: exit(json_encode(array("\x63\x6f\144\145" => 0, "\x6d\163\x67" => $ress["\162\x65\164\165\162\x6e\137\x6d\163\x67"]))); goto APsou; tiPNd: $level = $_GPC["\154\x65\166\x65\x6c"]; goto zm2C3; Iu764: $title = "\xe4\273\243\xe7\x90\x86"; goto XEF6l; BtIsd: AdpM_: goto RuHPy; DqgdY: $data["\x73\x70\x62\x69\154\x6c\137\x63\x72\x65\141\x74\145\x5f\151\x70"] = $model->get_client_ip(); goto lBmXn; Gt1SX: NoXoj: goto kFrm2; OZvVi: $weid = $_W["\x75\x6e\x69\x61\x63\x69\x64"]; goto BdrIQ; Xvo5g: return $this->result(1, "\346\x93\215\344\xbd\x9c\xe5\xa4\xb1\350\xb4\245", $ress["\145\x72\x72\137\x63\x6f\144\145"] . $ress["\145\162\x72\x5f\x63\157\x64\x65\x5f\x64\x65\163"]); goto Gt1SX; zYO6o: $data["\x6f\x75\x74\137\x74\x72\x61\x64\145\137\156\x6f"] = $trade_no; goto DqgdY; kFrm2: if ($ress["\162\145\x74\165\162\x6e\137\x63\157\144\x65"] == "\x53\x55\x43\103\105\123\123") { goto IBsDO; } goto WrLbZ; H4Fxd: $datas["\160\141\143\153\x61\x67\145"] = "\x70\162\145\x70\x61\171\137\x69\x64\75" . $ress["\x70\x72\145\x70\x61\171\137\151\x64"]; goto p9dfo; uh9ct: $notify_url = $_W["\x73\x69\x74\145\162\157\157\164"] . "\x61\x64\144\x6f\156\163\57\150\143\137\x66\141\143\x65\57\165\160\x6c\x65\166\x65\154\x2e\x70\x68\160"; goto WvijE; xRGUF: if (!function_exists("\x67\x65\164\x5f\x6f\160\x65\156\x69\x64")) { require IA_ROOT . "\x2f\x61\144\x64\157\156\x73\x2f\150\x63\137\x66\x61\x63\x65\x2f\146\x61\163\164\160\141\x79\x2f\x46\141\x73\164\x5f\103\157\x66\x69\147\56\160\150\x70"; } goto AuBrO; pYNzj: $data["\x61\x74\x74\141\x63\x68"] = $openid; goto dzPJv; O_R48: goto ytrdo; goto BtIsd; OlAUS: $params = array("\x77\x65\151\144" => $weid, "\x74\151\x74\154\145" => $title, "\x74\162\x61\144\x65\137\x6e\x6f" => $trade_no, "\x75\151\x64" => $uid, "\157\160\145\156\151\x64" => $openid, "\160\x72\151\143\x65" => $fee, "\x6c\x65\x76\145\x6c" => $level + 1, "\x63\x72\145\141\x74\x65\164\151\155\145" => time()); goto Ugpvj; Xunzq: if (empty($fenxiao[grade][2][money])) { goto t2KEC; } goto CPiNX; ch0uI: goto bPaiB; goto G33zy; HM12v: $response = $model->postXmlCurl($xml, $url); goto hqPKY; lBmXn: $data["\164\157\x74\141\154\137\x66\145\145"] = $params["\160\162\151\x63\145"] * 100; goto KRehs; PanP8: LAZ_i: goto OlAUS; eRb7v: uJfI6: goto S9uPk; yo2j1: goto WQZIs; goto ML4G0; PpBkM: if ($ress["\162\x65\x74\x75\162\156\x5f\143\157\x64\145"] == "\123\x55\103\x43\x45\123\x53") { goto Q4Jtr; } goto jT42o; BhnL0: $data["\x61\160\x70\151\144"] = $wechat_payment["\141\160\x70\x69\x64"]; goto gZNKp; jZwO3: goto pHOdX; goto qzSlm; oMKcj: ytrdo: goto HhqZx; mrOfE: $data["\x6f\160\145\x6e\x69\x64"] = $openid; goto pZOCa; vFQew: load()->model("\141\x63\x63\x6f\165\x6e\164"); goto b04RY; o53K6: if (empty($fenxiao[grade][1][money])) { goto Hd84w; } goto yCDWx; hqPKY: $ress = $model->xmlstr_to_array($response); goto KgeQm; lkj05: if (!($ress["\162\145\x74\165\162\x6e\x5f\143\157\144\145"] == "\x46\101\x49\x4c")) { goto WYcYn; } goto gy5ml; RuHPy: load()->model("\x70\x61\x79\x6d\145\156\164"); goto vFQew; KRehs: $data["\164\162\141\144\x65\137\x74\x79\160\145"] = "\115\x57\x45\x42"; goto Uz0xq; Z4Hy4: t2KEC: goto T2DqD; ICX25: $url = "\150\x74\x74\160\163\x3a\x2f\57\x61\160\151\x2e\155\x63\150\56\x77\x65\x69\170\151\x6e\56\x71\161\x2e\143\x6f\155\x2f\x70\x61\171\57\x75\156\x69\x66\x69\145\x64\157\162\144\145\162"; goto BhnL0; G33zy: phMhM: goto W3j7R; Pg4sj: P7MZc: goto Iu764; p9dfo: $datas["\x73\x69\147\156\x54\x79\x70\145"] = "\115\x44\x35"; goto OBUIz; fXJ_I: $paydata["\157\162\x64\x65\162\137\156\157"] = $trade_no; goto Z6AbN; Je7zE: MRH30: goto PanP8; OBUIz: $datas["\164\x69\x6d\145\x53\x74\x61\155\160"] = time() . ''; goto vffJz; FQXnZ: $title = $fenxiao[grade][2][grade]; goto Duxsl; Xl3CK: $paydata = array(); goto piG9A; Ugpvj: $res = pdo_insert("\x68\143\146\141\143\145\137\165\x70\147\162\141\144\x65", $params); goto Uvv9x; FZ48q: $model = new HcfkModel(); goto OCBUu; F4EYu: exit(json_encode(array("\143\x6f\144\x65" => 0, "\155\163\x67" => "\350\264\255\xe4\271\xb0\xe5\244\xb1\xe8\xb4\245"))); goto O_R48; gZNKp: $data["\142\157\144\x79"] = "\xe4\274\x9a\xe5\221\230\345\215\207\347\xba\247"; goto fsOGi; XEF6l: V8vdI: goto eRb7v; VXAvz: $data["\x61\x70\160\151\x64"] = $wechat_payment["\x61\160\x70\151\x64"]; goto swKw7; Q08xS: sZxCu: goto PpBkM; IpwBa: QtP8U: goto ctSPr; vr8Ct: $response = $model->postXmlCurl($xml, $url); goto Dg9xh; GHMbx: goto dsZFz; goto lVheU; KgeQm: if (!($ress["\162\x65\164\165\x72\156\x5f\143\157\144\x65"] == "\x46\x41\x49\x4c")) { goto EZWsF; } goto p04Ea; Z6AbN: $paydata["\x74\157\164\x61\154\x5f\146\145\145"] = $fee; goto zUCoR; dzPJv: $data["\155\143\150\137\151\144"] = $wechat_payment["\155\143\150\151\x64"]; goto XHPKP; L3PYC: global $_GPC, $_W; goto OZvVi; Uz0xq: $data["\163\151\x67\156"] = $model->getSign($data, $wechat_payment["\x73\151\x67\156\x6b\x65\171"]); goto GdvKb; BdrIQ: $trade_no = date("\131\155\x64\110\x69\163") . rand(1000, 9999); goto asjP7; yCDWx: $fee = $fenxiao[grade][1][money]; goto yo2j1; qzSlm: FJ32C: goto uh9ct; bF6Lg: return $this->result(1, "\xe6\x93\215\xe4\xbd\x9c\xe5\xa4\261\xe8\264\xa5", $ress["\x65\162\x72\x5f\143\x6f\x64\145"] . $ress["\x65\x72\162\137\x63\x6f\x64\145\x5f\x64\x65\163"]); goto Q08xS; O2HcZ: exit(json_encode($datas)); goto IpwBa; PvlRF: goto V8vdI; goto Pg4sj; i10ET: exit(json_encode($ress)); goto wrTyB; ZmhtZ: goto QtP8U; goto imJLE; jT42o: exit(json_encode(array("\143\157\x64\145" => 0, "\155\163\x67" => "\346\223\x8d\xe4\275\234\xe5\xa4\xb1\350\xb4\245"))); goto ZmhtZ; EXeJX: $data["\156\x6f\x6e\143\145\x5f\x73\x74\162"] = $model->getRandChar(32); goto cUOlq; CPiNX: $fee = $fenxiao[grade][2][money]; goto FItVv; TQqcl: $datas["\x61\x70\160\x49\x64"] = $wechat_payment["\x61\160\160\151\144"]; goto h54Fw; APsou: EZWsF: goto KS2s3; GdvKb: $xml = $model->arrayToXml($data); goto HM12v; DbACN: if (strpos($_SERVER["\110\x54\124\x50\137\125\x53\x45\x52\137\x41\107\105\x4e\x54"], "\x4d\151\143\162\157\115\145\x73\x73\145\x6e\x67\x65\x72") !== false) { goto FJ32C; } goto RWupi; T2DqD: $fee = "\x31\x39\56\71"; goto c4CEK; WrLbZ: exit(json_encode(array("\143\157\144\x65" => 0, "\x6d\163\147" => "\346\x93\x8d\344\275\234\345\xa4\xb1\350\xb4\245"))); goto GHMbx; AuBrO: define("\106\101\x53\124\137\x41\x50\120\113\105\x59", $pay["\x61\x70\x70\153\145\171"]); goto FXo7D; CVyap: $title = $fenxiao[grade][1][grade]; goto PvlRF; NWdfF: $openid = pdo_getcolumn("\150\143\146\141\143\x65\x5f\x75\x73\x65\162\x73", array("\x75\151\x64" => $uid), array("\x6f\160\145\x6e\x69\x64")); goto tiPNd; fsOGi: $data["\x6d\143\150\137\x69\x64"] = $wechat_payment["\155\x63\x68\x69\x64"]; goto EXeJX; i013q: exit(json_encode(array("\143\157\x64\145" => 1, "\x6d\x73\x67" => "\xe6\223\215\xe4\xbd\234\346\x88\x90\xe5\212\x9f", "\165\162\154" => $geturl))); goto ch0uI; LUhyV: $fee = "\x39\x2e\x39"; goto mWU5B; LgO1F: defined("\x49\116\137\111\101") or exit("\x41\x63\x63\x65\163\163\40\104\x65\x6e\x69\145\144"); goto gVWBV; h54Fw: $datas["\156\x6f\x6e\x63\145\123\164\162"] = $model->getRandChar(32); goto H4Fxd; XBNi1: if (!($level == 1)) { goto uJfI6; } goto o53K6; Uvv9x: if ($pay["\160\x61\171\x74\x79\x70\145"] != 1) { goto phMhM; } goto xRGUF; cUOlq: $data["\156\x6f\164\x69\x66\171\x5f\165\162\154"] = $notify_url; goto F9HCs; uBmc_: $pay = json_decode(pdo_getcolumn("\x68\143\146\141\143\x65\137\163\145\164\164\x69\x6e\147", array("\157\156\x6c\x79" => "\x70\141\171" . $weid), array("\166\141\x6c\165\x65")), "\x74\162\x75\x65"); goto XBNi1; vCfHZ: WYcYn: goto t2dtR; F9HCs: $data["\157\165\164\137\164\x72\141\144\x65\137\x6e\x6f"] = $trade_no; goto NSwLQ; wrTyB: dsZFz: goto jZwO3; KS2s3: if (!($ress["\x72\x65\x73\165\154\x74\137\x63\157\x64\x65"] == "\x46\101\x49\114")) { goto NoXoj; } goto Xvo5g; PB12R: YSDCQ: goto mysDZ; FItVv: goto pWRpk; goto Z4Hy4; HhqZx: bPaiB: